(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{CFoE:function(t,e,a){"use strict";var i=a("tQH2"),s=a.n(i);s.a},ZAdF:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.pager.total>0,expression:"pager.total > 0"}],attrs:{layout:"total, sizes, prev, pager, next, jumper","page-sizes":t.$api.pageSizes,"page-size":t.pager.rows,"current-page":t.pager.page,total:t.pager.total},on:{"size-change":t.sizeChange,"current-change":t.pageChange,"update:pageSize":function(e){t.$set(t.pager,"rows",e)},"update:currentPage":function(e){t.$set(t.pager,"page",e)}}})},s=[],l=(a("xfY5"),a("pIFo"),{name:"pagination",components:{},props:{pager:{type:Object,default:function(){return{page:1,rows:10,total:0}}}},data:function(){return{}},methods:{sizeChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;this.$storage.local.set(this.$route.path+"-table_rows",t),this.$emit("change",1,t)},pageChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$utils.history.replace(this.$utils.url.setArgs(this.$route.fullPath,"_page",t)),this.$emit("change",t,this.pager.rows)},initPager:function(){var t=this.$storage.local.get(this.$route.path+"-table_rows"),e=Number(this.$route.query._page)||1;t&&(this.pager.rows=t),e&&(this.pager.page=e)}},mounted:function(){this.initPager()}}),n=l,r=(a("CFoE"),a("KHd+")),o=Object(r["a"])(n,i,s,!1,null,"d7519360",null);e["a"]=o.exports},mhFQ:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"l-h100"},[a("el-header",{staticClass:"l-padding-0 l-bg-white",attrs:{height:"auto"}},[a("div",{staticClass:"l-filter-top"},[a("ul",{staticClass:"l-tab-tit"},t._l(t.tabList,function(e,i){return a("li",{key:e.label,class:{_active1:t.tabActive===i},on:{click:function(e){t.tabClick(i)}}},[t._v(t._s(e.label))])})),a("el-form",{ref:"listFilter",staticClass:"l-filter-form",attrs:{inline:"",model:t.list.filter,rules:t.list.rules},nativeOn:{submit:function(t){t.preventDefault()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.search(e):null}}},[a("el-form-item",{staticStyle:{width:"420px"},attrs:{label:"注册时间",prop:"dateRange"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"到","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd","picker-options":t.$config.dateOptions},on:{change:t.dateChange},model:{value:t.list.dateRange,callback:function(e){t.$set(t.list,"dateRange",e)},expression:"list.dateRange"}})],1),a("el-form-item",{staticClass:"l-margin-r"},[a("el-input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入门店名称/手机号码"},model:{value:t.list.filter.keywords,callback:function(e){t.$set(t.list.filter,"keywords",e)},expression:"list.filter.keywords"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"success"},nativeOn:{click:function(e){t.search()}}},[t._v("查询")])],1)],1)],1)]),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.list.loading,expression:"list.loading"}],ref:"listData",staticClass:"l-table-01",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中","highlight-current-row":"",data:t.list.data}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"60"}}),a("el-table-column",{attrs:{prop:"orgName",label:"门店名称",width:"200"}}),a("el-table-column",{attrs:{prop:"agentName",label:"渠道商",width:"200"}}),a("el-table-column",{attrs:{prop:"corporation",align:"center",label:"法人姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号码",width:"120"}}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"注册时间",width:"170"}}),a("el-table-column",{attrs:{"min-width":"1"}}),a("el-table-column",{attrs:{prop:"stateName",align:"center",label:"基本认证",width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.stateList[e.row.state].css},[a("i",{class:t.stateList[e.row.state].icon}),t._v("\n            "+t._s(t.stateList[e.row.state].label)+"\n          ")])]}}])}),a("el-table-column",{attrs:{prop:"stateName",align:"center",label:"会员分期认证",width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:t.stateList2[e.row.inState].css},[a("i",{class:t.stateList2[e.row.inState].icon}),t._v("\n            "+t._s(t.stateList2[e.row.inState].label)+"\n          ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{white:"",size:"mini"},nativeOn:{click:function(a){t.showDetials(e.row)}}},[t._v("查看详情")])]}}])})],1)],1),a("el-footer",{staticClass:"l-flex-vhc",attrs:{height:"40px"}},[a("pagination",{attrs:{pager:t.list.pager},on:{change:t.getList,"update:pager":function(e){t.$set(t.list,"pager",e)}}})],1)],1)},s=[],l=(a("xfY5"),a("OG14"),a("pIFo"),a("f3/d"),a("yt8O"),a("RW0V"),a("rGqo"),a("VRzm"),a("ZAdF")),n={name:"shop-list",components:{pagination:l["a"]},data:function(){return{exceling:!1,tabActive:0,stateList:{0:{label:"待审核",value:0,css:"l-txt-warn",icon:"el-icon-warning"},1:{label:"已通过",value:1,css:"l-txt-ok",icon:"el-icon-ok"},"-1":{label:"已拒绝",value:-1,css:"l-txt-gray"}},stateList2:{"":{label:"未认证",value:"",css:"l-txt-gray"},0:{label:"待审核",value:0,css:"l-txt-warn",icon:"el-icon-warning"},5:{label:"已通过",value:5,css:"l-txt-ok",icon:"el-icon-ok"},"-1":{label:"已拒绝",value:-1,css:"l-txt-gray"},"-2":{label:"已取消",value:-2,css:"l-txt-gray"}},list:{dateRange:[],filter:{startDate:"",endDate:"",keywords:"",state:""},rules:{startDate:[],endDate:[],keywords:[],state:[]},pager:{page:1,rows:10,total:0},loading:!1,data:[]}}},computed:{tabList:function(){var t=this,e=[{label:"全部",value:""}];return Object.keys(this.stateList).forEach(function(a){t.stateList[a].hidden||e.push(t.stateList[a])}),e}},methods:{tabClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.tabActive=t,this.list.filter.state=t,this.$utils.history.replace(this.$utils.url.setArgs(this.$route.fullPath,"tab",this.tabActive)),this.getList(e)},dateChange:function(t){t&&t.length>0?(this.list.filter.startDate=t[0],this.list.filter.endDate=t[1]||""):(this.list.filter.startDate="",this.list.filter.endDate=""),this.search()},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list.pager.page,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.list.pager.rows;this.list.loading=!0,this.$api.shop.getList(this.list.filter,e,a).then(function(i){var s=i.data;t.$utils.copyObj(t.list.pager,s,{page:e,rows:a}),t.list.data=s.list,t.$nextTick(function(){var e=t.$storage.session.get(t.$route.path+"_row-id"),a=s.list.filter(function(t){return t.id===e})[0];a&&t.$refs.listData.setCurrentRow(a)})}).finally(function(){t.list.loading=!1})},search:function(){this.getList(1)},clear:function(){this.$refs.listFilter&&this.$refs.listFilter.resetFields(),this.getList(1)},showDetials:function(t){this.$storage.session.set(this.$route.path+"_row-id",t.id),this.$router.push("/shop/info?id="+t.id)}},mounted:function(){this.tabClick(Number(this.$route.query.tab)||0,this.list.pager.page)}},r=n,o=a("KHd+"),c=Object(o["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports},tQH2:function(t,e,a){}}]);
//# sourceMappingURL=15.cfeac44f.js.map