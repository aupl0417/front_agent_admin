(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"0HNS":function(t,e,i){"use strict";var a=i("2Di0"),n=i.n(a);n.a},"1hiS":function(t,e,i){},"2Di0":function(t,e,i){},Cauy:function(t,e,i){"use strict";var a=i("GxVS"),n=i.n(a);n.a},FASv:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.info?a("el-container",{staticClass:"l-h100"},[a("el-header",{staticClass:"l-padding-0",attrs:{height:"auto"}},[a("div",{class:t.getState(t.info.state).css},[a("i",{class:t.getState(t.info.state).icon}),t._v(" "+t._s(t.getState(t.info.state).label)+"\n      "),[0,3,4,6].includes(t.info.state)?a("span",[t._v(" - "+t._s(t.statusList[t.info.status].label))]):t.info.state<0?a("span",[t._v("（"+t._s(t.info.reason)+"）")]):t._e(),10===t.info.status&&t.info.pay4sState?a("span",[t._v("（"+t._s(t.pay4sState[t.info.pay4sState])+"）")]):t._e(),-1===t.info.status?a("span",[t._v("（"+t._s(t.info.reason)+"）")]):t._e(),a("span",{staticClass:"l-margin-l-x2"}),0===t.info.state&&0===t.info.status?a("span",{staticClass:"l-margin-l"},[a("el-button",{attrs:{white:"",size:"mini"},nativeOn:{click:function(e){t.formData.visible=!0}}},[t._v("拒绝通过")]),a("el-button",{attrs:{type:"success",size:"mini"},nativeOn:{click:function(e){t.submitConfirm()}}},[t._v("通过申请")])],1):t._e(),-11!==t.info.state?a("span",{staticClass:"l-margin-l"},[a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(e){t.closeReason.visible=!0}}},[t._v("关闭订单")])],1):t._e()])]),a("el-main",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:"/order/list"}},[t._v("垫资单管理")]),a("el-breadcrumb-item",[t._v(t._s(t.info.orderId))])],1),a("div",{staticClass:"l-margin-t l-zoom"},[a("div",{staticClass:"l-panel-item l-margin-b"},[a("div",{staticClass:"_hd l-border-b",staticStyle:{"padding-bottom":"15px","max-width":"1170px"}},[a("span",{staticClass:"l-fr l-txt-gray l-margin-t-s"},[t._v("\n            申请垫资门店："),a("router-link",{staticClass:"l-txt-link",attrs:{to:"/shop/info?id="+t.info.orgId}},[t._v(t._s(t.info.orgName))])],1),a("span",{staticClass:"l-dib"},[a("b",{staticClass:"l-fs-xl"},[t._v("计息融资金额：")]),a("i",{staticClass:"l-fs-x2 l-rmb l-txt-theme"},[t._v(t._s(t.info.adjustAmount||t.info.amount))])]),t.info.state<=2?a("span",{staticClass:"l-margin-l l-dib l-txt-error"},[t._v("\n            应收保证金："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.adjustBond||t.info.bond))])]):t._e(),6===t.info.state&&t.info.status>18?a("span",{staticClass:"l-margin-l l-dib"},[a("b",{staticClass:"l-fs-xl"},[t._v("溢价回购总额：")]),a("i",{staticClass:"l-fs-x2 l-rmb l-txt-theme"},[t._v(t._s(t.info.totalAmount))])]):t._e(),t.info.status>18?a("span",{staticClass:"l-margin-l l-dib"},[t._v("其他第三方费用："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.otherFee))])]):t._e(),0===t.info.state?a("span",{staticClass:"l-margin-l l-txt-link l-dib"},[0===t.info.status?a("b",{on:{click:function(e){t.showDialogAmount()}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 调整融资金额及利率\n            ")]):t._e()]):3===t.info.state?a("span",{staticClass:"l-margin-l l-txt-link l-dib"},[2===t.info.status?a("b",{on:{click:function(e){t.wuliuVisible=!0}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 录入物流信息\n            ")]):4===t.info.status?a("b",{on:{click:function(e){t.checkcarVisible=!0}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 录入验车信息\n            ")]):10===t.info.status&&0!=t.info.pay4sState?a("b",{on:{click:function(e){t.dialog4sAmount.visible=!0}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 财务确认放款 "),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.pay4sAmount))])]):12===t.info.status?a("b",{on:{click:function(e){t.loadcarVisible=!0}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 录入装车信息\n            ")]):t._e()]):4===t.info.state?a("span",{staticClass:"l-margin-l l-txt-link l-dib"},[14===t.info.status?a("b",{on:{click:function(e){t.instockVisible=!0}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 录入入库信息\n            ")]):t._e()]):6===t.info.state?a("span",{staticClass:"l-margin-l l-txt-link l-dib"},[18===t.info.status?a("b",{on:{click:function(e){t.settleVisible=!0}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 请审核结算申请\n            ")]):20===t.info.status?a("b",{on:{click:function(e){t.showDialogAmount2()}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 请确认结算金额\n            ")]):24===t.info.status?a("b",{on:{click:function(e){t.dialogAmount3.visible=!0}}},[a("i",{staticClass:"el-icon-edit-outline"}),t._v(" 请确认收齐款项\n            ")]):t._e()]):t._e(),a("div",{staticClass:"l-order-info1"},[a("span",[t._v("融资期限："+t._s(t.info.period)+"天")]),a("span",{staticClass:"l-liney"}),a("el-popover",{attrs:{placement:"bottom-start",width:"300",trigger:"hover",content:"以实际放款日为准，乙方按照合同约定无条件溢价回购已转让债权，并向甲方按照合同之约定支付回购价款的行为"}},[a("span",{attrs:{slot:"reference"},slot:"reference"},[a("i",{staticClass:"el-icon-question l-txt-theme",attrs:{title:""}}),t._v("\n                溢价回购期限："+t._s(t.info.deadline)+"\n              ")])]),t.info.status>10?[a("span",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib"},[t._v("实际放款日期："+t._s(t.info.voucherTime))])]:t._e(),t.info.state>2?[a("span",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib"},[t._v("已收保证金："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.adjustBond||t.info.bond))])])]:t._e(),a("span",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib"},[t._v("日利率："+t._s(t.info.rate?t.info.rate+"%":"未设置"))]),t.info.status>16?[a("span",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib"},[t._v("产生利息："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.interests))])])]:t._e(),t.info.status>18?[a("span",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib"},[t._v("票证滞纳费："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.ticketFee))])])]:t._e()],2)]),a("div",{staticClass:"l-zoom l-padding-x"},[a("div",{staticClass:"l-carsInfo l-fl"},[a("p",[a("i",{staticClass:"_tag"},[t._v("垫资车辆")]),a("b",{staticClass:"l-fs-l l-margin-r"},[t._v(t._s(t.info.carName)+" "+t._s(t.info.style))]),a("span",[t._v("车架号："+t._s(t.info.frameNumber))])]),a("div",{staticClass:"l-margin-t"},[a("p",[a("span",{staticClass:"_item"},[t._v("车辆变速箱："+t._s(t.info.gearbox))]),a("span",{staticClass:"_item"},[t._v("车身颜色："+t._s(t.info.color))]),a("span",{staticClass:"_item"},[t._v("内饰颜色："+t._s(t.info.interiorColor))])]),a("p",[a("span",{staticClass:"_item"},[t._v("官方指导价："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.guidePrice))])]),a("span",{staticClass:"_item"},[t._v("提车时间："+t._s(t.info.pickUpTime))]),"选配"===t.info.type?a("el-popover",{attrs:{placement:"bottom-start",width:"300",trigger:"hover",content:t.info.remark}},[a("span",{staticClass:"_item",attrs:{slot:"reference"},slot:"reference"},[t._v("车辆配置："+t._s(t.info.type)+" "),a("i",{staticClass:"el-icon-caret-bottom"})])]):a("span",{staticClass:"_item"},[t._v("车辆配置："+t._s(t.info.type))])],1)]),a("div",{staticClass:"l-margin-t-s"},[a("p",{staticClass:"_tag2 l-margin-r"},[a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n                  4S店采购价："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.purchasePrice))])]),a("i",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n                  已付4S店定金："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.paidDeposit))])])]),a("p",{staticClass:"_tag2 l-margin-r"},[a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n                  买方成交价："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.price))])]),a("i",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n                  买方已付定金："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.deposit))])])])])]),a("div",{staticClass:"l-order-news l-fl"},[a("h4",[t._v("订单动态")]),t.info.records&&t.info.records.length>0?a("el-steps",{staticClass:"l-margin-t",attrs:{direction:"vertical",active:0}},t._l(t.info.records,function(e,n){return a("el-step",{key:n},[a("img",{attrs:{slot:"icon",src:i("sVNT"),alt:""},slot:"icon"}),a("div",{attrs:{slot:"description"},slot:"description"},[a("p",[t._v(t._s(e.createTime)+" "),0===n?a("el-tag",{staticClass:"l-margin-l-s",attrs:{type:"danger",size:"mini"}},[t._v("最新")]):t._e()],1),a("p",[t._v("\n                    "+t._s(e.title)+" \n                    "),[0,1,3,5,26,31].includes(e.type)?a("a",{staticClass:"l-txt-link l-margin-l-s",on:{click:function(i){t.showViewer(e)}}},[t._v("查看详情")]):t._e()])])])})):t._e()],1)])]),a("div",{staticClass:"l-zoom l-bg-white"},[a("div",{staticClass:"l-fl l-margin-r",staticStyle:{width:"790px"}},[a("div",{staticClass:"l-panel-item l-margin-b"},[a("div",{staticClass:"_hd l-fs-xl"},[a("b",[t._v("买方（车主）信息")])]),a("div",{staticClass:"l-padding-x"},[a("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("买方姓名")]),a("td",[t._v(t._s(t.info.userName))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("手机号码")]),a("td",[t._v(t._s(t.info.phone))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("身份证号")]),a("td",[t._v(t._s(t.info.idCard))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("居住地址")]),a("td",[t._v(t._s(t.info.address))])])]),a("div",{staticClass:"l-margin-t"},[a("div",{staticClass:"l-image-preview l-margin-r"},[a("div",{staticClass:"_tit"},[t._v("定金凭证")]),a("div",{staticClass:"_img",style:{"background-image":"url("+t.info.voucher[0]+")"}},[a("b",{on:{click:function(e){t.previewImage(0,t.info.voucher)}}},[t._v("点击查看大图("+t._s(t.info.voucher.length)+"张)")])])]),a("div",{staticClass:"l-image-preview l-margin-r"},[a("div",{staticClass:"_tit"},[t._v("购车合同")]),a("div",{staticClass:"_img",style:{"background-image":"url("+t.info.contractUrl[0]+")"}},[a("b",{on:{click:function(e){t.previewImage(0,t.info.contractUrl)}}},[t._v("点击查看大图("+t._s(t.info.contractUrl.length)+"张)")])])])])])]),a("div",{staticClass:"l-panel-item l-margin-b"},[a("div",{staticClass:"_hd l-fs-xl"},[a("b",[t._v("销售商（4S店）信息")])]),a("div",{staticClass:"l-padding-x"},[a("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("销售商名称")]),a("td",[t._v(t._s(t.info.shopName))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("公司详细地址")]),a("td",[t._v(t._s(t.info.orgAddress))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("公司联系人")]),a("td",[t._v(t._s(t.info.orgLink))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("联系人手机")]),a("td",[t._v(t._s(t.info.orgPhone))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("对公收款账户")]),a("td",[t._v(t._s(t.info.account))])]),a("tr",[a("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("收款账户开户支行")]),a("td",[t._v(t._s(t.info.bankBranch))])])])])])]),a("div",{staticClass:"l-fl",staticStyle:{width:"380px"}},[a("div",{staticClass:"l-panel-item",staticStyle:{width:"380px",margin:"0 15px 15px 0"}},[a("div",{staticClass:"_hd l-fs-xl"},[a("b",[t._v("相关合同签署")])]),0===t.info.state&&0===t.info.status?a("div",{staticClass:"l-padding-xl"},[a("div",{staticClass:"l-contract-pre l-flex-vhc _1"},[a("div",{staticClass:"_tag",attrs:{title:1===t.contractList.B3.type?"自定义":"默认"}}),a("div",{staticClass:"_inner"},[a("a",{staticClass:"_link",attrs:{target:"_blank",href:t.contractList.B3.contractUrl}},[t._v(t._s(t.contractList.B3.title))])]),a("div",{staticClass:"l-txt-center l-margin-t l-fs-xs"},[a("el-upload",{ref:"upload",staticStyle:{display:"inline-block"},attrs:{"show-file-list":!1,accept:".pdf",action:"","auto-upload":!1,"on-change":t.uploadChange}},[a("a",{staticClass:"l-txt-link",attrs:{slot:"trigger"},on:{click:function(e){t.uploadClick("B3",1)}},slot:"trigger"},[t._v("上传自定义合同")])]),a("a",{staticClass:"l-txt-link l-margin-l",on:{click:function(e){t.uploadClick("B3",0)}}},[t._v("使用默认合同")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.contractList.B3.loading,expression:"contractList.B3.loading"}],staticClass:"l-flex-vhc _loading"},[a("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"20px","margin-bottom":"10px"}}),a("p",{staticClass:"l-fs-s"},[t._v("合同上传中")])])]),a("div",{staticClass:"l-contract-pre l-flex-vhc _1 l-margin-t"},[a("div",{staticClass:"_tag",attrs:{title:1===t.contractList.B4.type?"自定义":"默认"}}),a("div",{staticClass:"_inner"},[a("a",{staticClass:"_link",attrs:{target:"_blank",href:t.contractList.B4.contractUrl}},[t._v(t._s(t.contractList.B4.title))])]),a("div",{staticClass:"l-txt-center l-margin-t l-fs-xs"},[a("el-upload",{ref:"upload",staticStyle:{display:"inline-block"},attrs:{"show-file-list":!1,accept:".pdf",action:"","auto-upload":!1,"on-change":t.uploadChange}},[a("a",{staticClass:"l-txt-link",attrs:{slot:"trigger"},on:{click:function(e){t.uploadClick("B4",1)}},slot:"trigger"},[t._v("上传自定义合同")])]),a("a",{staticClass:"l-txt-link l-margin-l",on:{click:function(e){t.uploadClick("B4",0)}}},[t._v("使用默认合同")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.contractList.B4.loading,expression:"contractList.B4.loading"}],staticClass:"l-flex-vhc _loading"},[a("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"20px","margin-bottom":"10px"}}),a("p",{staticClass:"l-fs-s"},[t._v("合同上传中")])])])]):a("div",{staticClass:"l-padding-xl"},[a("div",{staticClass:"l-contract-pre l-flex-vhc"},[a("div",{class:"_tag"+t.info.contractList.B3.state,attrs:{title:t.info.contractList.B3.stateName}}),a("div",{staticClass:"_inner"},[a("a",{staticClass:"_link",attrs:{target:"_blank",href:t.info.contractList.B3.Template}},[t._v(t._s(t.info.contractList.B3.Title))])])]),a("div",{staticClass:"l-contract-pre l-flex-vhc l-margin-t"},[a("div",{class:"_tag"+t.info.contractList.B4.state,attrs:{title:t.info.contractList.B4.stateName}}),a("div",{staticClass:"_inner"},[a("a",{staticClass:"_link",attrs:{target:"_blank",href:t.info.contractList.B4.Template}},[t._v(t._s(t.info.contractList.B4.Title))])])])])])])])]),a("el-dialog",{attrs:{title:t.formData.title,visible:t.formData.visible,width:"500px"},on:{"update:visible":function(e){t.$set(t.formData,"visible",e)}}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"请输入拒绝原因，如个人资料缺失，上传错误资料等"},model:{value:t.formData.reason,callback:function(e){t.$set(t.formData,"reason",e)},expression:"formData.reason"}}),a("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{white:""},on:{click:function(e){t.formData.visible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.formData.loading},on:{click:function(e){t.submit(1)}}},[t._v(t._s(t.formData.loading?"提交中...":"确定拒绝"))])],1)],1),a("el-dialog",{attrs:{title:t.closeReason.title,visible:t.closeReason.visible,width:"500px"},on:{"update:visible":function(e){t.$set(t.closeReason,"visible",e)}}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"请输入关闭原因"},model:{value:t.closeReason.reason,callback:function(e){t.$set(t.closeReason,"reason",e)},expression:"closeReason.reason"}}),a("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{white:""},on:{click:function(e){t.closeReason.visible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.closeReason.loading},on:{click:t.submitClose}},[t._v(t._s(t.closeReason.loading?"提交中...":"确定关闭"))])],1)],1),a("el-dialog",{attrs:{title:t.dialogAmount.title,"before-close":t.closeDialogAmount,visible:t.dialogAmount.visible,width:"750px"},on:{"update:visible":function(e){t.$set(t.dialogAmount,"visible",e)}}},[a("div",{staticClass:"l-carsInfo",staticStyle:{border:"none"}},[a("p",[a("i",{staticClass:"_tag"},[t._v("垫资车辆")]),a("b",{staticClass:"l-fs-xl l-margin-r-x2"},[t._v(t._s(t.info.carName)+" "+t._s(t.info.style))]),a("span",[t._v("车架号："+t._s(t.info.frameNumber))])]),a("div",{staticClass:"l-margin-t-s"},[a("p",{staticClass:"_tag2 l-margin-r"},[a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n              4S店采购价："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.purchasePrice))])]),a("i",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n              已付定金："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.paidDeposit))])])]),a("p",{staticClass:"_tag2 l-margin-r"},[a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n              买方成交价："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.price))])]),a("i",{staticClass:"l-liney"}),a("span",{staticClass:"l-dib",staticStyle:{"min-width":"200px"}},[t._v("\n              已收定金："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.deposit))])])])]),a("br"),a("el-form",{ref:"infoForm",staticClass:"l-form-1 l-margin-t",attrs:{inline:"","label-position":"top","label-width":"90px",model:t.dialogAmount.data}},[a("el-form-item",{attrs:{label:"计息融资金额",prop:"amount"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入",maxlength:10},model:{value:t.dialogAmount.data.amount,callback:function(e){t.$set(t.dialogAmount.data,"amount",e)},expression:"dialogAmount.data.amount"}},[a("template",{slot:"prepend"},[t._v("￥")]),a("span",{staticClass:"l-fs-xs",attrs:{slot:"append"},slot:"append"},[t._v("\n                原申请金额："),a("i",[t._v(t._s(t.info.amount))])])],2)],1),a("el-form-item",{attrs:{label:"日利率",prop:"rate"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入",maxlength:11},model:{value:t.dialogAmount.data.rate,callback:function(e){t.$set(t.dialogAmount.data,"rate",e)},expression:"dialogAmount.data.rate"}},[a("template",{slot:"append"},[t._v("%")])],2)],1)],1)],1),a("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialogAmount()}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",loading:t.dialogAmount.loading},on:{click:t.submitDialogAmount}},[t._v(t._s(t.dialogAmount.loading?"提交中...":"确定提交"))])],1)]),a("dialog-wuliu",{attrs:{visible:t.wuliuVisible,"form-data":{orderId:t.info.id}},on:{"update:visible":function(e){t.wuliuVisible=e},change:t.getInfo}}),a("dialog-checkcar",{attrs:{visible:t.checkcarVisible,"form-data":{orderId:t.info.id}},on:{"update:visible":function(e){t.checkcarVisible=e},change:t.getInfo}}),a("el-dialog",{attrs:{"before-close":t.closeDialog4sAmount,visible:t.dialog4sAmount.visible,width:"400px"},on:{"update:visible":function(e){t.$set(t.dialog4sAmount,"visible",e)}}},[a("b",{staticClass:"l-fs-xl",attrs:{slot:"title"},slot:"title"},[t._v("\n        代付车款："),a("i",{staticClass:"l-rmb l-txt-error"},[t._v(t._s(t.pay4sAmount))])]),a("p",{staticClass:"l-txt-gray",staticStyle:{margin:"-10px 0 10px"}},[t._v("付款前请核对金额是否正确")]),a("el-form",{ref:"loanForm",attrs:{"label-position":"left"}},[a("el-form-item",[a("div",{staticClass:"l-flex-hc"},[a("el-input",{attrs:{type:"text",placeholder:"请输入短信授权码",maxlength:6},model:{value:t.dialog4sAmount.code,callback:function(e){t.$set(t.dialog4sAmount,"code","string"===typeof e?e.trim():e)},expression:"dialog4sAmount.code"}}),a("el-button",{staticClass:"l-margin-l-m",staticStyle:{width:"120px"},attrs:{type:"primary",plain:""},on:{click:function(e){e.preventDefault(),t.sendCode(e)}}},[t._v("获取授权码")])],1)])],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialog4sAmount()}}},[t._v("取消")]),a("el-button",{staticStyle:{width:"112px"},attrs:{type:"primary",loading:t.dialog4sAmount.loading},on:{click:function(e){t.submitDialog4sAmount()}}},[t._v(t._s(t.dialog4sAmount.loading?"提交中...":"确定放款"))])],1)],1),a("dialog-loadcar",{attrs:{visible:t.loadcarVisible,"form-data":{orderId:t.info.id}},on:{"update:visible":function(e){t.loadcarVisible=e},change:t.getInfo}}),a("dialog-instock",{attrs:{visible:t.instockVisible,"form-data":{orderId:t.info.id}},on:{"update:visible":function(e){t.instockVisible=e},change:t.getInfo}}),a("dialog-settle",{attrs:{visible:t.settleVisible,"form-data":t.info},on:{"update:visible":function(e){t.settleVisible=e},change:t.getInfo}}),a("el-dialog",{attrs:{title:t.dialogAmount2.title,"before-close":t.closeDialogAmount2,visible:t.dialogAmount2.visible,width:"600px"},on:{"update:visible":function(e){t.$set(t.dialogAmount2,"visible",e)}}},[a("p",{staticClass:"l-txt-error",staticStyle:{margin:"-20px 0 0 0"}},[t._v("请确认以下金额是否有误：")]),a("p",{staticClass:"l-margin-t-m"},[a("b",{staticClass:"l-fs-xl"},[t._v("溢价回购总额：")]),a("i",{staticClass:"l-fs-x2 l-rmb l-txt-theme"},[t._v(t._s(t.info.totalAmount))])]),a("p",{staticClass:"l-fs-xs l-txt-gray l-margin-t-s"},[a("span",{staticClass:"l-w33"},[t._v("实际放款日期："+t._s(t.info.voucherTime))]),a("span",{staticClass:"l-w33"},[t._v("计息融资金额："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.adjustAmount||t.info.amount))])]),a("span",{staticClass:"l-w33"},[t._v("日利率："+t._s(t.info.rate)+"%")])]),a("p",{staticClass:"l-fs-xs l-txt-gray l-margin-t-s"},[a("span",{staticClass:"l-w33"},[t._v("结算提车日期："+t._s(t.info.settleDate))]),a("span",{staticClass:"l-w33"},[t._v("产生利息："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.interests||0))])])]),a("p",{staticClass:"l-fs-xs l-txt-gray l-margin-t-s"},[a("span",{staticClass:"l-w33"},[t._v("票证收齐日期："+t._s(t.info.ticketDate))]),a("span",{staticClass:"l-w33"},[t._v("票证滞纳费："),a("i",{staticClass:"l-rmb"},[t._v(t._s(t.info.ticketFee||0))])])]),t.dialogAmount2.info?a("p",{staticClass:"l-fs-xs l-txt-gray l-margin-t-s"},[t._v("\n        结算备注信息："+t._s(t.dialogAmount2.info.remark||"无")+"\n        "),t.dialogAmount2.info.remarkImage.length>0?a("a",{staticClass:"l-margin-l l-txt-link",on:{click:function(e){t.previewImage(0,t.dialogAmount2.info.remarkImage)}}},[t._v("查看附件")]):t._e()]):t._e(),a("p",{staticClass:"l-margin-t-m"},[a("b",{staticClass:"l-fs-xl"},[t._v("其他第三方费用：")]),a("i",{staticClass:"l-fs-x2 l-rmb l-txt-theme"},[t._v(t._s(t.info.otherFee||0))])]),a("p",{staticClass:"l-margin-t"},[a("el-input",{attrs:{type:"textarea",placeholder:"如果拒绝结算，请说明原因",autosize:{minRows:2,maxRows:4}},model:{value:t.dialogAmount2.reason,callback:function(e){t.$set(t.dialogAmount2,"reason",e)},expression:"dialogAmount2.reason"}})],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{width:"112px"},attrs:{type:"danger",loading:t.dialogAmount2.loading},on:{click:function(e){t.submitDialogAmount2(0)}}},[t._v("拒绝")]),a("el-button",{staticStyle:{width:"112px"},attrs:{type:"success",loading:t.dialogAmount2.loading},on:{click:function(e){t.submitDialogAmount2(1)}}},[t._v("确定")])],1)]),a("el-dialog",{attrs:{title:t.dialogAmount3.title,"before-close":t.closeDialogAmount3,visible:t.dialogAmount3.visible,width:"400px"},on:{"update:visible":function(e){t.$set(t.dialogAmount3,"visible",e)}}},[a("p",{staticClass:"l-txt-gray",staticStyle:{margin:"-15px 0 0 0"}},[t._v("请确认是否收齐以下款项：")]),a("p",{staticClass:"l-margin-tb"},[a("b",[t._v("溢价回购金额："),a("i",{staticClass:"l-rmb l-txt-error"},[t._v(t._s(t.info.amount||0))])]),a("br"),a("b",[t._v("第三方相关费用："),a("i",{staticClass:"l-rmb l-txt-error"},[t._v(t._s(t.info.otherFee||0))])])]),a("el-form",{ref:"loanForm",attrs:{"label-position":"left"}},[a("el-form-item",[a("div",{staticClass:"l-flex-hc"},[a("el-input",{attrs:{type:"text",placeholder:"请输入短信授权码",maxlength:6},model:{value:t.dialogAmount3.code,callback:function(e){t.$set(t.dialogAmount3,"code","string"===typeof e?e.trim():e)},expression:"dialogAmount3.code"}}),a("el-button",{staticClass:"l-margin-l-m",staticStyle:{width:"120px"},attrs:{type:"primary",plain:""},on:{click:function(e){e.preventDefault(),t.sendCode(e)}}},[t._v("获取授权码")])],1)])],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialogAmount3()}}},[t._v("取消")]),a("el-button",{staticStyle:{width:"112px"},attrs:{type:"primary",loading:t.dialogAmount3.loading},on:{click:function(e){t.submitDialogAmount3()}}},[t._v(t._s(t.dialogAmount3.loading?"确定中...":"确定"))])],1)],1),a("dialog-viewer",{attrs:{visible:t.dialogViewer.visible,"form-type":t.dialogViewer.type,"form-data":t.dialogViewer.info},on:{"update:visible":function(e){t.$set(t.dialogViewer,"visible",e)},change:t.getInfo}}),a("image-previewer",{ref:"viewer",staticStyle:{display:"none"},attrs:{"file-list":t.images}})],1)],1):t._e()},n=[],o=(i("91GP"),i("KKXr"),i("f3/d"),i("xfY5"),i("yT7P")),r=(i("VRzm"),i("zqLv")),s=i("O6p1"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":t.append,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.closeDialog,title:t.dialog.title,visible:t.dialog.visible,width:"600px"},on:{"update:visible":function(e){t.$set(t.dialog,"visible",e)}}},[i("div",{staticClass:"l-scroll",staticStyle:{"max-height":"400px"}},[i("el-form",{ref:"infoForm",staticClass:"l-margin-l l-form-1",attrs:{inline:"","label-position":"top","label-width":"90px",model:t.dialog.data,rules:t.dialog.rules},nativeOn:{submit:function(t){t.preventDefault()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitDialog(e):null}}},[i("el-form-item",{attrs:{label:"物流公司名称",prop:"name"}},[i("el-input",{attrs:{maxlength:50,placeholder:"如中汽物流"},model:{value:t.dialog.data.name,callback:function(e){t.$set(t.dialog.data,"name",e)},expression:"dialog.data.name"}})],1),i("el-form-item",{attrs:{label:"物流板车车牌号",prop:"plateNumber"}},[i("el-input",{attrs:{maxlength:50,placeholder:"如粤B88888"},model:{value:t.dialog.data.plateNumber,callback:function(e){t.$set(t.dialog.data,"plateNumber",e)},expression:"dialog.data.plateNumber"}})],1),i("br"),i("el-form-item",{attrs:{label:"提车人姓名",prop:"pickUpName"}},[i("el-input",{attrs:{maxlength:50,placeholder:"请输入物流提车人姓名"},on:{blur:function(e){t.dialog.data.checkName=t.dialog.data.pickUpName}},model:{value:t.dialog.data.pickUpName,callback:function(e){t.$set(t.dialog.data,"pickUpName",e)},expression:"dialog.data.pickUpName"}})],1),i("el-form-item",{attrs:{label:"提车人身份证号",prop:"idCard"}},[i("el-input",{attrs:{maxlength:18,placeholder:"请输入提车人身份证号"},on:{blur:function(e){t.dialog.data.checkIdCard=t.dialog.data.idCard}},model:{value:t.dialog.data.idCard,callback:function(e){t.$set(t.dialog.data,"idCard",e)},expression:"dialog.data.idCard"}})],1),i("el-form-item",{attrs:{label:"验车人姓名",prop:"checkName"}},[i("el-input",{attrs:{maxlength:50,placeholder:"请输入验车人姓名"},model:{value:t.dialog.data.checkName,callback:function(e){t.$set(t.dialog.data,"checkName",e)},expression:"dialog.data.checkName"}})],1),i("el-form-item",{attrs:{label:"验车人身份证号",prop:"checkIdCard"}},[i("el-input",{attrs:{maxlength:18,placeholder:"请输入验车人身份证号"},model:{value:t.dialog.data.checkIdCard,callback:function(e){t.$set(t.dialog.data,"checkIdCard",e)},expression:"dialog.data.checkIdCard"}})],1),i("el-form-item",{staticStyle:{width:"515px"},attrs:{label:"备注信息",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.dialog.data.remark,callback:function(e){t.$set(t.dialog.data,"remark",e)},expression:"dialog.data.remark"}})],1),i("el-form-item",{attrs:{label:"运输单",prop:"contract"}},[i("uploader",{attrs:{"file-list":t.images.contract,"sample-pic":t.sample.contract},on:{"update:fileList":function(e){t.$set(t.images,"contract",e)}}})],1),i("el-form-item",{attrs:{label:"物流日期",prop:"logisticsTime"}},[i("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.dialog.data.logisticsTime,callback:function(e){t.$set(t.dialog.data,"logisticsTime",e)},expression:"dialog.data.logisticsTime"}})],1)],1)],1),i("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialog()}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",loading:t.dialog.loading},on:{click:t.submitDialog}},[t._v(t._s(t.dialog.loading?"提交中...":"确定提交"))])],1)])},c=[],u=i("TtEn"),f={name:"dialog-wuliu",components:{Uploader:u["a"]},props:{visible:{type:Boolean,default:!1},formType:{type:String,default:"new"},formData:Object,append:{type:Boolean,default:!1}},data:function(){return{sample:{contract:["http://qiniu.hsbro.cn/%E8%B4%AD%E8%BD%A6%E5%90%88%E5%90%8C.jpg"]},images:{contract:[]},dialog:{title:"录入物流信息",visible:!1,loading:!1,rules:{name:[{required:!0,message:"必选项",trigger:"blur"}],plateNumber:[{required:!0,message:"必选项",trigger:"blur"}],pickUpName:[{required:!0,message:"必选项",trigger:"blur"}],idCard:[{required:!0,message:"必选项",trigger:"blur"}],checkName:[{required:!0,message:"必选项",trigger:"blur"}],checkIdCard:[{required:!0,message:"必选项",trigger:"blur"}]},data:{orderId:null,name:"",plateNumber:"",pickUpName:"",idCard:"",checkName:"",checkIdCard:"",contract:"",remark:"",logisticsTime:""}}}},watch:{visible:{immediate:!0,handler:function(t){t&&this.showDialog()}}},methods:{showDialog:function(){this.$utils.copyObj(this.dialog.data,this.formData),this.dialog.visible=!0},closeDialog:function(t){t?t():this.dialog.visible=!1,this.$emit("update:visible",this.dialog.visible)},submitDialog:function(){var t=this;this.$refs.infoForm.validate(function(e){if(e){var i=Object.assign({},t.dialog.data);i.contract=t.images.contract.join(","),t.dialog.loading=!0,t.$api.order.uploadWuliu(i).then(function(e){var i=e.data;t.$message.success(t.dialog.title+"成功"),t.$emit("change",i),t.closeDialog()}).finally(function(){t.dialog.loading=!1})}else t.$message.error("请完善表单信息")})}}},d=f,p=(i("jfFt"),i("KHd+")),m=Object(p["a"])(d,l,c,!1,null,"f8c7cf50",null),h=m.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":t.append,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.closeDialog,title:t.dialog.title,visible:t.dialog.visible,width:"600px"},on:{"update:visible":function(e){t.$set(t.dialog,"visible",e)}}},[i("div",{staticClass:"l-scroll",staticStyle:{"max-height":"400px"}},[i("el-form",{ref:"infoForm",staticClass:"l-margin-l l-form-1",attrs:{inline:"","label-position":"top","label-width":"90px",model:t.dialog.data,rules:t.dialog.rules},nativeOn:{submit:function(t){t.preventDefault()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitDialog(e):null}}},[i("el-form-item",{staticStyle:{width:"515px"},attrs:{prop:"image"}},[i("label",{attrs:{slot:"label"},slot:"label"},[i("span",[t._v("上传验车照片")]),i("p",{staticClass:"l-fs-xs l-txt-gray",staticStyle:{margin:"5px 0 0 0","line-height":"1.5"}},[t._v("整车照片（左前45度一张，右后45度一张）、车顶、中控台、内饰（前排桌椅一张，后排座椅一张）、后备箱（含备胎、工具箱及其他）、发动机舱、仪表盘（含公里数）、铭牌、车钥匙")])]),i("uploader",{attrs:{"file-list":t.images.image,"sample-pic":t.sample.image},on:{"update:fileList":function(e){t.$set(t.images,"image",e)}}})],1),i("el-form-item",{attrs:{label:"购车合同",prop:"contract"}},[i("uploader",{attrs:{"file-list":t.images.contract,"sample-pic":t.sample.contract},on:{"update:fileList":function(e){t.$set(t.images,"contract",e)}}})],1),i("el-form-item",{attrs:{label:"运输乘用车运输单",prop:"transportList"}},[i("uploader",{attrs:{"file-list":t.images.transportList,"sample-pic":t.sample.transportList},on:{"update:fileList":function(e){t.$set(t.images,"transportList",e)}}})],1),i("el-form-item",{staticStyle:{width:"515px"},attrs:{label:"备注信息",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.dialog.data.remark,callback:function(e){t.$set(t.dialog.data,"remark",e)},expression:"dialog.data.remark"}})],1)],1)],1),i("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialog()}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",loading:t.dialog.loading},on:{click:t.submitDialog}},[t._v(t._s(t.dialog.loading?"提交中...":"确定提交"))])],1)])},v=[],b=(i("yt8O"),i("RW0V"),i("rGqo"),{name:"dialog-checkcar",components:{Uploader:u["a"]},props:{visible:{type:Boolean,default:!1},formType:{type:String,default:"new"},formData:Object,append:{type:Boolean,default:!1}},data:function(){return{sample:{image:["http://qiniu.hsbro.cn/%E9%AA%8C%E8%BD%A6%E7%85%A7%E7%89%87.jpg"],contract:["http://qiniu.hsbro.cn/%E8%B4%AD%E8%BD%A6%E5%90%88%E5%90%8C.jpg"],transportList:["http://qiniu.hsbro.cn/%E9%AA%8C%E8%BD%A6-%E8%BF%90%E8%BE%93%E5%8D%95.jpg"]},images:{image:[],contract:[],transportList:[]},dialog:{title:"录入验车信息",visible:!1,loading:!1,rules:{image:[{required:!0,message:"必选项",trigger:"blur"}],contract:[{required:!0,message:"必选项",trigger:"blur"}],transportList:[{required:!0,message:"必选项",trigger:"blur"}]},data:{orderId:null,image:"",contract:"",transportList:"",remark:""}}}},watch:{visible:{immediate:!0,handler:function(t){t&&this.showDialog()}}},methods:{getImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this.images);return Object.keys(e).forEach(function(t){e[t]=e[t].join(",")}),this.$utils.copyObj(t,e)},showDialog:function(){this.$utils.copyObj(this.dialog.data,this.formData),this.dialog.visible=!0},closeDialog:function(t){t?t():this.dialog.visible=!1,this.$emit("update:visible",this.dialog.visible)},submitDialog:function(){var t=this,e=this.getImages(this.dialog.data);this.$refs.infoForm.validate(function(i){i?(t.dialog.loading=!0,t.$api.order.checkcar(e).then(function(e){var i=e.data;t.$message.success(t.dialog.title+"成功"),t.$emit("change",i),t.closeDialog()}).finally(function(){t.dialog.loading=!1})):t.$message.error("请完善表单信息")})}}}),y=b,_=(i("0HNS"),Object(p["a"])(y,g,v,!1,null,"64455f45",null)),w=_.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":t.append,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.closeDialog,title:t.dialog.title,visible:t.dialog.visible,width:"600px"},on:{"update:visible":function(e){t.$set(t.dialog,"visible",e)}}},[i("div",{staticClass:"l-scroll",staticStyle:{"max-height":"400px"}},[i("el-form",{ref:"infoForm",staticClass:"l-margin-l l-form-1",attrs:{inline:"","label-position":"top","label-width":"90px",model:t.dialog.data,rules:t.dialog.rules},nativeOn:{submit:function(t){t.preventDefault()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitDialog(e):null}}},[i("el-form-item",{staticStyle:{width:"515px"},attrs:{prop:"image"}},[i("label",{attrs:{slot:"label"},slot:"label"},[t._v("上传装车照片"),i("span",{staticClass:"l-fs-xs l-txt-gray"},[t._v("（车辆装上板车后的合照）")])]),i("uploader",{attrs:{"file-list":t.images.image,"sample-pic":t.sample.image},on:{"update:fileList":function(e){t.$set(t.images,"image",e)}}})],1),i("el-form-item",{attrs:{label:"《4S店提车交接表》",prop:"handover"}},[i("uploader",{attrs:{"file-list":t.images.handover,"sample-pic":t.sample.handover},on:{"update:fileList":function(e){t.$set(t.images,"handover",e)}}})],1),i("el-form-item",{attrs:{label:"《4S店购车全款收据》",prop:"voucher"}},[i("uploader",{attrs:{"file-list":t.images.voucher,"sample-pic":t.sample.voucher},on:{"update:fileList":function(e){t.$set(t.images,"voucher",e)}}})],1),i("el-form-item",{staticStyle:{width:"515px"},attrs:{label:"备注信息",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.dialog.data.remark,callback:function(e){t.$set(t.dialog.data,"remark",e)},expression:"dialog.data.remark"}})],1)],1)],1),i("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialog()}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",loading:t.dialog.loading},on:{click:t.submitDialog}},[t._v(t._s(t.dialog.loading?"提交中...":"确定提交"))])],1)])},x=[],A={name:"dialog-loadcar",components:{Uploader:u["a"]},props:{visible:{type:Boolean,default:!1},formType:{type:String,default:"new"},formData:Object,append:{type:Boolean,default:!1}},data:function(){return{sample:{image:["http://qiniu.hsbro.cn/%E9%AA%8C%E8%BD%A6%E7%85%A7%E7%89%87.jpg"],handover:["http://qiniu.hsbro.cn/%E8%A3%85%E8%BD%A6-%E6%8F%90%E8%BD%A6%E4%BA%A4%E6%8E%A5%E5%8D%95.jpg"],voucher:["http://qiniu.hsbro.cn/%E8%A3%85%E8%BD%A6-%E8%B4%AD%E8%BD%A6%E5%85%A8%E6%AC%BE%E6%94%B6%E6%8D%AE.jpg"]},images:{image:[],handover:[],voucher:[]},dialog:{title:"录入装车信息",visible:!1,loading:!1,rules:{image:[{required:!0,message:"必选项",trigger:"blur"}],handover:[{required:!0,message:"必选项",trigger:"blur"}],voucher:[{required:!0,message:"必选项",trigger:"blur"}]},data:{orderId:null,image:"",handover:"",voucher:"",remark:""}}}},watch:{visible:{immediate:!0,handler:function(t){t&&this.showDialog()}}},methods:{getImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this.images);return Object.keys(e).forEach(function(t){e[t]=e[t].join(",")}),this.$utils.copyObj(t,e)},showDialog:function(){this.$utils.copyObj(this.dialog.data,this.formData),this.dialog.visible=!0},closeDialog:function(t){t?t():this.dialog.visible=!1,this.$emit("update:visible",this.dialog.visible)},submitDialog:function(){var t=this,e=this.getImages(this.dialog.data);this.$refs.infoForm.validate(function(i){i?(t.dialog.loading=!0,t.$api.order.loadcar(e).then(function(e){var i=e.data;t.$message.success(t.dialog.title+"成功"),t.$emit("change",i),t.closeDialog()}).finally(function(){t.dialog.loading=!1})):t.$message.error("请完善表单信息")})}}},k=A,S=(i("kxTw"),Object(p["a"])(k,C,x,!1,null,"7b13ac48",null)),D=S.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":t.append,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.closeDialog,title:t.dialog.title,visible:t.dialog.visible,width:"600px"},on:{"update:visible":function(e){t.$set(t.dialog,"visible",e)}}},[i("div",{staticClass:"l-scroll",staticStyle:{"max-height":"400px"}},[i("el-form",{ref:"infoForm",staticClass:"l-margin-l l-form-1",attrs:{inline:"","label-position":"top","label-width":"90px",model:t.dialog.data,rules:t.dialog.rules},nativeOn:{submit:function(t){t.preventDefault()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitDialog(e):null}}},[i("el-form-item",{staticStyle:{width:"515px"},attrs:{prop:"image"}},[i("label",{attrs:{slot:"label"},slot:"label"},[i("span",[t._v("上传入库照片")]),i("p",{staticClass:"l-fs-xs l-txt-gray",staticStyle:{margin:"5px 0 0 0","line-height":"1.5"}},[t._v("整车照片（左前45度一张，右后45度一张）、车顶、中控台、内饰（前排桌椅一张，后排座椅一张）、后备箱（含备胎、工具箱及其他）、发动机舱、仪表盘（含公里数）、铭牌、车钥匙")])]),i("uploader",{attrs:{"file-list":t.images.image,"sample-pic":t.sample.image},on:{"update:fileList":function(e){t.$set(t.images,"image",e)}}})],1),i("el-form-item",{attrs:{label:"《入库指令单》",prop:"stockSheet"}},[i("uploader",{attrs:{"file-list":t.images.stockSheet,"sample-pic":t.sample.stockSheet},on:{"update:fileList":function(e){t.$set(t.images,"stockSheet",e)}}})],1),i("el-form-item",{attrs:{label:"订单物流费用",prop:"logisticsFee"}},[i("el-input",{attrs:{placeholder:"请输入金额",maxlength:11},model:{value:t.dialog.data.logisticsFee,callback:function(e){t.$set(t.dialog.data,"logisticsFee",e)},expression:"dialog.data.logisticsFee"}},[i("template",{slot:"append"},[t._v("元")])],2)],1),i("el-form-item",{staticStyle:{width:"515px"},attrs:{label:"车辆入库地址",prop:"stockAddress"}},[i("el-input",{attrs:{placeholder:"请输入车辆入库地址"},model:{value:t.dialog.data.stockAddress,callback:function(e){t.$set(t.dialog.data,"stockAddress",e)},expression:"dialog.data.stockAddress"}})],1),i("el-form-item",{staticStyle:{width:"515px"},attrs:{label:"备注信息",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4}},model:{value:t.dialog.data.remark,callback:function(e){t.$set(t.dialog.data,"remark",e)},expression:"dialog.data.remark"}})],1)],1)],1),i("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialog()}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",loading:t.dialog.loading},on:{click:t.submitDialog}},[t._v(t._s(t.dialog.loading?"提交中...":"确定提交"))])],1)])},E=[],T={name:"dialog-instock",components:{Uploader:u["a"]},props:{visible:{type:Boolean,default:!1},formType:{type:String,default:"new"},formData:Object,append:{type:Boolean,default:!1}},data:function(){return{sample:{image:["http://qiniu.hsbro.cn/%E9%AA%8C%E8%BD%A6%E7%85%A7%E7%89%87.jpg"],stockSheet:["http://qiniu.hsbro.cn/%E5%85%A5%E5%BA%93-%E5%85%A5%E5%BA%93%E6%8C%87%E4%BB%A4%E5%8D%95.jpg"]},images:{image:[],stockSheet:[]},dialog:{title:"录入入库信息",visible:!1,loading:!1,rules:{image:[{required:!0,message:"必选项",trigger:"blur"}],stockSheet:[{required:!0,message:"必选项",trigger:"blur"}],logisticsFee:[{required:!0,message:"必选项",trigger:"blur"}]},data:{orderId:null,image:"",stockSheet:"",stockAddress:"",logisticsFee:"",remark:""}}}},watch:{visible:{immediate:!0,handler:function(t){t&&this.showDialog()}}},methods:{getImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this.images);return Object.keys(e).forEach(function(t){e[t]=e[t].join(",")}),this.$utils.copyObj(t,e)},showDialog:function(){this.$utils.copyObj(this.dialog.data,this.formData),this.dialog.visible=!0},closeDialog:function(t){t?t():this.dialog.visible=!1,this.$emit("update:visible",this.dialog.visible)},submitDialog:function(){var t=this,e=this.getImages(this.dialog.data);this.$refs.infoForm.validate(function(i){i?(t.dialog.loading=!0,t.$api.order.instock(e).then(function(e){var i=e.data;t.$message.success(t.dialog.title+"成功"),t.$emit("change",i),t.closeDialog()}).finally(function(){t.dialog.loading=!1})):t.$message.error("请完善表单信息")})}}},P=T,F=(i("iAE1"),Object(p["a"])(P,I,E,!1,null,"f850f1c6",null)),O=F.exports,U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":t.append,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":t.closeDialog,title:t.dialog.title,visible:t.dialog.visible,width:"650px"},on:{"update:visible":function(e){t.$set(t.dialog,"visible",e)}}},[i("div",{staticClass:"l-scroll",staticStyle:{"max-height":"400px","margin-top":"-15px"}},[i("div",{staticStyle:{margin:"0 15px 20px"}},[i("p",[i("span",[t._v("计息融资金额："),i("b",{staticClass:"l-rmb"},[t._v(t._s(t.formData.adjustAmount))])]),i("span",{staticClass:"l-liney"}),i("span",[t._v("产生利息："),i("b",{staticClass:"l-rmb"},[t._v(t._s(t.rateAmount))])]),i("span",{staticClass:"l-liney"}),i("span",[t._v("日利率："+t._s(t.formData.rate)+"%")])]),i("p",{staticStyle:{color:"#a1a6ba","margin-top":"5px","font-size":"13px"}},[i("span",[t._v("实际放款日期："+t._s(t.formData.voucherTime))]),i("span",{staticClass:"l-liney"}),i("span",[t._v("结算提车日期："+t._s(t.formData.settleDate))]),i("span",{staticClass:"l-liney"}),i("span",[t._v("垫资时长："+t._s(t.loanTime)+"天")])])]),i("el-form",{ref:"infoForm",staticClass:"l-margin-l l-form-1",attrs:{inline:"","label-position":"top","label-width":"90px",model:t.dialog.data,rules:t.dialog.rules},nativeOn:{submit:function(t){t.preventDefault()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.submitDialog(e):null}}},[i("el-form-item",{attrs:{label:"",prop:"ticketDate"}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("票证收齐日期"),i("i",{staticClass:"l-fs-xs",staticStyle:{color:"#a1a6ba"}},[t._v("（处理方案："+t._s(t.scheme[t.formData.scheme])+"）")])]),i("el-date-picker",{staticStyle:{width:"250px"},attrs:{"picker-options":t.dateOptions,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.dialog.data.ticketDate,callback:function(e){t.$set(t.dialog.data,"ticketDate",e)},expression:"dialog.data.ticketDate"}})],1),i("br"),i("el-form-item",{attrs:{label:"",prop:"ticketFee"}},[i("span",{attrs:{slot:"label"},slot:"label"},[t._v("票证滞纳费")]),i("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入",maxlength:11},model:{value:t.dialog.data.ticketFee,callback:function(e){t.$set(t.dialog.data,"ticketFee",e)},expression:"dialog.data.ticketFee"}},[i("template",{slot:"append"},[t._v("元")])],2)],1),i("el-form-item",{attrs:{label:"其他第三方费用",prop:"otherFee"}},[i("el-input",{attrs:{placeholder:"请输入",maxlength:11},model:{value:t.dialog.data.otherFee,callback:function(e){t.$set(t.dialog.data,"otherFee",e)},expression:"dialog.data.otherFee"}},[i("template",{slot:"append"},[t._v("元")])],2)],1),i("el-form-item",{staticStyle:{width:"515px"},attrs:{label:"备注信息",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",placeholder:"如：其他费用说明",autosize:{minRows:2,maxRows:4}},model:{value:t.dialog.data.remark,callback:function(e){t.$set(t.dialog.data,"remark",e)},expression:"dialog.data.remark"}})],1),i("el-form-item",{attrs:{label:"备注附件",prop:"remarkImage"}},[i("uploader",{attrs:{"file-list":t.images.remarkImage,"sample-pic":t.sample.remarkImage},on:{"update:fileList":function(e){t.$set(t.images,"remarkImage",e)}}})],1)],1)],1),i("span",{staticClass:"l-margin-r-m",attrs:{slot:"footer"},slot:"footer"},[i("span",{staticClass:"l-fl"},[i("b",{staticClass:"l-fs-x2"},[t._v("溢价回购总额："),i("i",{staticClass:"l-rmb l-txt-theme"},[t._v(t._s(t.totalAmount))])])]),i("el-button",{attrs:{white:""},on:{click:function(e){t.closeDialog()}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",loading:t.dialog.loading},on:{click:t.submitDialog}},[t._v(t._s(t.dialog.loading?"提交中...":"确定提交"))])],1)])},L=[],B={name:"dialog-settle2",components:{Uploader:u["a"]},props:{visible:{type:Boolean,default:!1},formType:{type:String,default:"new"},formData:Object,append:{type:Boolean,default:!1}},computed:{loanTime:function(){var t=this.$utils.str2date(this.formData.settleDate).getTime(),e=this.$utils.str2date(this.formData.voucherTime).getTime();return Math.ceil((t-e)/864e5)+1},rateAmount:function(){return(this.formData.adjustAmount*this.formData.rate/100*this.loanTime).toFixed(2)},ticketFee:{get:function(){var t=this.$utils.str2date(this.dialog.data.ticketDate).getTime(),e=this.$utils.str2date(this.formData.voucherTime).getTime()+7776e5,i=Math.ceil((t-e)/864e5),a=this.formData.scheme,n=0;return i>0&&(n=1===a?Math.ceil(i/3)*this.formData.adjustAmount*5/100:300*i),this.dialog.data.ticketDate?n:0},set:function(t){return t}},totalAmount:function(){var t=Number(this.formData.adjustAmount)+Number(this.rateAmount)+(Number(this.dialog.data.ticketFee)||0);return t.toFixed(2)}},data:function(){var t=this;return{dateOptions:{disabledDate:function(e){return e.getTime()<t.$utils.str2date(t.formData.voucherTime)}},scheme:["","每3天交计息融资金额5%的保证金，票证收齐或还款后将退回","毎天产生300元票证滞纳金，算入溢价回购金额"],sample:{remarkImage:["https://placeholdit.imgix.net/~text?txtsize=20&bg=eee&txtclr=999&txt=image&w=100&h=100"]},images:{remarkImage:[]},dialog:{title:"确定结算金额",visible:!1,loading:!1,rules:{ticketDate:[{required:!0,message:"必选项",trigger:"blur"}]},data:{orderId:"",totalAmount:"",ticketFee:"",ticketDate:"",otherFee:"",remark:"",remarkImage:""}}}},watch:{visible:{immediate:!0,handler:function(t){t&&this.showDialog()}}},methods:{getImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this.images);return Object.keys(e).forEach(function(t){e[t]=e[t].join(",")}),this.$utils.copyObj(t,e)},showDialog:function(){this.$utils.copyObj(this.dialog.data,this.formData),this.dialog.data.remark="",this.dialog.visible=!0},closeDialog:function(t){t?t():this.dialog.visible=!1,this.$emit("update:visible",this.dialog.visible)},submitDialog:function(){var t=this,e=Object.assign({},this.getImages(this.dialog.data),{orderId:this.formData.id,totalAmount:this.totalAmount});this.$refs.infoForm.validate(function(i){i?(t.dialog.loading=!0,t.$api.order.verifyAmount(e).then(function(e){var i=e.data;t.$message.success("结算金额成功，等待财务审核确认"),t.$emit("change",i),t.closeDialog()}).finally(function(){t.dialog.loading=!1})):t.$message.error("请完善表单信息")})}}},R=B,M=(i("ffnc"),Object(p["a"])(R,U,L,!1,null,"c46933b0",null)),j=M.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"append-to-body":t.append,"close-on-press-escape":!1,"before-close":t.closeDialog,title:t.dialog.title,visible:t.dialog.visible,width:"600px"},on:{"update:visible":function(e){t.$set(t.dialog,"visible",e)}}},[5===t.formType?i("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("物流公司名称")]),i("td",[t._v(t._s(t.formData.name))]),i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("物流板车车牌号")]),i("td",[t._v(t._s(t.formData.plateNumber))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("提车人姓名")]),i("td",[t._v(t._s(t.formData.pickUpName))]),i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("提车人身份证号")]),i("td",[t._v(t._s(t.formData.idCard))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车人姓名")]),i("td",[t._v(t._s(t.formData.checkName))]),i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车人身份证号")]),i("td",[t._v(t._s(t.formData.checkIdCard))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("物流日期")]),i("td",{attrs:{colspan:"3"}},["shop"===t.$router.platform?i("span",[t._v(t._s(t.formData.logisticsTime))]):[t.wuliu.edit?i("div",[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{clearable:!1,type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.formData.logisticsTime,callback:function(e){t.$set(t.formData,"logisticsTime",e)},expression:"formData.logisticsTime"}}),i("el-button",{staticClass:"l-margin-l",attrs:{disabled:t.wuliu.loading,type:"success"},nativeOn:{click:function(e){t.wuliuSubmit()}}},[t._v(t._s(t.wuliu.loading?"保存中":"保存"))])],1):i("div",[t._v("\n            "+t._s(t.formData.logisticsTime)+"\n            "),i("el-button",{staticClass:"l-margin-l-x2",attrs:{type:"success"},nativeOn:{click:function(e){t.wuliu.edit=!0}}},[t._v("修改")])],1)]],2)]),"admin"===t.$router.platform?i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("运输单")]),i("td",{attrs:{colspan:"3"}},[i("image-previewer",{attrs:{"file-list":t.formData.contract}})],1)]):t._e(),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("备注信息")]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.formData.remark))])])]):0===t.formType?i("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车照片")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.image}})],1)]),"admin"===t.$router.platform?[i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("购车合同")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.contract}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("运输乘用车运输单")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.transportList}})],1)])]:t._e(),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("备注信息")]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.formData.remark))])])],2):1===t.formType?i("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("装车照片")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.image}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("4S店提车交接表")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.handover}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("4S店购车全款收据")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.voucher}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("备注信息")]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.formData.remark))])])]):3===t.formType?i("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("入库照片")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.image}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("入库指令单")]),i("td",[i("image-previewer",{attrs:{"file-list":t.formData.stockSheet}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("订单物流费用")]),i("td",{attrs:{colspan:"3"}},[i("i",{staticClass:"l-rmb"},[t._v(t._s(t.formData.logisticsFee))])])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("车辆入库地址")]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.formData.stockAddress))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("备注信息")]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.formData.remark))])])]):26===t.formType?i("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("提车人姓名")]),i("td",[t._v(t._s(t.formData.userName))]),i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("提车人手机号码")]),i("td",[t._v(t._s(t.formData.phone))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("提车人身份证号")]),i("td",[t._v(t._s(t.formData.idCard))]),i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("提车时间")]),i("td",[t._v(t._s(t.formData.settleDate))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("身份证正反面")]),i("td",{attrs:{colspan:"3"}},[i("image-previewer",{attrs:{"file-list":[t.formData.idCardOn,t.formData.idCardOff]}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("提车申请书")]),i("td",{attrs:{colspan:"3"}},[i("image-previewer",{attrs:{"file-list":t.formData.applyLetter}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("备注信息")]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.formData.remark))])])]):31===t.formType?i("table",{staticClass:"l-table-02",staticStyle:{width:"100%"}},[i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车人姓名")]),i("td",[t._v(t._s(t.formData.userName))]),i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车人手机号码")]),i("td",[t._v(t._s(t.formData.phone))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车人身份证号")]),i("td",[t._v(t._s(t.formData.idCard))]),i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车时间")]),i("td",[t._v(t._s(t.formData.settleDate))])]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("身份证正反面")]),i("td",[i("image-previewer",{attrs:{"file-list":[t.formData.idCardOn,t.formData.idCardOff]}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("验车申请书")]),i("td",{attrs:{colspan:"3"}},[i("image-previewer",{attrs:{"file-list":t.formData.applyLetter}})],1)]),i("tr",[i("td",{staticClass:"_tit",attrs:{width:"100"}},[t._v("备注信息")]),i("td",{attrs:{colspan:"3"}},[t._v(t._s(t.formData.remark))])])]):t._e()])},N=[],G={name:"dialog-viewer",components:{Uploader:u["a"],ImagePreviewer:s["a"]},props:{visible:{type:Boolean,default:!1},formType:[Number,String],formData:Object,append:{type:Boolean,default:!1}},data:function(){return{sample:{image:["http://qiniu.hsbro.cn/%E9%AA%8C%E8%BD%A6%E7%85%A7%E7%89%87.jpg"],stockSheet:["http://qiniu.hsbro.cn/%E5%85%A5%E5%BA%93-%E5%85%A5%E5%BA%93%E6%8C%87%E4%BB%A4%E5%8D%95.jpg"]},images:{image:[],stockSheet:[]},dialog:{title:"查看详情",visible:!1,loading:!1,rules:{image:[{required:!0,message:"必选项",trigger:"blur"}],stockSheet:[{required:!0,message:"必选项",trigger:"blur"}]},data:{orderId:null,image:"",stockSheet:"",stockAddress:"",remark:""}},wuliu:{edit:!1,loading:!1}}},watch:{visible:{immediate:!0,handler:function(t){t&&this.showDialog()}}},methods:{getImages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},this.images);return Object.keys(e).forEach(function(t){e[t]=e[t].join(",")}),this.$utils.copyObj(t,e)},showDialog:function(){switch(this.formType){case 5:this.dialog.title="查看物流信息";break;case 0:this.dialog.title="查看验车信息";break;case 1:this.dialog.title="查看装车信息";break;case 3:this.dialog.title="查看入库信息";break;case 26:this.dialog.title="查看结算申请信息";break;case 31:this.dialog.title="查看验车申请信息";break;default:this.dialog.title="查看详情"}this.$utils.copyObj(this.dialog.data,this.formData),this.dialog.visible=!0},closeDialog:function(t){t?t():this.dialog.visible=!1,this.$emit("update:visible",this.dialog.visible)},submitDialog:function(){var t=this,e=this.getImages(this.dialog.data);this.$refs.infoForm.validate(function(i){i?(t.dialog.loading=!0,t.$api.order.instock(e).then(function(e){var i=e.data;t.$message.success(t.dialog.title+"成功"),t.$emit("change",i),t.closeDialog()}).finally(function(){t.dialog.loading=!1})):t.$message.error("请完善表单信息")})},wuliuSubmit:function(){var t=this;this.wuliu.loading=!0,this.$api.order.editWuliu({orderId:this.formData.orderId,logisticsTime:this.formData.logisticsTime}).then(function(){t.wuliu.edit=!1,t.$message.success("物流日期修改成功")}).finally(function(){t.wuliu.loading=!1})}}},q=G,V=(i("Gg5y"),Object(p["a"])(q,$,N,!1,null,"43e9d33c",null)),z=V.exports,H=i("L2JU"),W={name:"order-info",components:{ImagePreviewer:s["a"],dialogWuliu:h,dialogCheckcar:w,dialogLoadcar:D,dialogInstock:O,dialogSettle:j,dialogViewer:z},data:function(){return{stateList:[{label:"全部",value:"",css:""},{label:"待受理",value:0,css:"l-alert-warn",icon:"el-icon-warning"},{label:"待收保证金",value:2,css:"l-alert-warn",icon:"el-icon-warning"},{label:"待物流装车",value:3,css:"l-alert-warn",icon:"el-icon-warning"},{label:"途中待入库",value:4,css:"l-alert-warn"},{label:"车辆已入库",value:5,css:"l-alert-warn"},{label:"结算申请",value:6,css:"l-alert-warn"},{label:"待出票证",value:7,css:"l-alert-warn"},{label:"已逾期",value:8,css:"l-alert-error"},{label:"已完成",value:9,css:"l-alert-ok",icon:"el-icon-success"},{label:"不受理",value:-2,css:"l-alert-gray"},{label:"不同意放车",value:-9,css:"l-alert-gray"},{label:"订单异常",value:-10,css:"l-alert-error"},{label:"已关闭",value:-11,css:"l-alert-gray"}],statusList:{"-1":{label:"总经理已拒绝"},0:{label:"订单审核中"},1:{label:"待签署合同"},2:{label:"待录入物流信息"},4:{label:"待录入验车信息"},6:{label:"待汽贸店允许提车"},8:{label:"待总经理同意放款 "},10:{label:"待财务放款给4S店"},12:{label:"待录入装车信息"},14:{label:"待录入入库信息"},16:{label:"待汽贸店申请结算"},18:{label:"待审核结算申请"},20:{label:"待财务确认结算"},22:{label:"待汽贸店付款提车"},24:{label:"待财务确认收款"},26:{label:"待总经理确认放车"}},pay4sState:{0:"放款成功，银行处理中","-1":"转账失败，资金将原路退回",1:"转账成功",2:"转账失败，资金已原路退回"},images:[],contractList:{B3:{loading:!1,type:0,state:0,title:"",contractUrl:""},B4:{loading:!1,type:0,state:0,title:"",contractUrl:""}},formData:{title:"拒绝原因",loading:!1,visible:!1,orderId:"",state:"",reason:""},closeReason:{title:"关闭订单",loading:!1,visible:!1,reason:""},dialogAmount:{title:"调整融资金额及利率",loading:!1,visible:!1,data:{orderId:"",amount:"",rate:""}},wuliuVisible:!1,checkcarVisible:!1,loadcarVisible:!1,instockVisible:!1,settleVisible:!1,dialogViewer:{visible:!1,type:"",info:{}},dialogAmount2:{title:"确认结算金额",visible:!1,loading:!1,info:null,state:0,reason:""},dialog4sAmount:{title:"代付车款",visible:!1,loading:!1,amount:0,code:""},dialogAmount3:{title:"确认收款",visible:!1,loading:!1,code:""},info:null}},computed:Object(o["a"])({},Object(H["b"])(["userInfo"]),{pay4sAmount:function(){return Number(this.info.adjustAmount||this.info.amount)+Number(this.info.adjustBond||this.info.bond)},loanTime:function(){var t=this.$utils.str2date(this.info.settleDate).getTime(),e=this.$utils.str2date(this.info.voucherTime).getTime();return Math.ceil((t-e)/864e5)+1}}),methods:{sendCode:function(t){var e=this;this.$api.sendMobiCode(this.userInfo.phone,t.target).then(function(){e.$message.success("短信授权码已发送到手机，请留意查收。")})},uploadClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"B3",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.contractType=t,0===e&&(this.contractList[t].type=e,this.contractList[t].contractUrl=this.info.contractList[t].Template)},uploadChange:function(t){var e=this;e.contractList[e.contractType].type=1,e.$utils.fileToBlob(t.raw).then(function(i){e.contractList[e.contractType].loading=!0,e.$api.getQiniuToken().then(function(a){a.token?r["upload"](i,Date.now()+"_"+t.name,a.token).subscribe({next:function(){},error:function(t){var i=t.message;e.$message.error(i)},complete:function(t){e.contractList[e.contractType].loading=!1,e.contractList[e.contractType].contractUrl=e.$api.qiniuURL+t.key}}):(e.$message.error("合同上传失败"),e.contractList[e.contractType].loading=!1)}).catch(function(){e.contractList[e.contractType].loading=!1})}).catch(function(t){var i=t.message;e.$message.error(i)})},getState:function(t){return this.stateList.filter(function(e){return e.value===t})[0]||{}},previewImage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.images=i,setTimeout(function(){t.$refs.viewer.preview(e)},50)},getInfo:function(){var t=this;this.$nprogress.start(),this.$api.order.getInfo(this.$route.query.id).then(function(e){var i=e.data;i.voucher=i.voucher?i.voucher.split(","):[],i.bankCard=i.bankCard?i.bankCard.split(","):[],i.contractUrl=i.contractUrl?i.contractUrl.split(","):[],0===t.contractList.B3.type&&(t.contractList.B3.contractUrl=i.contractList.B3.Template,t.contractList.B3.title=i.contractList.B3.Title),0===t.contractList.B4.type&&(t.contractList.B4.contractUrl=i.contractList.B4.Template,t.contractList.B4.title=i.contractList.B4.Title),t.info=i}).finally(function(){t.$nprogress.done()})},showDialogAmount:function(){this.dialogAmount.data.amount=this.info.adjustAmount,this.dialogAmount.data.rate=this.info.rate,this.dialogAmount.visible=!0},closeDialogAmount:function(t){t?t():this.dialogAmount.visible=!1},submitDialogAmount:function(){var t=this;return this.dialogAmount.data.amount?this.dialogAmount.data.rate?(this.dialogAmount.data.orderId=this.info.id,this.dialogAmount.loading=!0,void this.$api.order.changeAmount(this.dialogAmount.data).then(function(){t.$message.success("调整计息融资金额及利率成功"),t.closeDialogAmount(),t.getInfo()}).finally(function(){t.dialogAmount.loading=!1})):this.$message.error("请输入日利率"):this.$message.error("请输入计息融资额度")},submitConfirm:function(){var t=this;this.$confirm("请确认计息融资金额及利率无误，签署合同内容正确<br/>确认通过会向总经理发起签署合同请求，是否继续？",{dangerouslyUseHTMLString:!0,confirmButtonText:"确认通过",cancelButtonText:"取消"}).then(function(){t.submit(2)})},submit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,i=Object.assign({},this.formData);if(2===e){if(!this.info.rate)return this.$message.error("请设置日利率");i.contractList=JSON.stringify(this.contractList)}else if(1===e){if(!i.reason)return this.$message.error("请输入拒绝原因");this.formData.visible=!1}i.orderId=this.info.id,i.state=e;var a=this.$loading();this.$api.order.verify(i).then(function(){t.$message({type:"success",message:"操作成功",duration:1e3,onClose:function(){t.getInfo()}})}).finally(function(){a.close()})},submitClose:function(){var t=this,e=this.$loading();this.$api.order.close({orderId:this.info.id,reason:this.closeReason.reason}).then(function(){t.closeReason.visible=!1,t.$message({type:"success",message:"订单关闭成功",duration:1e3,onClose:function(){t.getInfo()}})}).finally(function(){e.close()})},closeDialog4sAmount:function(t){t?t():this.dialog4sAmount.visible=!1},submitDialog4sAmount:function(){var t=this;if(!this.dialog4sAmount.code)return this.$message.error("请输入短信授权码");this.dialog4sAmount.loading=!0,this.$api.order.pay4sAmount({orderId:this.info.id,amount:this.pay4sAmount,code:this.dialog4sAmount.code}).then(function(){t.closeDialog4sAmount(),t.$alert("放款成功，等待银行处理。付款状态实际已银行入账为准，如最终入账失败，资金将原路退回！","放款说明",{confirmButtonText:"知道了",callback:function(){t.getInfo()}})}).finally(function(){t.dialog4sAmount.loading=!1})},showDialogAmount2:function(){var t=this,e=(this.info.records.filter(function(t){return 8===t.type})[0]||{}).id;if(e){var i=this.$loading();this.$api.order.getRecordInfo(e).then(function(e){var i=e.data;t.dialogAmount2.info=i,t.dialogAmount2.visible=!0}).finally(function(){i.close()})}else this.dialogAmount2.visible=!0},closeDialogAmount2:function(t){t?t():this.dialogAmount2.visible=!1},submitDialogAmount2:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(0===e&&!this.dialogAmount2.reason)return this.$message.error("请输入拒绝原因");this.dialogAmount2.loading=!0,this.$api.order.verifyAmount2({state:e,orderId:this.info.id,reason:this.dialogAmount2.reason}).then(function(){t.closeDialogAmount2(),t.$message.success(0===e?"拒绝成功，打回给业务员重新结算":"确认金额成功，等待汽贸店付款提车"),t.getInfo()}).finally(function(){t.dialogAmount2.loading=!1})},closeDialogAmount3:function(t){t?t():this.dialogAmount3.visible=!1},submitDialogAmount3:function(){var t=this;if(!this.dialogAmount3.code)return this.$message.error("请输入短信授权码");this.dialogAmount3.loading=!0,this.$api.order.verifyAmount3({orderId:this.info.id,amount:this.info.amount,otherFee:this.info.otherFee,code:this.dialogAmount3.code}).then(function(){t.closeDialogAmount3(),t.$message.success("确认收款成功，等待总经理确认放车"),t.getInfo()}).finally(function(){t.dialogAmount3.loading=!1})},showViewer:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$nprogress.start(),this.$api.order.getRecordInfo(e.id).then(function(i){var a=i.data;t.dialogViewer.type=e.type,t.dialogViewer.info=a,t.dialogViewer.visible=!0}).finally(function(){t.$nprogress.done()})}},mounted:function(){this.getInfo()}},Y=W,J=(i("Cauy"),Object(p["a"])(Y,a,n,!1,null,"7d0edd00",null));e["default"]=J.exports},Gg5y:function(t,e,i){"use strict";var a=i("VdmP"),n=i.n(a);n.a},GxVS:function(t,e,i){},INYr:function(t,e,i){"use strict";var a=i("XKFU"),n=i("CkkT")(6),o="findIndex",r=!0;o in[]&&Array(1)[o](function(){r=!1}),a(a.P+a.F*r,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),i("nGyu")(o)},PFuD:function(t,e,i){},TsVf:function(t,e,i){},TtEn:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l-uploader"},[i("el-upload",{staticClass:"l-upload-card",attrs:{name:"image",accept:"image/*","list-type":"picture-card",multiple:"",data:t.formData,limit:t.limit,"file-list":t.files,action:t.$api.uploadURL,"on-success":t.uploadSuccess,"on-remove":t.uploadRemove,"on-preview":t.uploadPreview,"on-progress":t.uploadProgress,"on-error":t.uploadError,"on-exceed":t.uploadExceed,"before-upload":t.uploadBefore}},[t.fileNum<t.limit?i("div",{attrs:{slot:"trigger"},slot:"trigger"},[0===t.fileNum?i("div",{staticClass:"_tip-imgs",on:{click:function(t){t.stopPropagation()}}},[i("image-previewer",{attrs:{"file-list":t.images}})],1):t._e(),i("div",{staticClass:"_tip-txt"},[i("div",{staticClass:"_slot",on:{click:function(t){t.stopPropagation()}}},[t._t("default",[i("p",[t._v(t._s(t.tip))]),i("p",[t._v("支持JPG/PNG格式")])])],2),i("a",{staticClass:"_slt"},[t._v("选择文件")])])]):t._e()]),i("image-previewer",{ref:"viewer",staticStyle:{display:"none"},attrs:{"file-list":t.fileList}})],1)},n=[],o=(i("INYr"),i("f3/d"),i("iv4g")),r=(i("xfY5"),i("O6p1")),s={components:{ImagePreviewer:r["a"]},props:{fileList:{type:Array,default:function(){return[]}},samplePic:{type:Array,default:function(){return[]}},limit:{type:Number,default:50},tip:{type:String,default:"示例图"}},data:function(){return{formData:{},waiting:0,fileNum:0}},computed:{files:{get:function(){var t=this;return this.fileList.map(function(e){return{name:t.$utils.guid(),url:t.$utils.imgThumb(e,150,150),src:e,status:"success"}})},set:function(t){this.$emit("update:fileList",t&&t.length>=0?t.map(function(t){return t.src}):[])}},images:function(){return Object(o["a"])(this.samplePic)}},watch:{files:{immediate:!0,handler:function(t){this.fileNum=t.length}}},methods:{uploadSuccess:function(t,e){if(this.files.push({name:e.name,url:this.$utils.imgThumb(t.data.url,150,150),src:t.data.url,status:"success"}),--this.waiting<=0){var i=this.files.map(function(t){return t.src});this.$emit("upload-success",i),this.$emit("update:fileList",i)}},uploadBefore:function(){++this.fileNum,++this.waiting},uploadPreview:function(t){this.$refs.viewer.preview(this.files.findIndex(function(e){return e.url===t.url})||0)},uploadRemove:function(t){"success"===t.status?this.files=this.files.filter(function(e){return t.response?e.src!==t.response.data.url:e.src!==(t.src||t.url)}):--this.waiting,--this.fileNum},uploadProgress:function(t,e,i){},uploadError:function(t,e){this.$notify.error({title:"上传失败",message:"图片".concat(e.name,"上传失败")})},uploadExceed:function(){this.$message.error("最多上传"+this.limit+"张照片")}},mounted:function(){this.formData.timestamp=Date.now(),this.formData.sign=this.$api.md5(this.$utils.sign(this.formData))}},l=s,c=(i("sx7D"),i("KHd+")),u=Object(c["a"])(l,a,n,!1,null,null,null);e["a"]=u.exports},VdmP:function(t,e,i){},ffnc:function(t,e,i){"use strict";var a=i("nmSV"),n=i.n(a);n.a},iAE1:function(t,e,i){"use strict";var a=i("1hiS"),n=i.n(a);n.a},jfFt:function(t,e,i){"use strict";var a=i("TsVf"),n=i.n(a);n.a},kxTw:function(t,e,i){"use strict";var a=i("wMZ1"),n=i.n(a);n.a},nmSV:function(t,e,i){},sVNT:function(t,e){t.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QOIaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6M2E1YWNkZTQtNmJmZS1lYTQzLTg4MTktZTkyNGFhOTA5NWY4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyRDdBMENEQUE2QzExRThBOEU2RDhENDQyNTZDNTREIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyRDdBMENDQUE2QzExRThBOEU2RDhENDQyNTZDNTREIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MDMzYmQ2Ny04N2JhLTljNDUtYjJjNS1jZTVmZDA2ZGZhZTciIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmNjUzMmY4NC0yNGFhLTg1NDAtOTNiNi1lNjQyZjMzOWE5NDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYGCAsMCgoLCgoMEAwMDAwMDBAMDg8QDw4MExMUFBMTHBsbGxwfHx8fHx8fHx8fAQcHBw0MDRgQEBgaFREVGh8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx//wAARCAASABIDAREAAhEBAxEB/8QAdwAAAwEBAAAAAAAAAAAAAAAAAwQGBQgBAAIDAAAAAAAAAAAAAAAAAAMEAgUGEAABAQYEBgMAAAAAAAAAAAABAgARgQMEBTFREjIhQWFCFAaCohMRAAECBgEDBQAAAAAAAAAAAAEAAhExEgMEBaEhQRNRgbEyFP/aAAwDAQACEQMRAD8A6Dvd7l0cvWt5BOmXLTwKiM2o9jsRaET7D1T2NjF5gEnZvZEVc4yggyZrnhJOoKAx5Bk9ftxddTCl3yjZGGWCMwqHzJeXa+OTaD9A4SHjU97JZp9WhIlO/WSSUpPAKCusGz+317roFP2byn8PIDD1kVn2Gw1dPVipqQEFAIQgEKJKg7k8YFkNZrLlu5W/pCQTGVlNc2lqq/CX9XxybU/nPCqvKEas2Db8sYMbIl2UbaDRb+2O6DBx59lO4nmdQF//2Q=="},sx7D:function(t,e,i){"use strict";var a=i("PFuD"),n=i.n(a);n.a},wMZ1:function(t,e,i){},zqLv:function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,function(){return function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=58)}([function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(t,e,i){var a=i(30)("wks"),n=i(22),o=i(0).Symbol,r="function"==typeof o;(t.exports=function(t){return a[t]||(a[t]=r&&o[t]||(r?o:n)("Symbol."+t))}).store=a},function(t,e,i){var a=i(7);t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var a=i(0),n=i(1),o=i(19),r=i(5),s=i(9),l=function(t,e,i){var c,u,f,d=t&l.F,p=t&l.G,m=t&l.S,h=t&l.P,g=t&l.B,v=t&l.W,b=p?n:n[e]||(n[e]={}),y=b.prototype,_=p?a:m?a[e]:(a[e]||{}).prototype;for(c in p&&(i=e),i)(u=!d&&_&&void 0!==_[c])&&s(b,c)||(f=u?_[c]:i[c],b[c]=p&&"function"!=typeof _[c]?i[c]:g&&u?o(f,a):v&&_[c]==f?function(t){var e=function(e,i,a){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,a)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):h&&"function"==typeof f?o(Function.call,f):f,h&&((b.virtual||(b.virtual={}))[c]=f,t&l.R&&y&&!y[c]&&r(y,c,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){var a=i(6),n=i(21);t.exports=i(8)?function(t,e,i){return a.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var a=i(3),n=i(43),o=i(28),r=Object.defineProperty;e.f=i(8)?Object.defineProperty:function(t,e,i){if(a(t),e=o(e,!0),a(i),n)try{return r(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var a=i(47),n=i(26);t.exports=function(t){return a(n(t))}},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function n(t){return(0,m.default)(t).filter(function(t){return t.startsWith("x:")}).map(function(e){return[e,t[e].toString()]})}function o(t){return"qiniu_js_sdk_upload_file_"+t.name+"_size_"+t.size}function r(t){return{Authorization:"UpToken "+t}}function s(){return window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")}function l(t){return new f.default(function(e,i){var a=new FileReader;a.readAsArrayBuffer(t),a.onload=function(t){var i=t.target.result;e(i)},a.onerror=function(){i(new Error("fileReader 读取错误"))}})}function c(t,e){return new f.default(function(i,a){var n=s();n.open(e.method,t),e.onCreate&&e.onCreate(n),e.headers&&(0,m.default)(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])}),n.upload.addEventListener("progress",function(t){t.lengthComputable&&e.onProgress&&e.onProgress({loaded:t.loaded,total:t.total})}),n.onreadystatechange=function(){var t=n.responseText;if(4===n.readyState){var e=n.getResponseHeader("x-reqId")||"";if(200!==n.status){var o="xhr request failed, code: "+n.status+";";return t&&(o=o+" response: "+t),void a({code:n.status,message:o,reqId:e,isRequestError:!0})}try{i({data:JSON.parse(t),reqId:e})}catch(t){a(t)}}},n.send(e.body)})}function u(){return"http:"===window.location.protocol?"http:":"https:"}e.__esModule=!0;var f=a(i(18)),d=a(i(34)),p=a(i(86)),m=a(i(36));e.isChunkExpired=function(t){var e=t+864e5;return(new Date).getTime()>e},e.getChunks=function(t,e){for(var i=[],a=Math.ceil(t.size/e),n=0;n<a;n++){var o=t.slice(e*n,n===a-1?t.size:e*(n+1));i.push(o)}return i},e.filterParams=n,e.sum=function(t){return t.reduce(function(t,e){return t+e},0)},e.setLocalFileInfo=function(t,e){try{localStorage.setItem(o(t),(0,p.default)(e))}catch(t){window.console&&window.console.warn&&console.warn("setLocalFileInfo failed")}},e.removeLocalFileInfo=function(t){try{localStorage.removeItem(o(t))}catch(t){window.console&&window.console.warn&&console.warn("removeLocalFileInfo failed")}},e.getLocalFileInfo=function(t){try{return JSON.parse(localStorage.getItem(o(t)))||[]}catch(t){return window.console&&window.console.warn&&console.warn("getLocalFileInfo failed"),[]}},e.createMkFileUrl=function(t,e,i,a){var o=t+"/mkfile/"+e;null!=i&&(o+="/key/"+(0,h.urlSafeBase64Encode)(i)),a.mimeType&&(o+="/mimeType/"+(0,h.urlSafeBase64Encode)(a.mimeType));var r=a.fname;return r&&(o+="/fname/"+(0,h.urlSafeBase64Encode)(r)),a.params&&n(a.params).forEach(function(t){return o+="/"+encodeURIComponent(t[0])+"/"+(0,h.urlSafeBase64Encode)(t[1])}),o},e.getHeadersForChunkUpload=function(t){var e=r(t);return(0,d.default)({"content-type":"application/octet-stream"},e)},e.getHeadersForMkFile=function(t){var e=r(t);return(0,d.default)({"content-type":"text/plain"},e)},e.createXHR=s,e.computeMd5=function(t){return l(t).then(function(t){var e=new v.default.ArrayBuffer;return e.append(t),e.end()})},e.readAsArrayBuffer=l,e.request=c,e.getPortFromUrl=function(t){if(t&&t.match){var e=t.match(/(^https?)/);if(!e)return"";var i=e[1];return(e=t.match(/^https?:\/\/([^:^\/]*):(\d*)/))?e[2]:"http"===i?"80":"443"}return""},e.getDomainFromUrl=function(t){if(t&&t.match){var e=t.match(/^https?:\/\/([^:^\/]*)/);return e?e[1]:""}return""},e.getUploadUrl=function(t,e){var i=u();if(null!=t.uphost)return f.default.resolve(i+"//"+t.uphost);if(null!=t.region){var a=g.regionUphostMap[t.region],n=t.useCdnDomain?a.cdnUphost:a.srcUphost;return f.default.resolve(i+"//"+n)}return function(t){try{var e=function(t){var e=t.split(":"),i=e[0],a=JSON.parse((0,h.urlSafeBase64Decode)(e[2]));return a.ak=i,a.bucket=a.scope.split(":")[0],a}(t);return c(u()+"//api.qiniu.com/v2/query?ak="+e.ak+"&bucket="+e.bucket,{method:"GET"})}catch(t){return f.default.reject(t)}}(e).then(function(t){var e=t.data.up.acc.main;return i+"//"+e[0]})},e.isContainFileMimeType=function(t,e){return e.indexOf(t)>-1},e.createObjectURL=function(t){return(window.URL||window.webkitURL||window.mozURL).createObjectURL(t)},e.getTransform=function(t,e){var i=t.width,a=t.height;switch(e){case 1:return{width:i,height:a,matrix:[1,0,0,1,0,0]};case 2:return{width:i,height:a,matrix:[-1,0,0,1,i,0]};case 3:return{width:i,height:a,matrix:[-1,0,0,-1,i,a]};case 4:return{width:i,height:a,matrix:[1,0,0,-1,0,a]};case 5:return{width:a,height:i,matrix:[0,1,1,0,0,0]};case 6:return{width:a,height:i,matrix:[0,1,-1,0,a,0]};case 7:return{width:a,height:i,matrix:[0,-1,-1,0,a,i]};case 8:return{width:a,height:i,matrix:[0,-1,1,0,0,i]}}};var h=i(56),g=i(39),v=a(i(91))},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e,i){var a=i(46),n=i(31);t.exports=Object.keys||function(t){return a(t,n)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){t.exports={default:i(59),__esModule:!0}},function(t,e,i){var a=i(20);t.exports=function(t,e,i){if(a(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,a){return t.call(e,i,a)};case 3:return function(i,a,n){return t.call(e,i,a,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+a).toString(36))}},function(t,e,i){var a=i(6).f,n=i(9),o=i(2)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,o)&&a(t,o,{configurable:!0,value:e})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){var i=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var a=i(7),n=i(0).document,o=a(n)&&a(n.createElement);t.exports=function(t){return o?n.createElement(t):{}}},function(t,e,i){var a=i(7);t.exports=function(t,e){if(!a(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!a(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!a(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!a(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var a=i(30)("keys"),n=i(22);t.exports=function(t){return a[t]||(a[t]=n(t))}},function(t,e,i){var a=i(1),n=i(0),o=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:a.version,mode:i(13)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var a=i(26);t.exports=function(t){return Object(a(t))}},function(t,e,i){"use strict";var a=i(20);t.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,a){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=a}),this.resolve=a(e),this.reject=a(i)}(t)}},function(t,e,i){t.exports={default:i(83),__esModule:!0}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){t.exports={default:i(88),__esModule:!0}},function(t,e,i){e.f=i(2)},function(t,e,i){var a=i(0),n=i(1),o=i(13),r=i(37),s=i(6).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=o?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:r.f(t)})}},function(t,e,i){"use strict";e.__esModule=!0,e.regionUphostMap={z0:{srcUphost:"up.qiniup.com",cdnUphost:"upload.qiniup.com"},z1:{srcUphost:"up-z1.qiniup.com",cdnUphost:"upload-z1.qiniup.com"},z2:{srcUphost:"up-z2.qiniup.com",cdnUphost:"upload-z2.qiniup.com"},na0:{srcUphost:"up-na0.qiniup.com",cdnUphost:"upload-na0.qiniup.com"},as0:{srcUphost:"up-as0.qiniup.com",cdnUphost:"upload-as0.qiniup.com"}},e.region={z0:"z0",z1:"z1",z2:"z2",na0:"na0",as0:"as0"}},function(t,e){},function(t,e,i){"use strict";var a=i(60)(!0);i(42)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=a(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var a=i(13),n=i(4),o=i(44),r=i(5),s=i(14),l=i(61),c=i(23),u=i(65),f=i(2)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,i,m,h,g,v){l(i,e,m);var b,y,_,w=function(t){if(!d&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},C=e+" Iterator",x="values"==h,A=!1,k=t.prototype,S=k[f]||k["@@iterator"]||h&&k[h],D=S||w(h),I=h?x?w("entries"):D:void 0,E="Array"==e&&k.entries||S;if(E&&(_=u(E.call(new t)))!==Object.prototype&&_.next&&(c(_,C,!0),a||"function"==typeof _[f]||r(_,f,p)),x&&S&&"values"!==S.name&&(A=!0,D=function(){return S.call(this)}),a&&!v||!d&&!A&&k[f]||r(k,f,D),s[e]=D,s[C]=p,h)if(b={values:x?D:w("values"),keys:g?D:w("keys"),entries:I},v)for(y in b)y in k||o(k,y,b[y]);else n(n.P+n.F*(d||A),e,b);return b}},function(t,e,i){t.exports=!i(8)&&!i(10)(function(){return 7!=Object.defineProperty(i(27)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){t.exports=i(5)},function(t,e,i){var a=i(3),n=i(62),o=i(31),r=i(29)("IE_PROTO"),s=function(){},l=function(){var t,e=i(27)("iframe"),a=o.length;for(e.style.display="none",i(49).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;a--;)delete l.prototype[o[a]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=a(t),i=new s,s.prototype=null,i[r]=t):i=l(),void 0===e?i:n(i,e)}},function(t,e,i){var a=i(9),n=i(11),o=i(63)(!1),r=i(29)("IE_PROTO");t.exports=function(t,e){var i,s=n(t),l=0,c=[];for(i in s)i!=r&&a(s,i)&&c.push(i);for(;e.length>l;)a(s,i=e[l++])&&(~o(c,i)||c.push(i));return c}},function(t,e,i){var a=i(16);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},function(t,e,i){var a=i(25),n=Math.min;t.exports=function(t){return t>0?n(a(t),9007199254740991):0}},function(t,e,i){var a=i(0).document;t.exports=a&&a.documentElement},function(t,e,i){i(66);for(var a=i(0),n=i(5),o=i(14),r=i(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=a[c],f=u&&u.prototype;f&&!f[r]&&n(f,r,c),o[c]=o.Array}},function(t,e,i){var a=i(16),n=i(2)("toStringTag"),o="Arguments"==a(function(){return arguments}());t.exports=function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?i:o?a(e):"Object"==(r=a(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,i){var a=i(3),n=i(20),o=i(2)("species");t.exports=function(t,e){var i,r=a(t).constructor;return void 0===r||void 0==(i=a(r)[o])?e:n(i)}},function(t,e,i){var a,n,o,r=i(19),s=i(75),l=i(49),c=i(27),u=i(0),f=u.process,d=u.setImmediate,p=u.clearImmediate,m=u.MessageChannel,h=u.Dispatch,g=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){b.call(t.data)};d&&p||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},a(g),g},p=function(t){delete v[t]},"process"==i(16)(f)?a=function(t){f.nextTick(r(b,t,1))}:h&&h.now?a=function(t){h.now(r(b,t,1))}:m?(o=(n=new m).port2,n.port1.onmessage=y,a=r(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(a=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):a="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(r(b,t,1),0)}),t.exports={set:d,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var a=i(3),n=i(7),o=i(33);t.exports=function(t,e){if(a(t),n(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";e.__esModule=!0,e.urlSafeBase64Encode=function(t){return(t=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=void 0,a=void 0,n=void 0,o=void 0,r=void 0,s=void 0,l=void 0,c=void 0,u=0,f=0,d="",p=[];if(!t)return t;t=function(t){if(null===t||void 0===t)return"";var e=t+"",i="",a=void 0,n=void 0,o=0;a=n=0,o=e.length;for(var r=0;r<o;r++){var s=e.charCodeAt(r),l=null;if(s<128)n++;else if(s>127&&s<2048)l=String.fromCharCode(s>>6|192,63&s|128);else if(63488&s^!0)l=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if(64512&s^!0)throw new RangeError("Unmatched trail surrogate at "+r);var c=e.charCodeAt(++r);if(64512&c^!0)throw new RangeError("Unmatched lead surrogate at "+(r-1));s=((1023&s)<<10)+(1023&c)+65536,l=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==l&&(n>a&&(i+=e.slice(a,n)),i+=l,a=n=r+1)}return n>a&&(i+=e.slice(a,o)),i}(t+"");do{i=t.charCodeAt(u++),a=t.charCodeAt(u++),n=t.charCodeAt(u++),o=(c=i<<16|a<<8|n)>>18&63,r=c>>12&63,s=c>>6&63,l=63&c,p[f++]=e.charAt(o)+e.charAt(r)+e.charAt(s)+e.charAt(l)}while(u<t.length);switch(d=p.join(""),t.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d}(t)).replace(/\//g,"_").replace(/\+/g,"-")},e.urlSafeBase64Decode=function(t){return function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=void 0,a=void 0,n=void 0,o=void 0,r=void 0,s=void 0,l=void 0,c=void 0,u=0,f=0,d=[];if(!t)return t;t+="";do{o=e.indexOf(t.charAt(u++)),r=e.indexOf(t.charAt(u++)),s=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),i=(c=o<<18|r<<12|s<<6|l)>>16&255,a=c>>8&255,n=255&c,d[f++]=64===s?String.fromCharCode(i):64===l?String.fromCharCode(i,a):String.fromCharCode(i,a,n)}while(u<t.length);return d.join("")}(t=t.replace(/_/g,"/").replace(/-/g,"+"))}},function(t,e,i){var a=i(46),n=i(31).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,n)}},function(t,e,i){"use strict";e.__esModule=!0,e.pipeline=e.compressImage=e.exif=e.imageInfo=e.watermark=e.imageMogr2=e.getUploadUrl=e.filterParams=e.getHeadersForMkFile=e.getHeadersForChunkUpload=e.createMkFileUrl=e.region=e.upload=void 0;var a=i(39),n=i(12),o=i(92),r=i(94),s=i(95),l=i(109),c=function(t){return t&&t.__esModule?t:{default:t}}(i(110)),u=new l.StatisticsLogger;e.upload=function(t,e,i,a,n){var r={file:t,key:e,token:i,putExtra:a,config:n};return new s.Observable(function(t){var e=new o.UploadManager(r,{onData:function(e){return t.next(e)},onError:function(e){return t.error(e)},onComplete:function(e){return t.complete(e)}},u);return e.putFile(),e.stop.bind(e)})},e.region=a.region,e.createMkFileUrl=n.createMkFileUrl,e.getHeadersForChunkUpload=n.getHeadersForChunkUpload,e.getHeadersForMkFile=n.getHeadersForMkFile,e.filterParams=n.filterParams,e.getUploadUrl=n.getUploadUrl,e.imageMogr2=r.imageMogr2,e.watermark=r.watermark,e.imageInfo=r.imageInfo,e.exif=r.exif,e.compressImage=c.default,e.pipeline=r.pipeline},function(t,e,i){i(40),i(41),i(50),i(69),i(81),i(82),t.exports=i(1).Promise},function(t,e,i){var a=i(25),n=i(26);t.exports=function(t){return function(e,i){var o,r,s=String(n(e)),l=a(i),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(r=s.charCodeAt(l+1))<56320||r>57343?t?s.charAt(l):o:t?s.slice(l,l+2):r-56320+(o-55296<<10)+65536}}},function(t,e,i){"use strict";var a=i(45),n=i(21),o=i(23),r={};i(5)(r,i(2)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=a(r,{next:n(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var a=i(6),n=i(3),o=i(15);t.exports=i(8)?Object.defineProperties:function(t,e){n(t);for(var i,r=o(e),s=r.length,l=0;s>l;)a.f(t,i=r[l++],e[i]);return t}},function(t,e,i){var a=i(11),n=i(48),o=i(64);t.exports=function(t){return function(e,i,r){var s,l=a(e),c=n(l.length),u=o(r,c);if(t&&i!=i){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e,i){var a=i(25),n=Math.max,o=Math.min;t.exports=function(t,e){return(t=a(t))<0?n(t+e,0):o(t,e)}},function(t,e,i){var a=i(9),n=i(32),o=i(29)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),a(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,i){"use strict";var a=i(67),n=i(68),o=i(14),r=i(11);t.exports=i(42)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,a("keys"),a("values"),a("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var a,n,o,r,s=i(13),l=i(0),c=i(19),u=i(51),f=i(4),d=i(7),p=i(20),m=i(70),h=i(71),g=i(52),v=i(53).set,b=i(76)(),y=i(33),_=i(54),w=i(77),C=i(55),x=l.TypeError,A=l.process,k=A&&A.versions,S=k&&k.v8||"",D=l.Promise,I="process"==u(A),E=function(){},T=n=y.f,P=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[i(2)("species")]=function(t){t(E,E)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==S.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),F=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var i=t._c;b(function(){for(var a=t._v,n=1==t._s,o=0;i.length>o;)!function(e){var i,o,r,s=n?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(n||(2==t._h&&B(t),t._h=1),!0===s?i=a:(u&&u.enter(),i=s(a),u&&(u.exit(),r=!0)),i===e.promise?c(x("Promise-chain cycle")):(o=F(i))?o.call(i,l,c):l(i)):c(a)}catch(t){u&&!r&&u.exit(),c(t)}}(i[o++]);t._c=[],t._n=!1,e&&!t._h&&U(t)})}},U=function(t){v.call(l,function(){var e,i,a,n=t._v,o=L(t);if(o&&(e=_(function(){I?A.emit("unhandledRejection",n,t):(i=l.onunhandledrejection)?i({promise:t,reason:n}):(a=l.console)&&a.error&&a.error("Unhandled promise rejection",n)}),t._h=I||L(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(t){v.call(l,function(){var e;I?A.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},M=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw x("Promise can't be resolved itself");(e=F(t))?b(function(){var a={_w:i,_d:!1};try{e.call(t,c(M,a,1),c(R,a,1))}catch(t){R.call(a,t)}}):(i._v=t,i._s=1,O(i,!1))}catch(t){R.call({_w:i,_d:!1},t)}}};P||(D=function(t){m(this,D,"Promise","_h"),p(t),a.call(this);try{t(c(M,this,1),c(R,this,1))}catch(t){R.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(78)(D.prototype,{then:function(t,e){var i=T(g(this,D));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=I?A.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new a;this.promise=t,this.resolve=c(M,t,1),this.reject=c(R,t,1)},y.f=T=function(t){return t===D||t===r?new o(t):n(t)}),f(f.G+f.W+f.F*!P,{Promise:D}),i(23)(D,"Promise"),i(79)("Promise"),r=i(1).Promise,f(f.S+f.F*!P,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!P),"Promise",{resolve:function(t){return C(s&&this===r?D:this,t)}}),f(f.S+f.F*!(P&&i(80)(function(t){D.all(t).catch(E)})),"Promise",{all:function(t){var e=this,i=T(e),a=i.resolve,n=i.reject,o=_(function(){var i=[],o=0,r=1;h(t,!1,function(t){var s=o++,l=!1;i.push(void 0),r++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--r||a(i))},n)}),--r||a(i)});return o.e&&n(o.v),i.promise},race:function(t){var e=this,i=T(e),a=i.reject,n=_(function(){h(t,!1,function(t){e.resolve(t).then(i.resolve,a)})});return n.e&&a(n.v),i.promise}})},function(t,e){t.exports=function(t,e,i,a){if(!(t instanceof e)||void 0!==a&&a in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var a=i(19),n=i(72),o=i(73),r=i(3),s=i(48),l=i(74),c={},u={};(e=t.exports=function(t,e,i,f,d){var p,m,h,g,v=d?function(){return t}:l(t),b=a(i,f,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=s(t.length);p>y;y++)if((g=e?b(r(m=t[y])[0],m[1]):b(t[y]))===c||g===u)return g}else for(h=v.call(t);!(m=h.next()).done;)if((g=n(h,b,m.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e,i){var a=i(3);t.exports=function(t,e,i,n){try{return n?e(a(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&a(o.call(t)),e}}},function(t,e,i){var a=i(14),n=i(2)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(a.Array===t||o[n]===t)}},function(t,e,i){var a=i(51),n=i(2)("iterator"),o=i(14);t.exports=i(1).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||o[a(t)]}},function(t,e){t.exports=function(t,e,i){var a=void 0===i;switch(e.length){case 0:return a?t():t.call(i);case 1:return a?t(e[0]):t.call(i,e[0]);case 2:return a?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return a?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return a?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var a=i(0),n=i(53).set,o=a.MutationObserver||a.WebKitMutationObserver,r=a.process,s=a.Promise,l="process"==i(16)(r);t.exports=function(){var t,e,i,c=function(){var a,n;for(l&&(a=r.domain)&&a.exit();t;){n=t.fn,t=t.next;try{n()}catch(a){throw t?i():e=void 0,a}}e=void 0,a&&a.enter()};if(l)i=function(){r.nextTick(c)};else if(!o||a.navigator&&a.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);i=function(){u.then(c)}}else i=function(){n.call(a,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),i=function(){d.data=f=!f}}return function(a){var n={fn:a,next:void 0};e&&(e.next=n),t||(t=n,i()),e=n}}},function(t,e,i){var a=i(0).navigator;t.exports=a&&a.userAgent||""},function(t,e,i){var a=i(5);t.exports=function(t,e,i){for(var n in e)i&&t[n]?t[n]=e[n]:a(t,n,e[n]);return t}},function(t,e,i){"use strict";var a=i(0),n=i(1),o=i(6),r=i(8),s=i(2)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:a[t];r&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){var a=i(2)("iterator"),n=!1;try{var o=[7][a]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var i=!1;try{var o=[7],r=o[a]();r.next=function(){return{done:i=!0}},o[a]=function(){return r},t(o)}catch(t){}return i}},function(t,e,i){"use strict";var a=i(4),n=i(1),o=i(0),r=i(52),s=i(55);a(a.P+a.R,"Promise",{finally:function(t){var e=r(this,n.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var a=i(4),n=i(33),o=i(54);a(a.S,"Promise",{try:function(t){var e=n.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){i(84),t.exports=i(1).Object.assign},function(t,e,i){var a=i(4);a(a.S+a.F,"Object",{assign:i(85)})},function(t,e,i){"use strict";var a=i(15),n=i(35),o=i(24),r=i(32),s=i(47),l=Object.assign;t.exports=!l||i(10)(function(){var t={},e={},i=Symbol(),a="abcdefghijklmnopqrst";return t[i]=7,a.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=a})?function(t,e){for(var i=r(t),l=arguments.length,c=1,u=n.f,f=o.f;l>c;)for(var d,p=s(arguments[c++]),m=u?a(p).concat(u(p)):a(p),h=m.length,g=0;h>g;)f.call(p,d=m[g++])&&(i[d]=p[d]);return i}:l},function(t,e,i){t.exports={default:i(87),__esModule:!0}},function(t,e,i){var a=i(1),n=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,i){i(89),t.exports=i(1).Object.keys},function(t,e,i){var a=i(32),n=i(15);i(90)("keys",function(){return function(t){return n(a(t))}})},function(t,e,i){var a=i(4),n=i(1),o=i(10);t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],r={};r[t]=e(i),a(a.S+a.F*o(function(){i(1)}),"Object",r)}},function(t,e,i){!function(e){t.exports=function(t){"use strict";function e(t,e){var i=t[0],a=t[1],n=t[2],o=t[3];a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&n|~a&o)+e[0]-680876936|0)<<7|i>>>25)+a|0)&a|~i&n)+e[1]-389564586|0)<<12|o>>>20)+i|0)&i|~o&a)+e[2]+606105819|0)<<17|n>>>15)+o|0)&o|~n&i)+e[3]-1044525330|0)<<22|a>>>10)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&n|~a&o)+e[4]-176418897|0)<<7|i>>>25)+a|0)&a|~i&n)+e[5]+1200080426|0)<<12|o>>>20)+i|0)&i|~o&a)+e[6]-1473231341|0)<<17|n>>>15)+o|0)&o|~n&i)+e[7]-45705983|0)<<22|a>>>10)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&n|~a&o)+e[8]+1770035416|0)<<7|i>>>25)+a|0)&a|~i&n)+e[9]-1958414417|0)<<12|o>>>20)+i|0)&i|~o&a)+e[10]-42063|0)<<17|n>>>15)+o|0)&o|~n&i)+e[11]-1990404162|0)<<22|a>>>10)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&n|~a&o)+e[12]+1804603682|0)<<7|i>>>25)+a|0)&a|~i&n)+e[13]-40341101|0)<<12|o>>>20)+i|0)&i|~o&a)+e[14]-1502002290|0)<<17|n>>>15)+o|0)&o|~n&i)+e[15]+1236535329|0)<<22|a>>>10)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&o|n&~o)+e[1]-165796510|0)<<5|i>>>27)+a|0)&n|a&~n)+e[6]-1069501632|0)<<9|o>>>23)+i|0)&a|i&~a)+e[11]+643717713|0)<<14|n>>>18)+o|0)&i|o&~i)+e[0]-373897302|0)<<20|a>>>12)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&o|n&~o)+e[5]-701558691|0)<<5|i>>>27)+a|0)&n|a&~n)+e[10]+38016083|0)<<9|o>>>23)+i|0)&a|i&~a)+e[15]-660478335|0)<<14|n>>>18)+o|0)&i|o&~i)+e[4]-405537848|0)<<20|a>>>12)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&o|n&~o)+e[9]+568446438|0)<<5|i>>>27)+a|0)&n|a&~n)+e[14]-1019803690|0)<<9|o>>>23)+i|0)&a|i&~a)+e[3]-187363961|0)<<14|n>>>18)+o|0)&i|o&~i)+e[8]+1163531501|0)<<20|a>>>12)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a&o|n&~o)+e[13]-1444681467|0)<<5|i>>>27)+a|0)&n|a&~n)+e[2]-51403784|0)<<9|o>>>23)+i|0)&a|i&~a)+e[7]+1735328473|0)<<14|n>>>18)+o|0)&i|o&~i)+e[12]-1926607734|0)<<20|a>>>12)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a^n^o)+e[5]-378558|0)<<4|i>>>28)+a|0)^a^n)+e[8]-2022574463|0)<<11|o>>>21)+i|0)^i^a)+e[11]+1839030562|0)<<16|n>>>16)+o|0)^o^i)+e[14]-35309556|0)<<23|a>>>9)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a^n^o)+e[1]-1530992060|0)<<4|i>>>28)+a|0)^a^n)+e[4]+1272893353|0)<<11|o>>>21)+i|0)^i^a)+e[7]-155497632|0)<<16|n>>>16)+o|0)^o^i)+e[10]-1094730640|0)<<23|a>>>9)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a^n^o)+e[13]+681279174|0)<<4|i>>>28)+a|0)^a^n)+e[0]-358537222|0)<<11|o>>>21)+i|0)^i^a)+e[3]-722521979|0)<<16|n>>>16)+o|0)^o^i)+e[6]+76029189|0)<<23|a>>>9)+n|0,a=((a+=((n=((n+=((o=((o+=((i=((i+=(a^n^o)+e[9]-640364487|0)<<4|i>>>28)+a|0)^a^n)+e[12]-421815835|0)<<11|o>>>21)+i|0)^i^a)+e[15]+530742520|0)<<16|n>>>16)+o|0)^o^i)+e[2]-995338651|0)<<23|a>>>9)+n|0,a=((a+=((o=((o+=(a^((i=((i+=(n^(a|~o))+e[0]-198630844|0)<<6|i>>>26)+a|0)|~n))+e[7]+1126891415|0)<<10|o>>>22)+i|0)^((n=((n+=(i^(o|~a))+e[14]-1416354905|0)<<15|n>>>17)+o|0)|~i))+e[5]-57434055|0)<<21|a>>>11)+n|0,a=((a+=((o=((o+=(a^((i=((i+=(n^(a|~o))+e[12]+1700485571|0)<<6|i>>>26)+a|0)|~n))+e[3]-1894986606|0)<<10|o>>>22)+i|0)^((n=((n+=(i^(o|~a))+e[10]-1051523|0)<<15|n>>>17)+o|0)|~i))+e[1]-2054922799|0)<<21|a>>>11)+n|0,a=((a+=((o=((o+=(a^((i=((i+=(n^(a|~o))+e[8]+1873313359|0)<<6|i>>>26)+a|0)|~n))+e[15]-30611744|0)<<10|o>>>22)+i|0)^((n=((n+=(i^(o|~a))+e[6]-1560198380|0)<<15|n>>>17)+o|0)|~i))+e[13]+1309151649|0)<<21|a>>>11)+n|0,a=((a+=((o=((o+=(a^((i=((i+=(n^(a|~o))+e[4]-145523070|0)<<6|i>>>26)+a|0)|~n))+e[11]-1120210379|0)<<10|o>>>22)+i|0)^((n=((n+=(i^(o|~a))+e[2]+718787259|0)<<15|n>>>17)+o|0)|~i))+e[9]-343485551|0)<<21|a>>>11)+n|0,t[0]=i+t[0]|0,t[1]=a+t[1]|0,t[2]=n+t[2]|0,t[3]=o+t[3]|0}function i(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return i}function a(t){var e,i=[];for(e=0;e<64;e+=4)i[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return i}function n(t){var a,n,o,r,s,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=c;a+=64)e(u,i(t.substring(a-64,a)));for(n=(t=t.substring(a-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<n;a+=1)o[a>>2]|=t.charCodeAt(a)<<(a%4<<3);if(o[a>>2]|=128<<(a%4<<3),a>55)for(e(u,o),a=0;a<16;a+=1)o[a]=0;return r=(r=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(r[2],16),l=parseInt(r[1],16)||0,o[14]=s,o[15]=l,e(u,o),u}function o(t){var e,i="";for(e=0;e<4;e+=1)i+=u[t>>8*e+4&15]+u[t>>8*e&15];return i}function r(t){var e;for(e=0;e<t.length;e+=1)t[e]=o(t[e]);return t.join("")}function s(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t){var e,i=[],a=t.length;for(e=0;e<a-1;e+=2)i.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,i)}function c(){this.reset()}var u=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return r(n("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(i,a){var n,o,r,s,l=this.byteLength,c=e(i,l),u=l;return a!==t&&(u=e(a,l)),c>u?new ArrayBuffer(0):(n=u-c,o=new ArrayBuffer(n),r=new Uint8Array(o),s=new Uint8Array(this,c,n),r.set(s),o)}}(),c.prototype.append=function(t){return this.appendBinary(s(t)),this},c.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var a,n=this._buff.length;for(a=64;a<=n;a+=64)e(this._hash,i(this._buff.substring(a-64,a)));return this._buff=this._buff.substring(a-64),this},c.prototype.end=function(t){var e,i,a=this._buff,n=a.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)o[e>>2]|=a.charCodeAt(e)<<(e%4<<3);return this._finish(o,n),i=r(this._hash),t&&(i=l(i)),this.reset(),i},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},c.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(t,i){var a,n,o,r=i;if(t[r>>2]|=128<<(r%4<<3),r>55)for(e(this._hash,t),r=0;r<16;r+=1)t[r]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(a[2],16),o=parseInt(a[1],16)||0,t[14]=n,t[15]=o,e(this._hash,t)},c.hash=function(t,e){return c.hashBinary(s(t),e)},c.hashBinary=function(t,e){var i=r(n(t));return e?l(i):i},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(t){var i,n=function(t,e,i){var a=new Uint8Array(t.byteLength+e.byteLength);return a.set(new Uint8Array(t)),a.set(new Uint8Array(e),t.byteLength),a}(this._buff.buffer,t),o=n.length;for(this._length+=t.byteLength,i=64;i<=o;i+=64)e(this._hash,a(n.subarray(i-64,i)));return this._buff=i-64<o?new Uint8Array(n.buffer.slice(i-64)):new Uint8Array(0),this},c.ArrayBuffer.prototype.end=function(t){var e,i,a=this._buff,n=a.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)o[e>>2]|=a[e]<<(e%4<<3);return this._finish(o,n),i=r(this._hash),t&&(i=l(i)),this.reset(),i},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},c.ArrayBuffer.prototype.getState=function(){var t=c.prototype.getState.call(this);return t.buff=function(t){return String.fromCharCode.apply(null,new Uint8Array(t))}(t.buff),t},c.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var i,a=t.length,n=new ArrayBuffer(a),o=new Uint8Array(n);for(i=0;i<a;i+=1)o[i]=t.charCodeAt(i);return o}(t.buff),c.prototype.setState.call(this,t)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(t,i){var n=r(function(t){var i,n,o,r,s,l,c=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=c;i+=64)e(u,a(t.subarray(i-64,i)));for(n=(t=i-64<c?t.subarray(i-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<n;i+=1)o[i>>2]|=t[i]<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(e(u,o),i=0;i<16;i+=1)o[i]=0;return r=(r=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(r[2],16),l=parseInt(r[1],16)||0,o[14]=s,o[15]=l,e(u,o),u}(new Uint8Array(t)));return i?l(n):n},c}()}()},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.UploadManager=void 0;var n=a(i(18)),o=a(i(34)),r=a(i(17)),s=i(12),l=i(93);e.UploadManager=function(){function t(e,i,a){var n=this;(0,r.default)(this,t),this.config=(0,o.default)({useCdnDomain:!0,disableStatisticsReport:!1,retryCount:3,checkByMD5:!1,uphost:null,forceDirect:!1,concurrentRequestLimit:3,region:null},e.config),this.putExtra=(0,o.default)({fname:"",params:{},mimeType:null},e.putExtra),this.statisticsLogger=a,this.progress=null,this.xhrList=[],this.xhrHandler=function(t){return n.xhrList.push(t)},this.aborted=!1,this.file=e.file,this.key=e.key,this.token=e.token,this.onData=function(){},this.onError=function(){},this.onComplete=function(){},this.retryCount=0,(0,o.default)(this,i)}return t.prototype.putFile=function(){var t=this;if(this.aborted=!1,this.putExtra.fname||(this.putExtra.fname=this.file.name),!this.putExtra.mimeType||!this.putExtra.mimeType.length||(0,s.isContainFileMimeType)(this.file.type,this.putExtra.mimeType)){var e=(0,s.getUploadUrl)(this.config,this.token).then(function(e){return t.uploadUrl=e,t.uploadAt=(new Date).getTime(),t.config.forceDirect?t.directUpload():t.file.size>4194304?t.resumeUpload():t.directUpload()});return e.then(function(e){t.onComplete(e.data),t.config.disableStatisticsReport||t.sendLog(e.reqId,200)},function(e){if(t.clear(),e.isRequestError&&!t.config.disableStatisticsReport){var i=t.aborted?"":e.reqId,a=t.aborted?-2:e.code;t.sendLog(i,a)}var n=e.isRequestError&&0===e.code&&!t.aborted,o=++t.retryCount<=t.config.retryCount;n&&o?t.putFile():t.onError(e)}),e}var i=new Error("file type doesn't match with what you specify");this.onError(i)},t.prototype.clear=function(){this.xhrList.forEach(function(t){return t.abort()}),this.xhrList=[]},t.prototype.stop=function(){this.clear(),this.aborted=!0},t.prototype.sendLog=function(t,e){this.statisticsLogger.log({code:e,reqId:t,host:(0,s.getDomainFromUrl)(this.uploadUrl),remoteIp:"",port:(0,s.getPortFromUrl)(this.uploadUrl),duration:((new Date).getTime()-this.uploadAt)/1e3,time:Math.floor(this.uploadAt/1e3),bytesSent:this.progress?this.progress.total.loaded:0,upType:"jssdk-h5",size:this.file.size},this.token)},t.prototype.directUpload=function(){var t=this,e=new FormData;return e.append("file",this.file),e.append("token",this.token),null!=this.key&&e.append("key",this.key),e.append("fname",this.putExtra.fname),(0,s.filterParams)(this.putExtra.params).forEach(function(t){return e.append(t[0],t[1])}),(0,s.request)(this.uploadUrl,{method:"POST",body:e,onProgress:function(e){t.updateDirectProgress(e.loaded,e.total)},onCreate:this.xhrHandler}).then(function(e){return t.finishDirectProgress(),e})},t.prototype.resumeUpload=function(){var t=this;this.loaded={mkFileProgress:0,chunks:null},this.ctxList=[],this.localInfo=(0,s.getLocalFileInfo)(this.file),this.chunks=(0,s.getChunks)(this.file,4194304),this.initChunksProgress();var e=new l.Pool(function(e){return t.uploadChunk(e)},this.config.concurrentRequestLimit),i=this.chunks.map(function(t,i){return e.enqueue({chunk:t,index:i})}),a=n.default.all(i).then(function(){return t.mkFileReq()});return a.then(function(e){(0,s.removeLocalFileInfo)(t.file)},function(e){701!==e.code?(0,s.setLocalFileInfo)(t.file,t.ctxList):(0,s.removeLocalFileInfo)(t.file)}),a},t.prototype.uploadChunk=function(t){var e=this,i=t.index,a=t.chunk,o=this.localInfo[i],r=this.uploadUrl+"/mkblk/"+a.size,l=o&&!(0,s.isChunkExpired)(o.time),c=this.config.checkByMD5,u=function(){return e.updateChunkProgress(a.size,i),e.ctxList[i]={ctx:o.ctx,time:o.time,md5:o.md5},n.default.resolve(null)};return l&&!c?u():(0,s.computeMd5)(a).then(function(t){if(l&&t===o.md5)return u();var n=(0,s.getHeadersForChunkUpload)(e.token),c=e.xhrHandler;return(0,s.request)(r,{method:"POST",headers:n,body:a,onProgress:function(t){e.updateChunkProgress(t.loaded,i)},onCreate:c}).then(function(a){e.ctxList[i]={time:(new Date).getTime(),ctx:a.data.ctx,md5:t}})})},t.prototype.mkFileReq=function(){var t=this,e=(0,o.default)({mimeType:"application/octet-stream"},this.putExtra),i=(0,s.createMkFileUrl)(this.uploadUrl,this.file.size,this.key,e),a=this.ctxList.map(function(t){return t.ctx}).join(","),r=(0,s.getHeadersForMkFile)(this.token),l=this.xhrHandler;return(0,s.request)(i,{method:"POST",body:a,headers:r,onCreate:l}).then(function(e){return t.updateMkFileProgress(1),n.default.resolve(e)})},t.prototype.updateDirectProgress=function(t,e){this.progress={total:this.getProgressInfoItem(t,e+1)},this.onData(this.progress)},t.prototype.finishDirectProgress=function(){var t=this.progress.total;this.progress.total=this.getProgressInfoItem(t.loaded+1,t.size),this.onData(this.progress)},t.prototype.initChunksProgress=function(){this.loaded.chunks=this.chunks.map(function(t){return 0}),this.notifyResumeProgress()},t.prototype.updateChunkProgress=function(t,e){this.loaded.chunks[e]=t,this.notifyResumeProgress()},t.prototype.updateMkFileProgress=function(t){this.loaded.mkFileProgress=t,this.notifyResumeProgress()},t.prototype.notifyResumeProgress=function(){var t=this;this.progress={total:this.getProgressInfoItem((0,s.sum)(this.loaded.chunks)+this.loaded.mkFileProgress,this.file.size+1),chunks:this.chunks.map(function(e,i){return t.getProgressInfoItem(t.loaded.chunks[i],e.size)})},this.onData(this.progress)},t.prototype.getProgressInfoItem=function(t,e){return{loaded:t,size:e,percent:t/e*100}},t}()},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Pool=void 0;var n=a(i(18)),o=a(i(17));e.Pool=function(){function t(e,i){(0,o.default)(this,t),this.runTask=e,this.queue=[],this.processing=[],this.limit=i}return t.prototype.enqueue=function(t){var e=this;return new n.default(function(i,a){e.queue.push({task:t,resolve:i,reject:a}),e.check()})},t.prototype.run=function(t){var e=this;this.queue=this.queue.filter(function(e){return e!==t}),this.processing.push(t),this.runTask(t.task).then(function(){e.processing=e.processing.filter(function(e){return e!==t}),t.resolve(),e.check()},function(e){return t.reject(e)})},t.prototype.check=function(){var t=this,e=this.processing.length,i=this.limit-e;this.queue.slice(0,i).forEach(function(e,i){t.run(e)})},t}()},function(t,e,i){"use strict";function a(t,e){return t=encodeURIComponent(t),"/"!==e.slice(e.length-1)&&(e+="/"),e+t}function n(t,e,i){if(!/^\d$/.test(t.mode))throw"mode should be number in imageView2";var n=t.mode,o=t.w,r=t.h,s=t.q,l=t.format;if(!o&&!r)throw"param w and h is empty in imageView2";var c="imageView2/"+encodeURIComponent(n);return c+=o?"/w/"+encodeURIComponent(o):"",c+=r?"/h/"+encodeURIComponent(r):"",c+=s?"/q/"+encodeURIComponent(s):"",c+=l?"/format/"+encodeURIComponent(l):"",e&&(c=a(e,i)+"?"+c),c}function o(t,e,i){var n=t["auto-orient"],o=t.thumbnail,r=t.strip,s=t.gravity,l=t.crop,c=t.quality,u=t.rotate,f=t.format,d=t.blur,p="imageMogr2";return p+=n?"/auto-orient":"",p+=o?"/thumbnail/"+encodeURIComponent(o):"",p+=r?"/strip":"",p+=s?"/gravity/"+encodeURIComponent(s):"",p+=c?"/quality/"+encodeURIComponent(c):"",p+=l?"/crop/"+encodeURIComponent(l):"",p+=u?"/rotate/"+encodeURIComponent(u):"",p+=f?"/format/"+encodeURIComponent(f):"",p+=d?"/blur/"+encodeURIComponent(d):"",e&&(p=a(e,i)+"?"+p),p}function r(t,e,i){var n=t.mode;if(!n)throw"mode can't be empty in watermark";var o="watermark/"+n;if(1!==n&&2!==n)throw"mode is wrong";if(1===n){var r=t.image;if(!r)throw"image can't be empty in watermark";o+=r?"/image/"+(0,l.urlSafeBase64Encode)(r):""}if(2===n){var s=t.text,c=t.font,u=t.fontsize,f=t.fill;if(!s)throw"text can't be empty in watermark";o+=s?"/text/"+(0,l.urlSafeBase64Encode)(s):"",o+=c?"/font/"+(0,l.urlSafeBase64Encode)(c):"",o+=u?"/fontsize/"+u:"",o+=f?"/fill/"+(0,l.urlSafeBase64Encode)(f):""}var d=t.dissolve,p=t.gravity,m=t.dx,h=t.dy;return o+=d?"/dissolve/"+encodeURIComponent(d):"",o+=p?"/gravity/"+encodeURIComponent(p):"",o+=m?"/dx/"+encodeURIComponent(m):"",o+=h?"/dy/"+encodeURIComponent(h):"",e&&(o=a(e,i)+"?"+o),o}e.__esModule=!0,e.imageView2=n,e.imageMogr2=o,e.watermark=r,e.imageInfo=function(t,e){var i=a(t,e)+"?imageInfo";return(0,s.request)(i,{method:"GET"})},e.exif=function(t,e){var i=a(t,e)+"?exif";return(0,s.request)(i,{method:"GET"})},e.pipeline=function(t,e,i){var s=void 0,l=void 0,c="";if("[object Array]"===Object.prototype.toString.call(t)){for(var u=0,f=t.length;u<f;u++){if(!(s=t[u]).fop)throw"fop can't be empty in pipeline";switch(s.fop){case"watermark":c+=r(s)+"|";break;case"imageView2":c+=n(s)+"|";break;case"imageMogr2":c+=o(s)+"|";break;default:l=!0}if(l)throw"fop is wrong in pipeline"}if(e){var d=(c=a(e,i)+"?"+c).length;"|"===c.slice(d-1)&&(c=c.slice(0,d-1))}return c}throw"pipeline's first param should be array"};var s=i(12),l=i(56)},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Observable=void 0;var n=a(i(96)),o=a(i(17));e.Observable=function(){function t(e){(0,o.default)(this,t),this.subscribeAction=e}return t.prototype.subscribe=function(t,e,i){var a=new r(t,e,i),n=this.subscribeAction(a);return new s(a,n)},t}();var r=function(){function t(e,i,a){(0,o.default)(this,t),this.isStopped=!1,"object"===(void 0===e?"undefined":(0,n.default)(e))?(this._onNext=e.next,this._onError=e.error,this._onCompleted=e.complete):(this._onNext=e,this._onError=i,this._onCompleted=a)}return t.prototype.next=function(t){!this.isStopped&&this._onNext&&this._onNext(t)},t.prototype.error=function(t){!this.isStopped&&this._onError&&(this.isStopped=!0,this._onError(t))},t.prototype.complete=function(t){!this.isStopped&&this._onCompleted&&(this.isStopped=!0,this._onCompleted(t))},t}(),s=function(){function t(e,i){(0,o.default)(this,t),this.observer=e,this.result=i}return t.prototype.unsubscribe=function(){this.observer.isStopped=!0,this.result()},t}()},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=a(i(97)),o=a(i(99)),r="function"==typeof o.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};e.default="function"==typeof o.default&&"symbol"===r(n.default)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":r(t)}},function(t,e,i){t.exports={default:i(98),__esModule:!0}},function(t,e,i){i(41),i(50),t.exports=i(37).f("iterator")},function(t,e,i){t.exports={default:i(100),__esModule:!0}},function(t,e,i){i(101),i(40),i(107),i(108),t.exports=i(1).Symbol},function(t,e,i){"use strict";var a=i(0),n=i(9),o=i(8),r=i(4),s=i(44),l=i(102).KEY,c=i(10),u=i(30),f=i(23),d=i(22),p=i(2),m=i(37),h=i(38),g=i(103),v=i(104),b=i(3),y=i(7),_=i(11),w=i(28),C=i(21),x=i(45),A=i(105),k=i(106),S=i(6),D=i(15),I=k.f,E=S.f,T=A.f,P=a.Symbol,F=a.JSON,O=F&&F.stringify,U=p("_hidden"),L=p("toPrimitive"),B={}.propertyIsEnumerable,R=u("symbol-registry"),M=u("symbols"),j=u("op-symbols"),$=Object.prototype,N="function"==typeof P,G=a.QObject,q=!G||!G.prototype||!G.prototype.findChild,V=o&&c(function(){return 7!=x(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,i){var a=I($,e);a&&delete $[e],E(t,e,i),a&&t!==$&&E($,e,a)}:E,z=function(t){var e=M[t]=x(P.prototype);return e._k=t,e},H=N&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},W=function(t,e,i){return t===$&&W(j,e,i),b(t),e=w(e,!0),b(i),n(M,e)?(i.enumerable?(n(t,U)&&t[U][e]&&(t[U][e]=!1),i=x(i,{enumerable:C(0,!1)})):(n(t,U)||E(t,U,C(1,{})),t[U][e]=!0),V(t,e,i)):E(t,e,i)},Y=function(t,e){b(t);for(var i,a=g(e=_(e)),n=0,o=a.length;o>n;)W(t,i=a[n++],e[i]);return t},J=function(t){var e=B.call(this,t=w(t,!0));return!(this===$&&n(M,t)&&!n(j,t))&&(!(e||!n(this,t)||!n(M,t)||n(this,U)&&this[U][t])||e)},Q=function(t,e){if(t=_(t),e=w(e,!0),t!==$||!n(M,e)||n(j,e)){var i=I(t,e);return!i||!n(M,e)||n(t,U)&&t[U][e]||(i.enumerable=!0),i}},X=function(t){for(var e,i=T(_(t)),a=[],o=0;i.length>o;)n(M,e=i[o++])||e==U||e==l||a.push(e);return a},Z=function(t){for(var e,i=t===$,a=T(i?j:_(t)),o=[],r=0;a.length>r;)!n(M,e=a[r++])||i&&!n($,e)||o.push(M[e]);return o};N||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===$&&e.call(j,i),n(this,U)&&n(this[U],t)&&(this[U][t]=!1),V(this,t,C(1,i))};return o&&q&&V($,t,{configurable:!0,set:e}),z(t)}).prototype,"toString",function(){return this._k}),k.f=Q,S.f=W,i(57).f=A.f=X,i(24).f=J,i(35).f=Z,o&&!i(13)&&s($,"propertyIsEnumerable",J,!0),m.f=function(t){return z(p(t))}),r(r.G+r.W+r.F*!N,{Symbol:P});for(var K="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;K.length>tt;)p(K[tt++]);for(var et=D(p.store),it=0;et.length>it;)h(et[it++]);r(r.S+r.F*!N,"Symbol",{for:function(t){return n(R,t+="")?R[t]:R[t]=P(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),r(r.S+r.F*!N,"Object",{create:function(t,e){return void 0===e?x(t):Y(x(t),e)},defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),F&&r(r.S+r.F*(!N||c(function(){var t=P();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,i,a=[t],n=1;arguments.length>n;)a.push(arguments[n++]);if(i=e=a[1],(y(e)||void 0!==t)&&!H(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!H(e))return e}),a[1]=e,O.apply(F,a)}}),P.prototype[L]||i(5)(P.prototype,L,P.prototype.valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(a.JSON,"JSON",!0)},function(t,e,i){var a=i(22)("meta"),n=i(7),o=i(9),r=i(6).f,s=0,l=Object.isExtensible||function(){return!0},c=!i(10)(function(){return l(Object.preventExtensions({}))}),u=function(t){r(t,a,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:a,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,a)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[a].i},getWeak:function(t,e){if(!o(t,a)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[a].w},onFreeze:function(t){return c&&f.NEED&&l(t)&&!o(t,a)&&u(t),t}}},function(t,e,i){var a=i(15),n=i(35),o=i(24);t.exports=function(t){var e=a(t),i=n.f;if(i)for(var r,s=i(t),l=o.f,c=0;s.length>c;)l.call(t,r=s[c++])&&e.push(r);return e}},function(t,e,i){var a=i(16);t.exports=Array.isArray||function(t){return"Array"==a(t)}},function(t,e,i){var a=i(11),n=i(57).f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return r.slice()}}(t):n(a(t))}},function(t,e,i){var a=i(24),n=i(21),o=i(11),r=i(28),s=i(9),l=i(43),c=Object.getOwnPropertyDescriptor;e.f=i(8)?c:function(t,e){if(t=o(t),e=r(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return n(!a.f.call(t,e),t[e])}},function(t,e,i){i(38)("asyncIterator")},function(t,e,i){i(38)("observable")},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.StatisticsLogger=void 0;var n=a(i(36)),o=a(i(17)),r=i(12);e.StatisticsLogger=function(){function t(){(0,o.default)(this,t)}return t.prototype.log=function(t,e){var i="";(0,n.default)(t).forEach(function(e){return i+=t[e]+","}),this.send(i,e)},t.prototype.send=function(t,e){var i=(0,r.createXHR)(),a=0;i.open("POST","https://uplog.qbox.me/log/3"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("Authorization","UpToken "+e),i.onreadystatechange=function(){4===i.readyState&&200!==i.status&&++a<=3&&i.send(t)},i.send(t)},t}()},function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=a(i(18)),o=a(i(34)),r=a(i(17)),s=a(i(36)),l=i(111),c=i(12),u={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp",BMP:"image/bmp"},f=Math.log(2),d=(0,s.default)(u).map(function(t){return u[t]}),p=u.JPEG,m=function(){function t(e,i){(0,r.default)(this,t),this.config=(0,o.default)({quality:.92,noCompressIfLarger:!1},i),this.file=e}return t.prototype.process=function(){var t=this;this.outputType=this.file.type;var e={};return function(t){return d.includes(t)}(this.file.type)?this.getOriginImage().then(function(e){return t.getCanvas(e)}).then(function(i){var a=1;return t.config.maxWidth&&(a=Math.min(1,t.config.maxWidth/i.width)),t.config.maxHeight&&(a=Math.min(1,a,t.config.maxHeight/i.height)),e.width=i.width,e.height=i.height,t.doScale(i,a)}).then(function(i){var a=t.toBlob(i);return a.size>t.file.size&&t.config.noCompressIfLarger?{dist:t.file,width:e.width,height:e.height}:{dist:a,width:i.width,height:i.height}}):n.default.reject(new Error("unsupported file type: "+this.file.type))},t.prototype.clear=function(t,e,i){this.outputType===p?(t.fillStyle="#fff",t.fillRect(0,0,e,i)):t.clearRect(0,0,e,i)},t.prototype.getOriginImage=function(){var t=this;return new n.default(function(e,i){var a=(0,c.createObjectURL)(t.file),n=new Image;n.onload=function(){e(n)},n.onerror=function(){i("image load error")},n.src=a})},t.prototype.getCanvas=function(t){var e=this;return new n.default(function(i,a){l.EXIF.getData(t,function(){var a=l.EXIF.getTag(t,"Orientation")||1,n=(0,c.getTransform)(t,a),o=n.width,r=n.height,s=n.matrix,u=document.createElement("canvas"),f=u.getContext("2d");u.width=o,u.height=r,e.clear(f,o,r),f.transform.apply(f,s),f.drawImage(t,0,0),i(u)})})},t.prototype.doScale=function(t,e){if(1===e)return n.default.resolve(t);var i=t.getContext("2d"),a=Math.min(4,Math.ceil(1/e/f)),o=Math.pow(e,1/a),r=document.createElement("canvas"),s=r.getContext("2d"),l=t.width,c=t.height,u=l,d=c;r.width=l,r.height=c;for(var p=void 0,m=void 0,h=0;h<a;h++){var g=l*o|0,v=c*o|0;h===a-1&&(g=u*e,v=d*e),h%2==0?(p=t,m=s):(p=r,m=i),this.clear(m,l,c),m.drawImage(p,0,0,l,c,0,0,g,v),l=g,c=v}var b=p===t?r:t,y=m.getImageData(0,0,l,c);return b.width=l,b.height=c,m.putImageData(y,0,0),n.default.resolve(b)},t.prototype.toBlob=function(t){var e=t.toDataURL(this.outputType,this.config.quality),i=atob(e.split(",")[1]).split("").map(function(t){return t.charCodeAt(0)});return new Blob([new Uint8Array(i)],{type:this.outputType})},t}();e.default=function(t,e){return new m(t,e).process()}},function(t,e,i){var a;(function(){function i(t){return!!t.exifdata}function o(t,e){function i(i){var a=r(i);t.exifdata=a||{};var n=function(t){var e=new DataView(t);if(m&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return m&&console.log("Not a valid JPEG"),!1;for(var i=2,a=t.byteLength;i<a;){if(function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)}(e,i)){var n=e.getUint8(i+7);return n%2!=0&&(n+=1),0===n&&(n=4),s(t,i+8+n,e.getUint16(i+6+n))}i++}}(i);if(t.iptcdata=n||{},h.isXmpEnabled){var o=function(t){if("DOMParser"in self){var e=new DataView(t);if(m&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return m&&console.log("Not a valid JPEG"),!1;for(var i=2,a=t.byteLength,n=new DOMParser;i<a-4;){if("http"==u(e,i,4)){var o=i-1,r=e.getUint16(i-2)-1,s=u(e,o,r),l=s.indexOf("xmpmeta>")+8,c=(s=s.substring(s.indexOf("<x:xmpmeta"),l)).indexOf("x:xmpmeta")+10;return s=s.slice(0,c)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+s.slice(c),p(n.parseFromString(s,"text/xml"))}i++}}}(i);t.xmpdata=o||{}}e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src))i(function(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(t),a=i.length,n=new ArrayBuffer(a),o=new Uint8Array(n),r=0;r<a;r++)o[r]=i.charCodeAt(r);return n}(t.src));else if(/^blob\:/i.test(t.src))(n=new FileReader).onload=function(t){i(t.target.result)},function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},i.send()}(t.src,function(t){n.readAsArrayBuffer(t)});else{var a=new XMLHttpRequest;a.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";i(a.response),a=null},a.open("GET",t.src,!0),a.responseType="arraybuffer",a.send(null)}else if(self.FileReader&&(t instanceof self.Blob||t instanceof self.File)){var n;(n=new FileReader).onload=function(t){m&&console.log("Got file of length "+t.target.result.byteLength),i(t.target.result)},n.readAsArrayBuffer(t)}}function r(t){var e=new DataView(t);if(m&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return m&&console.log("Not a valid JPEG"),!1;for(var i,a=2,n=t.byteLength;a<n;){if(255!=e.getUint8(a))return m&&console.log("Not a valid marker at offset "+a+", found: "+e.getUint8(a)),!1;if(i=e.getUint8(a+1),m&&console.log(i),225==i)return m&&console.log("Found 0xFFE1 marker"),f(e,a+4,e.getUint16(a+2));a+=2+e.getUint16(a+2)}}function s(t,e,i){for(var a,n,o,r,s=new DataView(t),l={},c=e;c<e+i;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(r=s.getUint8(c+2))in w&&(o=s.getInt16(c+3),n=w[r],a=u(s,c+5,o),l.hasOwnProperty(n)?l[n]instanceof Array?l[n].push(a):l[n]=[l[n],a]:l[n]=a),c++;return l}function l(t,e,i,a,n){var o,r,s,l=t.getUint16(i,!n),u={};for(s=0;s<l;s++)o=i+12*s+2,!(r=a[t.getUint16(o,!n)])&&m&&console.log("Unknown tag: "+t.getUint16(o,!n)),u[r]=c(t,o,e,i,n);return u}function c(t,e,i,a,n){var o,r,s,l,c,f,d=t.getUint16(e+2,!n),p=t.getUint32(e+4,!n),m=t.getUint32(e+8,!n)+i;switch(d){case 1:case 7:if(1==p)return t.getUint8(e+8,!n);for(o=p>4?m:e+8,r=[],l=0;l<p;l++)r[l]=t.getUint8(o+l);return r;case 2:return u(t,o=p>4?m:e+8,p-1);case 3:if(1==p)return t.getUint16(e+8,!n);for(o=p>2?m:e+8,r=[],l=0;l<p;l++)r[l]=t.getUint16(o+2*l,!n);return r;case 4:if(1==p)return t.getUint32(e+8,!n);for(r=[],l=0;l<p;l++)r[l]=t.getUint32(m+4*l,!n);return r;case 5:if(1==p)return c=t.getUint32(m,!n),f=t.getUint32(m+4,!n),(s=new Number(c/f)).numerator=c,s.denominator=f,s;for(r=[],l=0;l<p;l++)c=t.getUint32(m+8*l,!n),f=t.getUint32(m+4+8*l,!n),r[l]=new Number(c/f),r[l].numerator=c,r[l].denominator=f;return r;case 9:if(1==p)return t.getInt32(e+8,!n);for(r=[],l=0;l<p;l++)r[l]=t.getInt32(m+4*l,!n);return r;case 10:if(1==p)return t.getInt32(m,!n)/t.getInt32(m+4,!n);for(r=[],l=0;l<p;l++)r[l]=t.getInt32(m+8*l,!n)/t.getInt32(m+4+8*l,!n);return r}}function u(t,e,i){var a="";for(n=e;n<e+i;n++)a+=String.fromCharCode(t.getUint8(n));return a}function f(t,e){if("Exif"!=u(t,e,4))return m&&console.log("Not valid EXIF data! "+u(t,e,4)),!1;var i,a,n,o,r,s=e+6;if(18761==t.getUint16(s))i=!1;else{if(19789!=t.getUint16(s))return m&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=t.getUint16(s+2,!i))return m&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=t.getUint32(s+4,!i);if(c<8)return m&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(s+4,!i)),!1;if((a=l(t,s,s+c,v,i)).ExifIFDPointer)for(n in o=l(t,s,s+a.ExifIFDPointer,g,i)){switch(n){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[n]=_[n][o[n]];break;case"ExifVersion":case"FlashpixVersion":o[n]=String.fromCharCode(o[n][0],o[n][1],o[n][2],o[n][3]);break;case"ComponentsConfiguration":o[n]=_.Components[o[n][0]]+_.Components[o[n][1]]+_.Components[o[n][2]]+_.Components[o[n][3]]}a[n]=o[n]}if(a.GPSInfoIFDPointer)for(n in r=l(t,s,s+a.GPSInfoIFDPointer,b,i)){switch(n){case"GPSVersionID":r[n]=r[n][0]+"."+r[n][1]+"."+r[n][2]+"."+r[n][3]}a[n]=r[n]}return a.thumbnail=function(t,e,i,a){var n=function(t,e,i){var a=t.getUint16(e,!i);return t.getUint32(e+2+12*a,!i)}(t,e+i,a);if(!n)return{};if(n>t.byteLength)return{};var o=l(t,e,e+n,y,a);if(o.Compression)switch(o.Compression){case 6:if(o.JpegIFOffset&&o.JpegIFByteCount){var r=e+o.JpegIFOffset,s=o.JpegIFByteCount;o.blob=new Blob([new Uint8Array(t.buffer,r,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",o.Compression)}else 2==o.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return o}(t,s,c,i),a}function d(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var i=0;i<t.attributes.length;i++){var a=t.attributes.item(i);e["@attributes"][a.nodeName]=a.nodeValue}}}else if(3==t.nodeType)return t.nodeValue;if(t.hasChildNodes())for(var n=0;n<t.childNodes.length;n++){var o=t.childNodes.item(n),r=o.nodeName;if(null==e[r])e[r]=d(o);else{if(null==e[r].push){var s=e[r];e[r]=[],e[r].push(s)}e[r].push(d(o))}}return e}function p(t){try{var e={};if(t.children.length>0)for(var i=0;i<t.children.length;i++){var a=t.children.item(i),n=a.attributes;for(var o in n){var r=n[o],s=r.nodeName,l=r.nodeValue;void 0!==s&&(e[s]=l)}var c=a.nodeName;if(void 0===e[c])e[c]=d(a);else{if(void 0===e[c].push){var u=e[c];e[c]=[],e[c].push(u)}e[c].push(d(a))}}else e=t.textContent;return e}catch(t){console.log(t.message)}}var m=!1,h=function(t){return t instanceof h?t:this instanceof h?void(this.EXIFwrapped=t):new h(t)};void 0!==t&&t.exports&&(e=t.exports=h),e.EXIF=h;var g=h.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},v=h.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},b=h.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},y=h.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},_=h.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},w={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};h.enableXmp=function(){h.isXmpEnabled=!0},h.disableXmp=function(){h.isXmpEnabled=!1},h.getData=function(t,e){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete||(i(t)?e&&e.call(t):o(t,e),0))},h.getTag=function(t,e){if(i(t))return t.exifdata[e]},h.getIptcTag=function(t,e){if(i(t))return t.iptcdata[e]},h.getAllTags=function(t){if(!i(t))return{};var e,a=t.exifdata,n={};for(e in a)a.hasOwnProperty(e)&&(n[e]=a[e]);return n},h.getAllIptcTags=function(t){if(!i(t))return{};var e,a=t.iptcdata,n={};for(e in a)a.hasOwnProperty(e)&&(n[e]=a[e]);return n},h.pretty=function(t){if(!i(t))return"";var e,a=t.exifdata,n="";for(e in a)a.hasOwnProperty(e)&&("object"==typeof a[e]?a[e]instanceof Number?n+=e+" : "+a[e]+" ["+a[e].numerator+"/"+a[e].denominator+"]\r\n":n+=e+" : ["+a[e].length+" values]\r\n":n+=e+" : "+a[e]+"\r\n");return n},h.readFromBinaryFile=function(t){return r(t)},void 0===(a=function(){return h}.apply(e,[]))||(t.exports=a)}).call(this)}])})}}]);
//# sourceMappingURL=13.18d0028f.js.map