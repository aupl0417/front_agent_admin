{"version":3,"sources":["webpack:///./src/components/avatar-crop.vue?4c0f","webpack:///./node_modules/vue-image-crop-upload/upload-2.vue?ee03","webpack:///./src/views/me.vue?c74c","webpack:///./src/components/avatar-crop.vue?5d02","webpack:///./node_modules/vue-image-crop-upload/upload-2.vue?8342","webpack:///./node_modules/vue-image-crop-upload/utils/language.js","webpack:///./node_modules/vue-image-crop-upload/utils/mimes.js","webpack:///./node_modules/vue-image-crop-upload/utils/data2blob.js","webpack:///./node_modules/vue-image-crop-upload/utils/effectRipple.js","webpack:///node_modules/vue-image-crop-upload/upload-2.vue","webpack:///./node_modules/vue-image-crop-upload/upload-2.vue?2d36","webpack:///./node_modules/vue-image-crop-upload/upload-2.vue","webpack:///src/components/avatar-crop.vue","webpack:///./src/components/avatar-crop.vue?e318","webpack:///./src/components/avatar-crop.vue","webpack:///src/views/me.vue","webpack:///./src/views/me.vue?361f","webpack:///./src/views/me.vue","webpack:///./src/views/me.vue?b5f1"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_avatar_crop_vue_vue_type_style_index_0_lang_less__WEBPACK_IMPORTED_MODULE_0___default","_mini_css_extract_plugin_dist_loader_js_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_lib_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_upload_2_vue_vue_type_style_index_0_lang_css__WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","separator-class","to","_v","directives","name","rawName","value","expression","staticStyle","width","src","userInfo","portrait","$config","avatar","alt","on","click","$event","visible","_s","userId","userName","showDialog","phone","email","department","position","role","_e","before-close","closeDialog","title","dialog","update:visible","$set","ref","label-width","nativeOn","submit","preventDefault","keyup","_k","keyCode","key","submitDialog","type","label","prop","maxlength","model","data","callback","$$v","placeholder","trim","plain","sendCode","slot","white","loading","crop:success","cropSuccess","staticRenderFns","avatar_cropvue_type_template_id_576287ab_render","field","url","$api","uploadURL","height","params","headers","img-format","crop-success","crop-upload-success","cropUploadSuccess","crop-upload-fail","cropUploadFail","show","avatar_cropvue_type_template_id_576287ab_staticRenderFns","upload_2vue_type_template_id_fd0c26be_render","off","step","dragleave","dragover","dragenter","handleClick","drop","handleChange","lang","hint","isSupported","noSupported","change","errorMsg","mousedown","ripple","btn","style","sourceImgUrl","draggable","drag","dragstart","dragend","touchstart","imgStartMove","touchmove","imgMove","touchend","createImg","touchcancel","mousemove","mouseup","mouseout","min","max","domProps","scale","range","zoomChange","startZoomSub","endZoomSub","startZoomAdd","endZoomAdd","noRotate","rotateImg","noSquare","createImgUrl","preview","noCircle","setStep","back","prepareUpload","save","success","close","upload_2vue_type_template_id_fd0c26be_staticRenderFns","language","zh","fail","error","onlyImg","outOfSize","lowestPx","zh-tw","en","ro","loewstPx","ru","pt-br","fr","nl","tr","es-MX","de","ja","ua","it","ar","ug","th","mm","se","mimes","jpg","png","gif","svg","psd","data2blob","mime","split","window","atob","ia","Uint8Array","length","i","charCodeAt","Blob","effectRipple","e","arg_opts","opts","Object","assign","ele","target","bgc","rect","getBoundingClientRect","querySelector","className","document","createElement","Math","appendChild","top","offsetHeight","left","offsetWidth","pageY","body","scrollTop","pageX","scrollLeft","backgroundColor","upload_2vue_type_script_lang_js","props","String","default","ki","Number","Boolean","maxSize","langType","langExt","imgFormat","imgBgc","withCredentials","method","that","allowImgFormat","tempImgFormat","indexOf","FormData","isSupportTouch","hasOwnProperty","progress","hasError","ratio","sourceImg","sourceImgMouseDown","mX","mY","x","y","previewContainer","sourceImgContainer","zoomAddOn","zoomSubOn","maxWidth","maxHeight","minWidth","minHeight","naturalWidth","naturalHeight","computed","progressStyle","sourceImgStyle","sourceImgMasking","sic","sicRatio","w","h","sourceImgShadeStyle","sim","previewStyle","pc","pcRatio","watch","newValue","reset","methods","_this","setTimeout","$emit","no","_this2","$refs","fileinput","activeElement","files","dataTransfer","checkFile","setSourceImg","file","size","FileReader","onload","result","startCrop","readAsDataURL","img","Image","nWidth","nHeight","nRatio","targetTouches","et","simd","screenX","screenY","_this$sourceImgMouseD","nX","nY","dX","dY","rX","rY","_this$scale","canvas","ctx","getContext","clearRect","fillStyle","fillRect","translate","rotate","PI","drawImage","imgUrl","toDataURL","zoom","zoomImg","newRange","sWidth","sHeight","_that$scale","upload","fmData","append","es6_typeof","keys","forEach","k","uploadProgress","event","lengthComputable","round","loaded","total","Promise","resolve","reject","client","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","responseText","addEventListener","setRequestHeader","send","then","resData","sts","created","_this3","vue_image_crop_upload_upload_2vue_type_script_lang_js","component","componentNormalizer","upload_2","avatar_cropvue_type_script_lang_js","components","AvatarCrop","timestamp","Date","now","sign","smail","get","set","imgDataUrl","_ref","$message","components_avatar_cropvue_type_script_lang_js","avatar_crop_component","avatar_crop","mevue_type_script_lang_js","newCode","oldpassword","password","repassword","objectSpread","vuex_esm","imgURL","auth","setInfo","finally","sendMobiCode","$el","getInfo","$store","dispatch","arguments","undefined","$utils","copyObj","done","_this4","setEmail","changePwd","mounted","views_mevue_type_script_lang_js","me_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_me_vue_vue_type_style_index_0_id_ea3ce3c4_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/6.525bfabc.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./avatar-crop.vue?vue&type=style&index=0&lang=less\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./avatar-crop.vue?vue&type=style&index=0&lang=less\"","import mod from \"-!../mini-css-extract-plugin/dist/loader.js!../css-loader/index.js??ref--6-oneOf-1-1!../vue-loader/lib/loaders/stylePostLoader.js!../postcss-loader/lib/index.js??ref--6-oneOf-1-2!../cache-loader/dist/cjs.js??ref--0-0!../vue-loader/lib/index.js??vue-loader-options!./upload-2.vue?vue&type=style&index=0&lang=css\"; export default mod; export * from \"-!../mini-css-extract-plugin/dist/loader.js!../css-loader/index.js??ref--6-oneOf-1-1!../vue-loader/lib/loaders/stylePostLoader.js!../postcss-loader/lib/index.js??ref--6-oneOf-1-2!../cache-loader/dist/cjs.js??ref--0-0!../vue-loader/lib/index.js??vue-loader-options!./upload-2.vue?vue&type=style&index=0&lang=css\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"l-h100\"},[_c('el-main',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":\"/\"}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"个人中心\")])],1),_c('div',{staticClass:\"l-bg-white l-margin-t\"},[_c('div',{staticClass:\"l-tab\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"el-icon-loading l-fs-x2 l-fr l-padding\"}),_c('ul',{staticClass:\"l-tab-tit\"},[_c('li',{staticClass:\"_active0\"},[_vm._v(\"账号基本信息\")])])]),(_vm.userInfo)?_c('div',{staticClass:\"l-padding-xl\"},[_c('table',{staticClass:\"l-table-02\",staticStyle:{\"width\":\"800px\"}},[_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"账号头像\")]),_c('td',{staticClass:\"_noright\"},[_c('img',{staticClass:\"l-avatar\",attrs:{\"src\":_vm.userInfo.portrait || _vm.$config.avatar,\"alt\":\"\"}})]),_c('td',{attrs:{\"width\":\"30\"},on:{\"click\":function($event){_vm.avatar.visible = true}}},[_c('i',{staticClass:\"el-icon-edit-outline\"})])]),_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"账号ID\")]),_c('td',{staticClass:\"_noright\"},[_vm._v(_vm._s(_vm.userInfo.userId))]),_c('td',{attrs:{\"width\":\"30\"}})]),_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"用户名称\")]),_c('td',{staticClass:\"_noright\"},[_vm._v(_vm._s(_vm.userInfo.userName))]),_c('td',{attrs:{\"width\":\"30\"},on:{\"click\":function($event){_vm.showDialog(1)}}},[_c('i',{staticClass:\"el-icon-edit-outline\"})])]),_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"手机号码\")]),_c('td',{staticClass:\"_noright\"},[_vm._v(_vm._s(_vm.userInfo.phone))]),_c('td',{attrs:{\"width\":\"30\"}})]),_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"电子邮箱\")]),_c('td',{staticClass:\"_noright\"},[_vm._v(_vm._s(_vm.userInfo.email))]),_c('td',{attrs:{\"width\":\"30\"},on:{\"click\":function($event){_vm.showDialog(2)}}})]),_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"部门岗位\")]),_c('td',{staticClass:\"_noright\"},[_vm._v(_vm._s(_vm.userInfo.department)+\"-\"+_vm._s(_vm.userInfo.position))]),_c('td',{attrs:{\"width\":\"30\"}})]),_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"账号角色\")]),_c('td',{staticClass:\"_noright\"},[_vm._v(_vm._s(_vm.userInfo.role))]),_c('td',{attrs:{\"width\":\"30\"}})]),_c('tr',[_c('td',{staticClass:\"_tit\",attrs:{\"width\":\"100\"}},[_vm._v(\"登录密码\")]),_c('td',{staticClass:\"_noright\"},[_vm._v(\"**********\")]),_c('td',{attrs:{\"width\":\"30\"},on:{\"click\":function($event){_vm.showDialog(3)}}},[_c('i',{staticClass:\"el-icon-edit-outline\"})])])])]):_vm._e()]),_c('el-dialog',{attrs:{\"before-close\":_vm.closeDialog,\"title\":_vm.dialog.title,\"visible\":_vm.dialog.visible,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.$set(_vm.dialog, \"visible\", $event)}}},[_c('el-form',{ref:\"infoForm\",staticClass:\"l-dialog-form l-margin-r\",attrs:{\"label-width\":\"90px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();},\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitDialog($event)}}},[(_vm.dialog.type === 1)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"userName\"}},[_c('el-input',{attrs:{\"maxlength\":50},model:{value:(_vm.dialog.data.userName),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"userName\", $$v)},expression:\"dialog.data.userName\"}})],1)],1):(_vm.dialog.type === 2)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"电子邮箱\",\"prop\":\"email\"}},[_c('div',{staticClass:\"l-flex-hc\"},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入常用电子邮箱\",\"maxlength\":100},model:{value:(_vm.dialog.data.email),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"dialog.data.email\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"邮箱验证码\",\"prop\":\"newCode\"}},[_c('div',{staticClass:\"l-flex-hc\"},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入邮箱验证码\",\"maxlength\":6},model:{value:(_vm.dialog.data.newCode),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"newCode\", $$v)},expression:\"dialog.data.newCode\"}}),_c('el-button',{ref:\"sendCode\",staticClass:\"l-margin-l\",staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.sendCode()}}},[_vm._v(\"获取验证码\")])],1)])],1):(_vm.dialog.type === 3)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"原密码\",\"prop\":\"oldpassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"maxlength\":50},model:{value:(_vm.dialog.data.oldpassword),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"oldpassword\", $$v)},expression:\"dialog.data.oldpassword\"}},[_c('template',{slot:\"append\"},[_c('router-link',{staticClass:\"l-fs-xs l-txt-link\",attrs:{\"to\":'/forgot?phone=' + _vm.userInfo.phone}},[_vm._v(\"忘记密码？\")])],1)],2)],1),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"maxlength\":50},model:{value:(_vm.dialog.data.password),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"password\", $$v)},expression:\"dialog.data.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"确认新密码\",\"prop\":\"repassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"maxlength\":50},model:{value:(_vm.dialog.data.repassword),callback:function ($$v) {_vm.$set(_vm.dialog.data, \"repassword\", $$v)},expression:\"dialog.data.repassword\"}})],1)],1):_vm._e()]),_c('span',{staticClass:\"l-margin-r-m\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"white\":\"\"},on:{\"click\":function($event){_vm.closeDialog()}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.dialog.loading},on:{\"click\":_vm.submitDialog}},[_vm._v(_vm._s(_vm.dialog.loading ? '提交中...' : '确定提交'))])],1)],1),_c('avatar-crop',{on:{\"crop:success\":_vm.cropSuccess},model:{value:(_vm.avatar.visible),callback:function ($$v) {_vm.$set(_vm.avatar, \"visible\", $$v)},expression:\"avatar.visible\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('avatar-crop',{attrs:{\"field\":\"image\",\"url\":_vm.$api.uploadURL,\"width\":200,\"height\":200,\"params\":_vm.params,\"headers\":_vm.headers,\"img-format\":\"png\"},on:{\"crop-success\":_vm.cropSuccess,\"crop-upload-success\":_vm.cropUploadSuccess,\"crop-upload-fail\":_vm.cropUploadFail},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.value),expression:\"value\"}],staticClass:\"vue-image-crop-upload\"},[_c('div',{staticClass:\"vicp-wrap\"},[_c('div',{staticClass:\"vicp-close\",on:{\"click\":_vm.off}},[_c('i',{staticClass:\"vicp-icon4\"})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step == 1),expression:\"step == 1\"}],staticClass:\"vicp-step1\"},[_c('div',{staticClass:\"vicp-drop-area\",on:{\"dragleave\":_vm.preventDefault,\"dragover\":_vm.preventDefault,\"dragenter\":_vm.preventDefault,\"click\":_vm.handleClick,\"drop\":_vm.handleChange}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading != 1),expression:\"loading != 1\"}],staticClass:\"vicp-icon1\"},[_c('i',{staticClass:\"vicp-icon1-arrow\"}),_c('i',{staticClass:\"vicp-icon1-body\"}),_c('i',{staticClass:\"vicp-icon1-bottom\"})]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading !== 1),expression:\"loading !== 1\"}],staticClass:\"vicp-hint\"},[_vm._v(_vm._s(_vm.lang.hint))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isSupported),expression:\"!isSupported\"}],staticClass:\"vicp-no-supported-hint\"},[_vm._v(_vm._s(_vm.lang.noSupported))]),(_vm.step == 1)?_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"fileinput\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.handleChange}}):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasError),expression:\"hasError\"}],staticClass:\"vicp-error\"},[_c('i',{staticClass:\"vicp-icon2\"}),_vm._v(\" \"+_vm._s(_vm.errorMsg)+\"\\r\\n\\t\\t\\t\")]),_c('div',{staticClass:\"vicp-operate\"},[_c('a',{on:{\"click\":_vm.off,\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.off))])])]),(_vm.step == 2)?_c('div',{staticClass:\"vicp-step2\"},[_c('div',{staticClass:\"vicp-crop\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"vicp-crop-left\"},[_c('div',{staticClass:\"vicp-img-container\"},[_c('img',{ref:\"img\",staticClass:\"vicp-img\",style:(_vm.sourceImgStyle),attrs:{\"src\":_vm.sourceImgUrl,\"draggable\":\"false\"},on:{\"drag\":_vm.preventDefault,\"dragstart\":_vm.preventDefault,\"dragend\":_vm.preventDefault,\"dragleave\":_vm.preventDefault,\"dragover\":_vm.preventDefault,\"dragenter\":_vm.preventDefault,\"drop\":_vm.preventDefault,\"touchstart\":_vm.imgStartMove,\"touchmove\":_vm.imgMove,\"touchend\":_vm.createImg,\"touchcancel\":_vm.createImg,\"mousedown\":_vm.imgStartMove,\"mousemove\":_vm.imgMove,\"mouseup\":_vm.createImg,\"mouseout\":_vm.createImg}}),_c('div',{staticClass:\"vicp-img-shade vicp-img-shade-1\",style:(_vm.sourceImgShadeStyle)}),_c('div',{staticClass:\"vicp-img-shade vicp-img-shade-2\",style:(_vm.sourceImgShadeStyle)})]),_c('div',{staticClass:\"vicp-range\"},[_c('input',{attrs:{\"type\":\"range\",\"step\":\"1\",\"min\":\"0\",\"max\":\"100\"},domProps:{\"value\":_vm.scale.range},on:{\"mousemove\":_vm.zoomChange}}),_c('i',{staticClass:\"vicp-icon5\",on:{\"mousedown\":_vm.startZoomSub,\"mouseout\":_vm.endZoomSub,\"mouseup\":_vm.endZoomSub}}),_c('i',{staticClass:\"vicp-icon6\",on:{\"mousedown\":_vm.startZoomAdd,\"mouseout\":_vm.endZoomAdd,\"mouseup\":_vm.endZoomAdd}})]),(!_vm.noRotate)?_c('div',{staticClass:\"vicp-rotate\"},[_c('i',{on:{\"click\":_vm.rotateImg}},[_vm._v(\"↻\")])]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],staticClass:\"vicp-crop-right\"},[_c('div',{staticClass:\"vicp-preview\"},[(!_vm.noSquare)?_c('div',{staticClass:\"vicp-preview-item\"},[_c('img',{style:(_vm.previewStyle),attrs:{\"src\":_vm.createImgUrl}}),_c('span',[_vm._v(_vm._s(_vm.lang.preview))])]):_vm._e(),(!_vm.noCircle)?_c('div',{staticClass:\"vicp-preview-item vicp-preview-item-circle\"},[_c('img',{style:(_vm.previewStyle),attrs:{\"src\":_vm.createImgUrl}}),_c('span',[_vm._v(_vm._s(_vm.lang.preview))])]):_vm._e()])])]),_c('div',{staticClass:\"vicp-operate\"},[_c('a',{on:{\"click\":function($event){_vm.setStep(1)},\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.back))]),_c('a',{staticClass:\"vicp-operate-btn\",on:{\"click\":_vm.prepareUpload,\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.save))])])]):_vm._e(),(_vm.step == 3)?_c('div',{staticClass:\"vicp-step3\"},[_c('div',{staticClass:\"vicp-upload\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === 1),expression:\"loading === 1\"}],staticClass:\"vicp-loading\"},[_vm._v(_vm._s(_vm.lang.loading))]),_c('div',{staticClass:\"vicp-progress-wrap\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === 1),expression:\"loading === 1\"}],staticClass:\"vicp-progress\",style:(_vm.progressStyle)})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasError),expression:\"hasError\"}],staticClass:\"vicp-error\"},[_c('i',{staticClass:\"vicp-icon2\"}),_vm._v(\" \"+_vm._s(_vm.errorMsg)+\"\\r\\n\\t\\t\\t\\t\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading === 2),expression:\"loading === 2\"}],staticClass:\"vicp-success\"},[_c('i',{staticClass:\"vicp-icon3\"}),_vm._v(\" \"+_vm._s(_vm.lang.success)+\"\\r\\n\\t\\t\\t\\t\")])]),_c('div',{staticClass:\"vicp-operate\"},[_c('a',{on:{\"click\":function($event){_vm.setStep(2)},\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.back))]),_c('a',{on:{\"click\":_vm.off,\"mousedown\":_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.close))])])]):_vm._e(),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"canvas\",attrs:{\"width\":_vm.width,\"height\":_vm.height}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\r\n\tzh: {\r\n\t\thint: '点击，或拖动图片至此处',\r\n\t\tloading: '正在上传……',\r\n\t\tnoSupported: '浏览器不支持该功能，请使用IE10以上或其他现在浏览器！',\r\n\t\tsuccess: '上传成功',\r\n\t\tfail: '图片上传失败',\r\n\t\tpreview: '头像预览',\r\n\t\tbtn: {\r\n\t\t\toff: '取消',\r\n\t\t\tclose: '关闭',\r\n\t\t\tback: '上一步',\r\n\t\t\tsave: '保存'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: '仅限图片格式',\r\n\t\t\toutOfSize: '单文件大小不能超过 ',\r\n\t\t\tlowestPx: '图片最低像素为（宽*高）：'\r\n\t\t}\r\n\t},\r\n\t'zh-tw': {\r\n\t\thint: '點擊，或拖動圖片至此處',\r\n\t\tloading: '正在上傳……',\r\n\t\tnoSupported: '瀏覽器不支持該功能，請使用IE10以上或其他現代瀏覽器！',\r\n\t\tsuccess: '上傳成功',\r\n\t\tfail: '圖片上傳失敗',\r\n\t\tpreview: '頭像預覽',\r\n\t\tbtn: {\r\n\t\t\toff: '取消',\r\n\t\t\tclose: '關閉',\r\n\t\t\tback: '上一步',\r\n\t\t\tsave: '保存'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: '僅限圖片格式',\r\n\t\t\toutOfSize: '單文件大小不能超過 ',\r\n\t\t\tlowestPx: '圖片最低像素為（寬*高）：'\r\n\t\t}\r\n\t},\r\n\ten: {\r\n\t\thint: 'Click or drag the file here to upload',\r\n\t\tloading: 'Uploading…',\r\n\t\tnoSupported: 'Browser is not supported, please use IE10+ or other browsers',\r\n\t\tsuccess: 'Upload success',\r\n\t\tfail: 'Upload failed',\r\n\t\tpreview: 'Preview',\r\n\t\tbtn: {\r\n\t\t\toff: 'Cancel',\r\n\t\t\tclose: 'Close',\r\n\t\t\tback: 'Back',\r\n\t\t\tsave: 'Save'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Image only',\r\n\t\t\toutOfSize: 'Image exceeds size limit: ',\r\n\t\t\tlowestPx: 'Image\\'s size is too low. Expected at least: '\r\n\t\t}\r\n\t},\r\n\tro: {\r\n\t\thint: 'Atinge sau trage fișierul aici',\r\n\t\tloading: 'Se încarcă',\r\n\t\tnoSupported: 'Browser-ul tău nu suportă acest feature. Te rugăm încearcă cu alt browser.',\r\n\t\tsuccess: 'S-a încărcat cu succes',\r\n\t\tfail: 'A apărut o problemă la încărcare',\r\n\t\tpreview: 'Previzualizează',\r\n\r\n\t\tbtn: {\r\n\t\t\toff: 'Anulează',\r\n\t\t\tclose: 'Închide',\r\n\t\t\tback: 'Înapoi',\r\n\t\t\tsave: 'Salvează'\r\n\t\t},\r\n\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Doar imagini',\r\n\t\t\toutOfSize: 'Imaginea depășește limita de: ',\r\n\t\t\tloewstPx: 'Imaginea este prea mică; Minim: '\r\n\t\t}\r\n\t},\r\n\tru: {\r\n\t\thint: 'Нажмите, или перетащите файл в это окно',\r\n\t\tloading: 'Загружаю……',\r\n\t\tnoSupported: 'Ваш браузер не поддерживается, пожалуйста, используйте IE10 + или другие браузеры',\r\n\t\tsuccess: 'Загрузка выполнена успешно',\r\n\t\tfail: 'Ошибка загрузки',\r\n\t\tpreview: 'Предпросмотр',\r\n\t\tbtn: {\r\n\t\t\toff: 'Отменить',\r\n\t\t\tclose: 'Закрыть',\r\n\t\t\tback: 'Назад',\r\n\t\t\tsave: 'Сохранить'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Только изображения',\r\n\t\t\toutOfSize: 'Изображение превышает предельный размер: ',\r\n\t\t\tlowestPx: 'Минимальный размер изображения: '\r\n\t\t}\r\n\t},\r\n\t'pt-br': {\r\n\t\thint: 'Clique ou arraste o arquivo aqui para carregar',\r\n\t\tloading: 'Carregando…',\r\n\t\tnoSupported: 'Browser não suportado, use o IE10+ ou outro browser',\r\n\t\tsuccess: 'Sucesso ao carregar imagem',\r\n\t\tfail: 'Falha ao carregar imagem',\r\n\t\tpreview: 'Pré-visualizar',\r\n\t\tbtn: {\r\n\t\t\toff: 'Cancelar',\r\n\t\t\tclose: 'Fechar',\r\n\t\t\tback: 'Voltar',\r\n\t\t\tsave: 'Salvar'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Apenas imagens',\r\n\t\t\toutOfSize: 'A imagem excede o limite de tamanho: ',\r\n\t\t\tlowestPx: 'O tamanho da imagem é muito pequeno. Tamanho mínimo: '\r\n\t\t}\r\n\t},\r\n\tfr: {\r\n\t\thint: 'Cliquez ou glissez le fichier ici.',\r\n\t\tloading: 'Téléchargement…',\r\n\t\tnoSupported: 'Votre navigateur n\\'est pas supporté. Utilisez IE10 + ou un autre navigateur s\\'il vous plaît.',\r\n\t\tsuccess: 'Téléchargement réussit',\r\n\t\tfail: 'Téléchargement echoué',\r\n\t\tpreview: 'Aperçu',\r\n\t\tbtn: {\r\n\t\t\toff: 'Annuler',\r\n\t\t\tclose: 'Fermer',\r\n\t\t\tback: 'Retour',\r\n\t\t\tsave: 'Enregistrer'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Image uniquement',\r\n\t\t\toutOfSize: 'L\\'image sélectionnée dépasse la taille maximum: ',\r\n\t\t\tlowestPx: 'L\\'image sélectionnée est trop petite. Dimensions attendues: '\r\n\t\t}\r\n\t},\r\n\tnl: {\r\n\t\thint: 'Klik hier of sleep een afbeelding in dit vlak',\r\n\t\tloading: 'Uploaden…',\r\n\t\tnoSupported: 'Je browser wordt helaas niet ondersteund. Gebruik IE10+ of een andere browser.',\r\n\t\tsuccess: 'Upload succesvol',\r\n\t\tfail: 'Upload mislukt',\r\n\t\tpreview: 'Voorbeeld',\r\n\t\tbtn: {\r\n\t\t\toff: 'Annuleren',\r\n\t\t\tclose: 'Sluiten',\r\n\t\t\tback: 'Terug',\r\n\t\t\tsave: 'Opslaan'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Alleen afbeeldingen',\r\n\t\t\toutOfSize: 'De afbeelding is groter dan: ',\r\n\t\t\tlowestPx: 'De afbeelding is te klein! Minimale afmetingen: '\r\n\t\t}\r\n\t},\r\n\ttr: {\r\n\t\thint: 'Tıkla veya yüklemek istediğini buraya sürükle',\r\n\t\tloading: 'Yükleniyor…',\r\n\t\tnoSupported: 'Tarayıcı desteklenmiyor, lütfen IE10+ veya farklı tarayıcı kullanın',\r\n\t\tsuccess: 'Yükleme başarılı',\r\n\t\tfail: 'Yüklemede hata oluştu',\r\n\t\tpreview: 'Önizle',\r\n\t\tbtn: {\r\n\t\t\toff: 'İptal',\r\n\t\t\tclose: 'Kapat',\r\n\t\t\tback: 'Geri',\r\n\t\t\tsave: 'Kaydet'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Sadece resim',\r\n\t\t\toutOfSize: 'Resim yükleme limitini aşıyor: ',\r\n\t\t\tlowestPx: 'Resmin boyutu çok küçük. En az olması gereken: '\r\n\t\t}\r\n\t},\r\n\t'es-MX': {\r\n\t\thint: 'Selecciona o arrastra una imagen',\r\n\t\tloading: 'Subiendo...',\r\n\t\tnoSupported: 'Tu navegador no es soportado, por favor usa IE10+ u otros navegadores más recientes',\r\n\t\tsuccess: 'Subido exitosamente',\r\n\t\tfail: 'Sucedió un error',\r\n\t\tpreview: 'Vista previa',\r\n\t\tbtn: {\r\n\t\t\toff: 'Cancelar',\r\n\t\t\tclose: 'Cerrar',\r\n\t\t\tback: 'Atrás',\r\n\t\t\tsave: 'Guardar'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Únicamente imágenes',\r\n\t\t\toutOfSize: 'La imagen excede el tamaño maximo:',\r\n\t\t\tlowestPx: 'La imagen es demasiado pequeña. Se espera por lo menos:'\r\n\t\t}\r\n\t},\r\n\tde: {\r\n\t\thint: 'Klick hier oder zieh eine Datei hier rein zum Hochladen',\r\n\t\tloading: 'Hochladen…',\r\n\t\tnoSupported: 'Browser wird nicht unterstützt, bitte verwende IE10+ oder andere Browser',\r\n\t\tsuccess: 'Upload erfolgreich',\r\n\t\tfail: 'Upload fehlgeschlagen',\r\n\t\tpreview: 'Vorschau',\r\n\t\tbtn: {\r\n\t\t\toff: 'Abbrechen',\r\n\t\t\tclose: 'Schließen',\r\n\t\t\tback: 'Zurück',\r\n\t\t\tsave: 'Speichern'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Nur Bilder',\r\n\t\t\toutOfSize: 'Das Bild ist zu groß: ',\r\n\t\t\tlowestPx: 'Das Bild ist zu klein. Mindestens: '\r\n\t\t}\r\n\t},\r\n\tja: {\r\n\t\thint: 'クリック・ドラッグしてファイルをアップロード',\r\n\t\tloading: 'アップロード中...',\r\n\t\tnoSupported: 'このブラウザは対応されていません。IE10+かその他の主要ブラウザをお使いください。',\r\n\t\tsuccess: 'アップロード成功',\r\n\t\tfail: 'アップロード失敗',\r\n\t\tpreview: 'プレビュー',\r\n\t\tbtn: {\r\n\t\t\toff: 'キャンセル',\r\n\t\t\tclose: '閉じる',\r\n\t\t\tback: '戻る',\r\n\t\t\tsave: '保存'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: '画像のみ',\r\n\t\t\toutOfSize: '画像サイズが上限を超えています。上限: ',\r\n\t\t\tlowestPx: '画像が小さすぎます。最小サイズ: '\r\n\t\t}\r\n\t},\r\n\tua: {\r\n\t\thint: 'Натисніть, або перетягніть файл в це вікно',\r\n\t\tloading: 'Завантажую……',\r\n\t\tnoSupported: 'Ваш браузер не підтримується, будь ласка скористайтесь IE10 + або іншими браузерами',\r\n\t\tsuccess: 'Завантаження виконано успішно',\r\n\t\tfail: 'Помилка завантаження',\r\n\t\tpreview: 'Попередній перегляд',\r\n\t\tbtn: {\r\n\t\t\toff: 'Відмінити',\r\n\t\t\tclose: 'Закрити',\r\n\t\t\tback: 'Назад',\r\n\t\t\tsave: 'Зберегти'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Тільки зображення',\r\n\t\t\toutOfSize: 'Зображення перевищує граничний розмір: ',\r\n\t\t\tlowestPx: 'Мінімальний розмір зображення: '\r\n\t\t}\r\n\t},\r\n\tit: {\r\n\t\thint: 'Clicca o trascina qui il file per caricarlo',\r\n\t\tloading: 'Caricamento del file…',\r\n\t\tnoSupported: 'Browser non supportato, per favore usa IE10+ o un altro browser',\r\n\t\tsuccess: 'Caricamento completato',\r\n\t\tfail: 'Caricamento fallito',\r\n\t\tpreview: 'Anteprima',\r\n\t\tbtn: {\r\n\t\t\toff: 'Annulla',\r\n\t\t\tclose: 'Chiudi',\r\n\t\t\tback: 'Indietro',\r\n\t\t\tsave: 'Salva'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Sono accettate solo immagini',\r\n\t\t\toutOfSize: 'L\\'immagine eccede i limiti di dimensione: ',\r\n\t\t\tlowestPx: 'L\\'immagine è troppo piccola. Il requisito minimo è: '\r\n\t\t}\r\n\t},\r\n\tar: {\r\n\t\thint: 'اضغط أو اسحب الملف هنا للتحميل',\r\n\t\tloading: 'جاري التحميل...',\r\n\t\tnoSupported: 'المتصفح غير مدعوم ، يرجى استخدام IE10 + أو متصفح أخر',\r\n\t\tsuccess: 'تم التحميل بنجاح',\r\n\t\tfail: 'فشل التحميل',\r\n\t\tpreview: 'معاينه',\r\n\t\tbtn: {\r\n\t\t\toff: 'إلغاء',\r\n\t\t\tclose: 'إغلاق',\r\n\t\t\tback: 'رجوع',\r\n\t\t\tsave: 'حفظ'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'صور فقط',\r\n\t\t\toutOfSize: 'تتجاوز الصوره الحجم المحدد: ',\r\n\t\t\tlowestPx: 'حجم الصورة صغير جدا. من المتوقع على الأقل: '\r\n\t\t}\r\n\t},\r\n\tug: {\r\n\t\thint: 'مەزكۇر دائىرىنى چىكىپ رەسىم تاللاڭ ياكى رەسىمنى سۆرەپ ئەكىرىڭ',\r\n\t\tloading: 'يوللىنىۋاتىدۇ...',\r\n\t\tnoSupported: 'تور كۆرگۈچ بۇ ئىقتىدارنى قوللىمايدۇ ، يۇقىرى نەشىردىكى تور كۆرگۈچنى ئىشلىتىڭ',\r\n\t\tsuccess: 'غەلبىلىك بولدى',\r\n\t\tfail: 'مەغلۇب بولدى',\r\n\t\tpreview: 'ئۈنۈم رەسىم',\r\n\t\tbtn: {\r\n\t\t\toff: 'بولدى قىلىش',\r\n\t\t\tclose: 'تاقاش',\r\n\t\t\tback: 'ئالدىنقى قەدەم',\r\n\t\t\tsave: 'ساقلاش'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'پەقەت رەسىم فورماتىنىلا قوللايدۇ',\r\n\t\t\toutOfSize: 'رەسىم چوڭ - كىچىكلىكى چەكتىن ئىشىپ كەتتى',\r\n\t\t\tlowestPx: 'رەسىمنىڭ ئەڭ كىچىك ئۆلچىمى :'\r\n\t\t}\r\n\t},\r\n\tth: {\r\n\t\thint: 'คลิ๊กหรือลากรูปมาที่นี่',\r\n\t\tloading: 'กำลังอัพโหลด…',\r\n\t\tnoSupported: 'เบราเซอร์ไม่รองรับ, กรุณาใช้ IE เวอร์ชั่น 10 ขึ้นไป หรือใช้เบราเซอร์ตัวอื่น',\r\n\t\tsuccess: 'อัพโหลดสำเร็จ',\r\n\t\tfail: 'อัพโหลดล้มเหลว',\r\n\t\tpreview: 'ตัวอย่าง',\r\n\t\tbtn: {\r\n\t\t\toff: 'ยกเลิก',\r\n\t\t\tclose: 'ปิด',\r\n\t\t\tback: 'กลับ',\r\n\t\t\tsave: 'บันทึก'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'ไฟล์ภาพเท่านั้น',\r\n\t\t\toutOfSize: 'ไฟล์ใหญ่เกินกำหนด: ',\r\n\t\t\tlowestPx: 'ไฟล์เล็กเกินไป. อย่างน้อยต้องมีขนาด: '\r\n\t\t}\r\n\t},\r\n\tmm: {\r\n\t\thint: 'ဖိုင်ကို ဤနေရာတွင် နှိပ်၍ (သို့) ဆွဲထည့်၍ တင်ပါ',\r\n\t\tloading: 'တင်နေသည်…',\r\n\t\tnoSupported: 'ဤဘရောက်ဇာကို အထောက်အပံ့ မပေးပါ၊ ကျေးဇူးပြု၍ IE10+ သို့မဟုတ် အခြား ဘရောက်ဇာ ကို အသုံးပြုပါ',\r\n\t\tsuccess: 'ဖိုင်တင်နေမှု မပြီးမြောက်ပါ',\r\n\t\tfail: 'ဖိုင်တင်နေမှု မအောင်မြင်ပါ',\r\n\t\tpreview: 'အစမ်းကြည့်',\r\n\t\tbtn: {\r\n\t\t\toff: 'မလုပ်တော့ပါ',\r\n\t\t\tclose: 'ပိတ်မည်',\r\n\t\t\tback: 'နောက်သို့',\r\n\t\t\tsave: 'သိမ်းမည်'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'ဓာတ်ပုံ သီးသန့်သာ',\r\n\t\t\toutOfSize: 'ဓာတ်ပုံဆိုဒ် ကြီးလွန်းသည် ။ အများဆုံး ဆိုဒ် : ',\r\n\t\t\tlowestPx: 'ဓာတ်ပုံဆိုဒ် သေးလွန်းသည်။ အနည်းဆုံး ဆိုဒ် : '\r\n\t\t}\r\n\t},\r\n\tse: {\r\n\t\thint: 'Klicka eller dra en fil hit för att ladda upp den',\r\n\t\tloading: 'Laddar upp…',\r\n\t\tnoSupported: 'Din webbläsare stöds inte, vänligen använd IE10+ eller andra webbläsare',\r\n\t\tsuccess: 'Uppladdning lyckades',\r\n\t\tfail: 'Uppladdning misslyckades',\r\n\t\tpreview: 'Förhandsgranska',\r\n\t\tbtn: {\r\n\t\t\toff: 'Avbryt',\r\n\t\t\tclose: 'Stäng',\r\n\t\t\tback: 'Tillbaka',\r\n\t\t\tsave: 'Spara'\r\n\t\t},\r\n\t\terror: {\r\n\t\t\tonlyImg: 'Endast bilder',\r\n\t\t\toutOfSize: 'Bilden är större än max-gränsen: ',\r\n\t\t\tlowestPx: 'Bilden är för liten. Minimum är: '\r\n\t\t}\r\n\t}\r\n};\r\n","export default {\r\n    'jpg': 'image/jpeg',\r\n    'png': 'image/png',\r\n    'gif': 'image/gif',\r\n    'svg': 'image/svg+xml',\r\n    'psd': 'image/photoshop'\r\n};\r\n","/**\r\n * database64文件格式转换为2进制\r\n *\r\n * @param  {[String]} data dataURL 的格式为 “data:image/png;base64,****”,逗号之前都是一些说明性的文字，我们只需要逗号之后的就行了\r\n * @param  {[String]} mime [description]\r\n * @return {[blob]}      [description]\r\n */\r\nexport default function(data, mime) {\r\n\tdata = data.split(',')[1];\r\n\tdata = window.atob(data);\r\n\tvar ia = new Uint8Array(data.length);\r\n\tfor (var i = 0; i < data.length; i++) {\r\n\t\tia[i] = data.charCodeAt(i);\r\n\t};\r\n\t// canvas.toDataURL 返回的默认格式就是 image/png\r\n\treturn new Blob([ia], {\r\n\t\ttype: mime\r\n\t});\r\n};\r\n","/**\r\n * 点击波纹效果\r\n *\r\n * @param  {[event]} e        [description]\r\n * @param  {[Object]} arg_opts [description]\r\n * @return {[bollean]}          [description]\r\n */\r\nexport default function(e, arg_opts) {\r\n\tvar opts = Object.assign({\r\n\t\t\tele: e.target, // 波纹作用元素\r\n\t\t\ttype: 'hit', // hit点击位置扩散　center中心点扩展\r\n\t\t\tbgc: 'rgba(0, 0, 0, 0.15)' // 波纹颜色\r\n\t\t}, arg_opts),\r\n\t\ttarget = opts.ele;\r\n\tif (target) {\r\n\t\tvar rect = target.getBoundingClientRect(),\r\n\t\t\tripple = target.querySelector('.e-ripple');\r\n\t\tif (!ripple) {\r\n\t\t\tripple = document.createElement('span');\r\n\t\t\tripple.className = 'e-ripple';\r\n\t\t\tripple.style.height = ripple.style.width = Math.max(rect.width, rect.height) + 'px';\r\n\t\t\ttarget.appendChild(ripple);\r\n\t\t} else {\r\n\t\t\tripple.className = 'e-ripple';\r\n\t\t}\r\n\t\tswitch (opts.type) {\r\n\t\t\tcase 'center':\r\n\t\t\t\tripple.style.top = (rect.height / 2 - ripple.offsetHeight / 2) + 'px';\r\n\t\t\t\tripple.style.left = (rect.width / 2 - ripple.offsetWidth / 2) + 'px';\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tripple.style.top = (e.pageY - rect.top - ripple.offsetHeight / 2 - document.body.scrollTop) + 'px';\r\n\t\t\t\tripple.style.left = (e.pageX - rect.left - ripple.offsetWidth / 2 - document.body.scrollLeft) + 'px';\r\n\t\t}\r\n\t\tripple.style.backgroundColor = opts.bgc;\r\n\t\tripple.className = 'e-ripple z-active';\r\n\t\treturn false;\r\n\t}\r\n};\r\n","<template>\r\n<div class=\"vue-image-crop-upload\" v-show=\"value\">\r\n\t<div class=\"vicp-wrap\">\r\n\t\t<div class=\"vicp-close\" @click=\"off\">\r\n\t\t\t<i class=\"vicp-icon4\"></i>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"vicp-step1\" v-show=\"step == 1\">\r\n\t\t\t<div class=\"vicp-drop-area\" @dragleave=\"preventDefault\" @dragover=\"preventDefault\" @dragenter=\"preventDefault\" @click=\"handleClick\" @drop=\"handleChange\">\r\n\t\t\t\t<i class=\"vicp-icon1\" v-show=\"loading != 1\">\r\n\t\t\t\t<i class=\"vicp-icon1-arrow\"></i>\r\n\t\t\t\t<i class=\"vicp-icon1-body\"></i>\r\n\t\t\t\t<i class=\"vicp-icon1-bottom\"></i>\r\n\t\t\t\t</i>\r\n\t\t\t\t<span class=\"vicp-hint\" v-show=\"loading !== 1\">{{ lang.hint }}</span>\r\n\t\t\t\t<span class=\"vicp-no-supported-hint\" v-show=\"!isSupported\">{{ lang.noSupported }}</span>\r\n\t\t\t\t<input type=\"file\" v-show=\"false\" v-if=\"step == 1\" @change=\"handleChange\" ref=\"fileinput\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-error\" v-show=\"hasError\">\r\n\t\t\t\t<i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-operate\">\r\n\t\t\t\t<a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.off }}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"vicp-step2\" v-if=\"step == 2\">\r\n\t\t\t<div class=\"vicp-crop\">\r\n\t\t\t\t<div class=\"vicp-crop-left\" v-show=\"true\">\r\n\t\t\t\t\t<div class=\"vicp-img-container\">\r\n\t\t\t\t\t\t<img :src=\"sourceImgUrl\" :style=\"sourceImgStyle\" class=\"vicp-img\" draggable=\"false\"\r\n\t\t\t\t\t\t\t@drag=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragstart=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragend=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragleave=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragover=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragenter=\"preventDefault\"\r\n\t\t\t\t\t\t\t@drop=\"preventDefault\"\r\n\t\t\t\t\t\t\t@touchstart=\"imgStartMove\"\r\n\t\t\t\t\t\t\t@touchmove=\"imgMove\"\r\n\t\t\t\t\t\t\t@touchend=\"createImg\"\r\n\t\t\t\t\t\t\t@touchcancel=\"createImg\"\r\n\t\t\t\t\t\t\t@mousedown=\"imgStartMove\"\r\n\t\t\t\t\t\t\t@mousemove=\"imgMove\"\r\n\t\t\t\t\t\t\t@mouseup=\"createImg\"\r\n\t\t\t\t\t\t\t@mouseout=\"createImg\"\r\n\t\t\t\t\t\t\tref=\"img\">\r\n\t\t\t\t\t\t<div class=\"vicp-img-shade vicp-img-shade-1\" :style=\"sourceImgShadeStyle\"></div>\r\n\t\t\t\t\t\t<div class=\"vicp-img-shade vicp-img-shade-2\" :style=\"sourceImgShadeStyle\"></div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"vicp-range\">\r\n\t\t\t\t\t\t<input type=\"range\" :value=\"scale.range\" step=\"1\" min=\"0\" max=\"100\" @mousemove=\"zoomChange\">\r\n\t\t\t\t\t\t<i @mousedown=\"startZoomSub\" @mouseout=\"endZoomSub\" @mouseup=\"endZoomSub\" class=\"vicp-icon5\"></i>\r\n\t\t\t\t\t\t<i @mousedown=\"startZoomAdd\" @mouseout=\"endZoomAdd\" @mouseup=\"endZoomAdd\" class=\"vicp-icon6\"></i>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"vicp-rotate\" v-if=\"!noRotate\">\r\n                        <i @click=\"rotateImg\">↻</i>\r\n                    </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"vicp-crop-right\" v-show=\"true\">\r\n\t\t\t\t\t<div class=\"vicp-preview\">\r\n\t\t\t\t\t\t<div class=\"vicp-preview-item\" v-if=\"!noSquare\">\r\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\r\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"vicp-preview-item vicp-preview-item-circle\" v-if=\"!noCircle\">\r\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\r\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-operate\">\r\n\t\t\t\t<a @click=\"setStep(1)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n\t\t\t\t<a class=\"vicp-operate-btn\" @click=\"prepareUpload\" @mousedown=\"ripple\">{{ lang.btn.save }}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"vicp-step3\" v-if=\"step == 3\">\r\n\t\t\t<div class=\"vicp-upload\">\r\n\t\t\t\t<span class=\"vicp-loading\" v-show=\"loading === 1\">{{ lang.loading }}</span>\r\n\t\t\t\t<div class=\"vicp-progress-wrap\">\r\n\t\t\t\t\t<span class=\"vicp-progress\" v-show=\"loading === 1\" :style=\"progressStyle\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"vicp-error\" v-show=\"hasError\">\r\n\t\t\t\t\t<i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"vicp-success\" v-show=\"loading === 2\">\r\n\t\t\t\t\t<i class=\"vicp-icon3\"></i> {{ lang.success }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-operate\">\r\n\t\t\t\t<a @click=\"setStep(2)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n\t\t\t\t<a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.close }}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<canvas v-show=\"false\" :width=\"width\" :height=\"height\" ref=\"canvas\"></canvas>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n'use strict';\r\nimport language from './utils/language.js';\r\nimport mimes from './utils/mimes.js';\r\nimport data2blob from './utils/data2blob.js';\r\nimport effectRipple from './utils/effectRipple.js';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\t// 域，上传文件name，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n\t\tfield: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'avatar'\r\n\t\t},\r\n\t\t// 原名key，类似于id，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n\t\tki: {\r\n\t\t\t'default': 0\r\n\t\t},\r\n\t\t// 显示该控件与否\r\n\t\tvalue: {\r\n\t\t\t'default': true\r\n\t\t},\r\n\t\t// 上传地址\r\n\t\turl: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': ''\r\n\t\t},\r\n\t\t// 其他要上传文件附带的数据，对象格式\r\n\t\tparams: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': null\r\n\t\t},\r\n\t\t//Add custom headers\r\n\t\theaders: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': null\r\n\t\t},\r\n\t\t// 剪裁图片的宽\r\n\t\twidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 200\r\n\t\t},\r\n\t\t// 剪裁图片的高\r\n\t\theight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 200\r\n\t\t},\r\n\t\t// 不显示旋转功能\r\n\t\tnoRotate: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 不预览圆形图片\r\n\t\tnoCircle: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 不预览方形图片\r\n\t\tnoSquare: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 单文件大小限制\r\n\t\tmaxSize: {\r\n\t\t\ttype: Number,\r\n\t\t\t'default': 10240\r\n\t\t},\r\n\t\t// 语言类型\r\n\t\tlangType: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'zh'\r\n\t\t},\r\n\t\t// 语言包\r\n\t\tlangExt: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': null\r\n\t\t},\r\n\t\t// 图片上传格式\r\n\t\timgFormat: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'png'\r\n\t\t},\r\n\t\t// 图片背景 jpg情况下生效\r\n\t\timgBgc: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': '#fff'\r\n\t\t},\r\n\t\t// 是否支持跨域\r\n\t\twithCredentials: {\r\n\t\t\ttype: Boolean,\r\n\t\t\t'default': false\r\n\t\t},\r\n\t\tmethod: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'POST'\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tlet that = this,\r\n\t\t\t{\r\n\t\t\t\timgFormat,\r\n\t\t\t\tlangType,\r\n\t\t\t\tlangExt,\r\n\t\t\t\twidth,\r\n\t\t\t\theight\r\n\t\t\t} = that,\r\n\t\t\tisSupported = true,\r\n\t\t\tallowImgFormat = [\r\n\t\t\t\t'jpg',\r\n\t\t\t\t'png'\r\n\t\t\t],\r\n\t\t\ttempImgFormat = allowImgFormat.indexOf(imgFormat) === -1 ? 'jpg' : imgFormat,\r\n\t\t\tlang = language[langType] ? language[langType] : language['en'],\r\n\t\t\tmime = mimes[tempImgFormat];\r\n\t\t// 规范图片格式\r\n\t\tthat.imgFormat = tempImgFormat;\r\n\r\n\t\tif (langExt) {\r\n\t\t\tObject.assign(lang, langExt);\r\n\t\t}\r\n\t\tif (typeof FormData != 'function') {\r\n\t\t\tisSupported = false;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t// 图片的mime\r\n\t\t\tmime,\r\n\r\n\t\t\t// 语言包\r\n\t\t\tlang,\r\n\r\n\t\t\t// 浏览器是否支持该控件\r\n\t\t\tisSupported,\r\n\t\t\t// 浏览器是否支持触屏事件\r\n\t\t\tisSupportTouch: document.hasOwnProperty(\"ontouchstart\"),\r\n\r\n\t\t\t// 步骤\r\n\t\t\tstep: 1, //1选择文件 2剪裁 3上传\r\n\r\n\t\t\t// 上传状态及进度\r\n\t\t\tloading: 0, //0未开始 1正在 2成功 3错误\r\n\t\t\tprogress: 0,\r\n\r\n\t\t\t// 是否有错误及错误信息\r\n\t\t\thasError: false,\r\n\t\t\terrorMsg: '',\r\n\r\n\t\t\t// 需求图宽高比\r\n\t\t\tratio: width / height,\r\n\r\n\t\t\t// 原图地址、生成图片地址\r\n\t\t\tsourceImg: null,\r\n\t\t\tsourceImgUrl: '',\r\n\t\t\tcreateImgUrl: '',\r\n\r\n\t\t\t// 原图片拖动事件初始值\r\n\t\t\tsourceImgMouseDown: {\r\n\t\t\t\ton: false,\r\n\t\t\t\tmX: 0, //鼠标按下的坐标\r\n\t\t\t\tmY: 0,\r\n\t\t\t\tx: 0, //scale原图坐标\r\n\t\t\t\ty: 0\r\n\t\t\t},\r\n\r\n\t\t\t// 生成图片预览的容器大小\r\n\t\t\tpreviewContainer: {\r\n\t\t\t\twidth: 100,\r\n\t\t\t\theight: 100\r\n\t\t\t},\r\n\r\n\t\t\t// 原图容器宽高\r\n\t\t\tsourceImgContainer: { // sic\r\n\t\t\t\twidth: 240,\r\n\t\t\t\theight: 184 // 如果生成图比例与此一致会出现bug，先改成特殊的格式吧，哈哈哈\r\n\t\t\t},\r\n\r\n\t\t\t// 原图展示属性\r\n\t\t\tscale: {\r\n\t\t\t\tzoomAddOn: false, //按钮缩放事件开启\r\n\t\t\t\tzoomSubOn: false, //按钮缩放事件开启\r\n\t\t\t\trange: 1, //最大100\r\n\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\twidth: 0,\r\n\t\t\t\theight: 0,\r\n\t\t\t\tmaxWidth: 0,\r\n\t\t\t\tmaxHeight: 0,\r\n\t\t\t\tminWidth: 0, //最宽\r\n\t\t\t\tminHeight: 0,\r\n\t\t\t\tnaturalWidth: 0, //原宽\r\n\t\t\t\tnaturalHeight: 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 进度条样式\r\n\t\tprogressStyle() {\r\n\t\t\tlet {\r\n\t\t\t\tprogress\r\n\t\t\t} = this;\r\n\t\t\treturn {\r\n\t\t\t\twidth: progress + '%'\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 原图样式\r\n\t\tsourceImgStyle() {\r\n\t\t\tlet {\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\tsourceImgMasking\r\n\t\t\t\t} = this,\r\n\t\t\t\ttop = scale.y + sourceImgMasking.y + 'px',\r\n\t\t\t\tleft = scale.x + sourceImgMasking.x + 'px';\r\n\t\t\treturn {\r\n\t\t\t\ttop,\r\n\t\t\t\tleft,\r\n\t\t\t\twidth: scale.width + 'px',\r\n\t\t\t\theight: scale.height + 'px',// 兼容 Opera\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 原图蒙版属性\r\n\t\tsourceImgMasking() {\r\n\t\t\tlet {\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tratio,\r\n\t\t\t\t\tsourceImgContainer\r\n\t\t\t\t} = this,\r\n\t\t\t\tsic = sourceImgContainer,\r\n\t\t\t\tsicRatio = sic.width / sic.height, // 原图容器宽高比\r\n\t\t\t\tx = 0,\r\n\t\t\t\ty = 0,\r\n\t\t\t\tw = sic.width,\r\n\t\t\t\th = sic.height,\r\n\t\t\t\tscale = 1;\r\n\t\t\tif (ratio < sicRatio) {\r\n\t\t\t\tscale = sic.height / height;\r\n\t\t\t\tw = sic.height * ratio;\r\n\t\t\t\tx = (sic.width - w) / 2;\r\n\t\t\t}\r\n\t\t\tif (ratio > sicRatio) {\r\n\t\t\t\tscale = sic.width / width;\r\n\t\t\t\th = sic.width / ratio;\r\n\t\t\t\ty = (sic.height - h) / 2;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tscale, // 蒙版相对需求宽高的缩放\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\twidth: w,\r\n\t\t\t\theight: h\r\n\t\t\t};\r\n\t\t},\r\n\t\t// 原图遮罩样式\r\n\t\tsourceImgShadeStyle() {\r\n\t\t\tlet {\r\n\t\t\t\t\tsourceImgMasking,\r\n\t\t\t\t\tsourceImgContainer\r\n\t\t\t\t} = this,\r\n\t\t\t\tsic = sourceImgContainer,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\tw = sim.width == sic.width ? sim.width : (sic.width - sim.width) / 2,\r\n\t\t\t\th = sim.height == sic.height ? sim.height : (sic.height - sim.height) / 2;\r\n\t\t\treturn {\r\n\t\t\t\twidth: w + 'px',\r\n\t\t\t\theight: h + 'px'\r\n\t\t\t};\r\n\t\t},\r\n\t\tpreviewStyle() {\r\n\t\t\tlet {\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tratio,\r\n\t\t\t\t\tpreviewContainer\r\n\t\t\t\t} = this,\r\n\t\t\t\tpc = previewContainer,\r\n\t\t\t\tw = pc.width,\r\n\t\t\t\th = pc.height,\r\n\t\t\t\tpcRatio = w / h;\r\n\t\t\tif (ratio < pcRatio) {\r\n\t\t\t\tw = pc.height * ratio;\r\n\t\t\t}\r\n\t\t\tif (ratio > pcRatio) {\r\n\t\t\t\th = pc.width / ratio;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\twidth: w + 'px',\r\n\t\t\t\theight: h + 'px'\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue(newValue) {\r\n\t\t\tif (newValue && this.loading != 1) {\r\n\t\t\t\tthis.reset();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 点击波纹效果\r\n\t\tripple(e) {\r\n\t\t\teffectRipple(e);\r\n\t\t},\r\n\t\t// 关闭控件\r\n\t\toff() {\r\n\t\t\tsetTimeout(()=> {\r\n\t\t\t\tthis.$emit('input', false);\r\n\t\t\t\tif(this.step == 3 && this.loading == 2){\r\n\t\t\t\t\tthis.setStep(1);\r\n\t\t\t\t}\r\n\t\t\t}, 200);\r\n\t\t},\r\n\t\t// 设置步骤\r\n\t\tsetStep(no) {\r\n\t\t\t// 延时是为了显示动画效果呢，哈哈哈\r\n\t\t\tsetTimeout(()=> {\r\n\t\t\t\tthis.step = no;\r\n\t\t\t}, 200);\r\n\t\t},\r\n\r\n\t\t/* 图片选择区域函数绑定\r\n\t\t ---------------------------------------------------------------*/\r\n\t\tpreventDefault(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\thandleClick(e) {\r\n\t\t\tif (this.loading !== 1) {\r\n\t\t\t\tif (e.target !== this.$refs.fileinput) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tif (document.activeElement !== this.$refs) {\r\n\t\t\t\t\t\tthis.$refs.fileinput.click();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleChange(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (this.loading !== 1) {\r\n\t\t\t\tlet files = e.target.files || e.dataTransfer.files;\r\n\t\t\t\tthis.reset();\r\n\t\t\t\tif (this.checkFile(files[0])) {\r\n\t\t\t\t\tthis.setSourceImg(files[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* ---------------------------------------------------------------*/\r\n\r\n\t\t// 检测选择的文件是否合适\r\n\t\tcheckFile(file) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tlang,\r\n\t\t\t\t\tmaxSize\r\n\t\t\t\t} = that;\r\n\t\t\t// 仅限图片\r\n\t\t\tif (file.type.indexOf('image') === -1) {\r\n\t\t\t\tthat.hasError = true;\r\n\t\t\t\tthat.errorMsg = lang.error.onlyImg;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 超出大小\r\n\t\t\tif (file.size / 1024 > maxSize) {\r\n\t\t\t\tthat.hasError = true;\r\n\t\t\t\tthat.errorMsg = lang.error.outOfSize + maxSize + 'kb';\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// 重置控件\r\n\t\treset() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.loading = 0;\r\n\t\t\tthat.hasError = false;\r\n\t\t\tthat.errorMsg = '';\r\n\t\t\tthat.progress = 0;\r\n\t\t},\r\n\t\t// 设置图片源\r\n\t\tsetSourceImg(file) {\r\n\t\t\tthis.$emit('src-file-set', file.name, file.type, file.size);\r\n\t\t\tlet that = this,\r\n\t\t\t\tfr = new FileReader();\r\n\t\t\tfr.onload = function(e) {\r\n\t\t\t\tthat.sourceImgUrl = fr.result;\r\n\t\t\t\tthat.startCrop();\r\n\t\t\t}\r\n\t\t\tfr.readAsDataURL(file);\r\n\t\t},\r\n\t\t// 剪裁前准备工作\r\n\t\tstartCrop() {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tratio,\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\tsourceImgUrl,\r\n\t\t\t\t\tsourceImgMasking,\r\n\t\t\t\t\tlang\r\n\t\t\t\t} = that,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\timg = new Image();\r\n\t\t\timg.src = sourceImgUrl;\r\n\t\t\timg.onload = function() {\r\n\t\t\t\tlet nWidth = img.naturalWidth,\r\n\t\t\t\t\tnHeight = img.naturalHeight,\r\n\t\t\t\t\tnRatio = nWidth / nHeight,\r\n\t\t\t\t\tw = sim.width,\r\n\t\t\t\t\th = sim.height,\r\n\t\t\t\t\tx = 0,\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t// 图片像素不达标\r\n\t\t\t\tif (nWidth < width || nHeight < height) {\r\n\t\t\t\t\tthat.hasError = true;\r\n\t\t\t\t\tthat.errorMsg = lang.error.lowestPx + width + '*' + height;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (ratio > nRatio) {\r\n\t\t\t\t\th = w / nRatio;\r\n\t\t\t\t\ty = (sim.height - h) / 2;\r\n\t\t\t\t}\r\n\t\t\t\tif (ratio < nRatio) {\r\n\t\t\t\t\tw = h * nRatio;\r\n\t\t\t\t\tx = (sim.width - w) / 2;\r\n\t\t\t\t}\r\n\t\t\t\tscale.range = 0;\r\n\t\t\t\tscale.x = x;\r\n\t\t\t\tscale.y = y;\r\n\t\t\t\tscale.width = w;\r\n\t\t\t\tscale.height = h;\r\n\t\t\t\tscale.minWidth = w;\r\n\t\t\t\tscale.minHeight = h;\r\n\t\t\t\tscale.maxWidth = nWidth * sim.scale;\r\n\t\t\t\tscale.maxHeight = nHeight * sim.scale;\r\n\t\t\t\tscale.naturalWidth = nWidth;\r\n\t\t\t\tscale.naturalHeight = nHeight;\r\n\t\t\t\tthat.sourceImg = img;\r\n\t\t\t\tthat.createImg();\r\n\t\t\t\tthat.setStep(2);\r\n\t\t\t};\r\n\t\t},\r\n\t\t// 鼠标按下图片准备移动\r\n\t\timgStartMove(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\t// 支持触摸事件，则鼠标事件无效\r\n\t\t\tif(this.isSupportTouch && !e.targetTouches){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet et = e.targetTouches ? e.targetTouches[0] : e,\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceImgMouseDown,\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = this,\r\n\t\t\t\tsimd = sourceImgMouseDown;\r\n\t\t\tsimd.mX = et.screenX;\r\n\t\t\tsimd.mY = et.screenY;\r\n\t\t\tsimd.x = scale.x;\r\n\t\t\tsimd.y = scale.y;\r\n\t\t\tsimd.on = true;\r\n\t\t},\r\n\t\t// 鼠标按下状态下移动，图片移动\r\n\t\timgMove(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\t// 支持触摸事件，则鼠标事件无效\r\n\t\t\tif(this.isSupportTouch && !e.targetTouches){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet et = e.targetTouches ? e.targetTouches[0] : e,\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceImgMouseDown: {\r\n\t\t\t\t\t\ton,\r\n\t\t\t\t\t\tmX,\r\n\t\t\t\t\t\tmY,\r\n\t\t\t\t\t\tx,\r\n\t\t\t\t\t\ty\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\tsourceImgMasking\r\n\t\t\t\t} = this,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\tnX = et.screenX,\r\n\t\t\t\tnY = et.screenY,\r\n\t\t\t\tdX = nX - mX,\r\n\t\t\t\tdY = nY - mY,\r\n\t\t\t\trX = x + dX,\r\n\t\t\t\trY = y + dY;\r\n\t\t\tif (!on) return;\r\n\t\t\tif (rX > 0) {\r\n\t\t\t\trX = 0;\r\n\t\t\t}\r\n\t\t\tif (rY > 0) {\r\n\t\t\t\trY = 0;\r\n\t\t\t}\r\n\t\t\tif (rX < sim.width - scale.width) {\r\n\t\t\t\trX = sim.width - scale.width;\r\n\t\t\t}\r\n\t\t\tif (rY < sim.height - scale.height) {\r\n\t\t\t\trY = sim.height - scale.height;\r\n\t\t\t}\r\n\t\t\tscale.x = rX;\r\n\t\t\tscale.y = rY;\r\n\t\t},\r\n\t\t// 顺时针旋转图片\r\n        rotateImg(e) {\r\n\t\t\tlet {\r\n\t\t\t\t\tsourceImg,\r\n                    scale: {\r\n\t\t\t\t\t\tnaturalWidth,\r\n\t\t\t\t\t\tnaturalHeight,\r\n                    }\r\n                } = this,\r\n\t\t\t\twidth = naturalHeight,\r\n\t\t\t\theight = naturalWidth,\r\n                canvas = this.$refs.canvas,\r\n                ctx = canvas.getContext('2d');\r\n\t\t\tcanvas.width = width;\r\n            canvas.height = height;\r\n            ctx.clearRect(0, 0, width, height);\r\n\r\n\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\r\n\t\t\tctx.fillRect(0, 0, width, height);\r\n\r\n\t\t\tctx.translate(width, 0);\r\n            ctx.rotate(Math.PI * 90 / 180);\r\n\r\n            ctx.drawImage(sourceImg, 0, 0, naturalWidth, naturalHeight);\r\n            let imgUrl = canvas.toDataURL(mimes['png']);\r\n\r\n\t\t\tthis.sourceImgUrl = imgUrl;\r\n\t\t\tthis.startCrop();\r\n        },\r\n\r\n\t\t// 按钮按下开始放大\r\n\t\tstartZoomAdd(e) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = that;\r\n\t\t\tscale.zoomAddOn = true;\r\n\r\n\t\t\tfunction zoom() {\r\n\t\t\t\tif (scale.zoomAddOn) {\r\n\t\t\t\t\tlet range = scale.range >= 100 ? 100 : ++scale.range;\r\n\t\t\t\t\tthat.zoomImg(range);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tzoom();\r\n\t\t\t\t\t}, 60);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tzoom();\r\n\t\t},\r\n\t\t// 按钮松开或移开取消放大\r\n\t\tendZoomAdd(e) {\r\n\t\t\tthis.scale.zoomAddOn = false;\r\n\t\t},\r\n\t\t// 按钮按下开始缩小\r\n\t\tstartZoomSub(e) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = that;\r\n\t\t\tscale.zoomSubOn = true;\r\n\r\n\t\t\tfunction zoom() {\r\n\t\t\t\tif (scale.zoomSubOn) {\r\n\t\t\t\t\tlet range = scale.range <= 0 ? 0 : --scale.range;\r\n\t\t\t\t\tthat.zoomImg(range);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tzoom();\r\n\t\t\t\t\t}, 60);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tzoom();\r\n\t\t},\r\n\t\t// 按钮松开或移开取消缩小\r\n\t\tendZoomSub(e) {\r\n\t\t\tlet {\r\n\t\t\t\tscale\r\n\t\t\t} = this;\r\n\t\t\tscale.zoomSubOn = false;\r\n\t\t},\r\n\t\tzoomChange(e) {\r\n\t\t\tthis.zoomImg(e.target.value);\r\n\t\t},\r\n\t\t// 缩放原图\r\n\t\tzoomImg(newRange) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceImgMasking,\r\n\t\t\t\t\tsourceImgMouseDown,\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tmaxWidth,\r\n\t\t\t\t\tmaxHeight,\r\n\t\t\t\t\tminWidth,\r\n\t\t\t\t\tminHeight,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tx,\r\n\t\t\t\t\ty,\r\n\t\t\t\t\trange\r\n\t\t\t\t} = scale,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\t// 蒙版宽高\r\n\t\t\t\tsWidth = sim.width,\r\n\t\t\t\tsHeight = sim.height,\r\n\t\t\t\t// 新宽高\r\n\t\t\t\tnWidth = minWidth + (maxWidth - minWidth) * newRange / 100,\r\n\t\t\t\tnHeight = minHeight + (maxHeight - minHeight) * newRange / 100,\r\n\t\t\t\t// 新坐标（根据蒙版中心点缩放）\r\n\t\t\t\tnX = sWidth / 2 - (nWidth / width) * (sWidth / 2 - x),\r\n\t\t\t\tnY = sHeight / 2 - (nHeight / height) * (sHeight / 2 - y);\r\n\r\n\t\t\t// 判断新坐标是否超过蒙版限制\r\n\t\t\tif (nX > 0) {\r\n\t\t\t\tnX = 0;\r\n\t\t\t}\r\n\t\t\tif (nY > 0) {\r\n\t\t\t\tnY = 0;\r\n\t\t\t}\r\n\t\t\tif (nX < sWidth - nWidth) {\r\n\t\t\t\tnX = sWidth - nWidth;\r\n\t\t\t}\r\n\t\t\tif (nY < sHeight - nHeight) {\r\n\t\t\t\tnY = sHeight - nHeight;\r\n\t\t\t}\r\n\r\n\t\t\t// 赋值处理\r\n\t\t\tscale.x = nX;\r\n\t\t\tscale.y = nY;\r\n\t\t\tscale.width = nWidth;\r\n\t\t\tscale.height = nHeight;\r\n\t\t\tscale.range = newRange;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tif (scale.range == newRange) {\r\n\t\t\t\t\tthat.createImg();\r\n\t\t\t\t}\r\n\t\t\t}, 300);\r\n\t\t},\r\n\t\t // 生成需求图片\r\n        createImg(e) {\r\n            let that = this,\r\n                {\r\n\t\t\t\t\timgFormat,\r\n\t\t\t\t\timgBgc,\r\n                    mime,\r\n                    sourceImg,\r\n                    scale: {\r\n                        x,\r\n                        y,\r\n                        width,\r\n                        height,\r\n                    },\r\n                    sourceImgMasking: {\r\n                        scale\r\n                    }\r\n                } = that,\r\n                canvas = that.$refs.canvas,\r\n                ctx = canvas.getContext('2d');\r\n            if (e) {\r\n                // 取消鼠标按下移动状态\r\n                that.sourceImgMouseDown.on = false;\r\n            }\r\n\t\t\tcanvas.width = that.width;\r\n            canvas.height = that.height;\r\n            ctx.clearRect(0, 0, that.width, that.height);\r\n\r\n\t\t\tif(imgFormat == 'png'){\r\n\t\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\r\n\t\t\t} else{\r\n\t\t\t\t// 如果jpg 为透明区域设置背景，默认白色\r\n\t\t\t\tctx.fillStyle = imgBgc;\r\n\t\t\t}\r\n\t\t\tctx.fillRect(0, 0, that.width, that.height);\r\n\r\n            ctx.drawImage(sourceImg, x / scale, y / scale, width / scale, height / scale);\r\n            that.createImgUrl = canvas.toDataURL(mime);\r\n        },\r\n\t\tprepareUpload(){\r\n\t\t\tlet {\r\n\t\t\t\turl,\r\n\t\t\t\tcreateImgUrl,\r\n\t\t\t\tfield,\r\n\t\t\t\tki\r\n\t\t\t} = this;\r\n\t\t\tthis.$emit('crop-success', createImgUrl, field, ki);\r\n\t\t\tif(typeof url == 'string' && url){\r\n\t\t\t\tthis.upload();\r\n\t\t\t}else{\r\n\t\t\t\tthis.off();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 上传图片\r\n\t\tupload() {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tlang,\r\n\t\t\t\t\timgFormat,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tparams,\r\n\t\t\t\t\theaders,\r\n\t\t\t\t\tfield,\r\n\t\t\t\t\tki,\r\n\t\t\t\t\tcreateImgUrl,\r\n\t\t\t\t\twithCredentials,\r\n\t\t\t\t\tmethod\r\n\t\t\t\t} = this,\r\n\t\t\t\tfmData = new FormData();\r\n\t\t\tfmData.append(field, data2blob(createImgUrl, mime), field + '.' + imgFormat);\r\n\r\n\t\t\t// 添加其他参数\r\n\t\t\tif (typeof params == 'object' && params) {\r\n\t\t\t\tObject.keys(params).forEach((k) => {\r\n\t\t\t\t\tfmData.append(k, params[k]);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t// 监听进度回调\r\n\t\t\tconst uploadProgress = function(event) {\r\n\t\t\t\tif (event.lengthComputable) {\r\n\t\t\t\t\tthat.progress = 100 * Math.round(event.loaded) / event.total;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// 上传文件\r\n\t\t\tthat.reset();\r\n\t\t\tthat.loading = 1;\r\n\t\t\tthat.setStep(3);\r\n\t\t\tnew Promise(function(resolve, reject) {\r\n\t\t\t\tlet client = new XMLHttpRequest();\r\n\t\t\t\tclient.open(method, url, true);\r\n\t\t\t\tclient.withCredentials = withCredentials;\r\n\t\t\t\tclient.onreadystatechange = function() {\r\n\t\t\t\t\tif (this.readyState !== 4) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.status === 200 || this.status === 201) {\r\n\t\t\t\t\t\tresolve(JSON.parse(this.responseText));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(this.status);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tclient.upload.addEventListener(\"progress\", uploadProgress, false); //监听进度\r\n\t\t\t\t// 设置header\r\n\t\t\t\tif (typeof headers == 'object' && headers) {\r\n\t\t\t\t\tObject.keys(headers).forEach((k) => {\r\n\t\t\t\t\t\tclient.setRequestHeader(k, headers[k]);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tclient.send(fmData);\r\n\t\t\t}).then(\r\n\t\t\t\t// 上传成功\r\n\t\t\t\tfunction(resData) {\r\n\t\t\t\t\tif (that.value) {\r\n\t\t\t\t\t\tthat.loading = 2;\r\n\t\t\t\t\t\tthat.$emit('crop-upload-success', resData, field, ki);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t// 上传失败\r\n\t\t\t\tfunction(sts) {\r\n\t\t\t\t\tif (that.value) {\r\n\t\t\t\t\t\tthat.loading = 3;\r\n\t\t\t\t\t\tthat.hasError = true;\r\n\t\t\t\t\t\tthat.errorMsg = lang.fail;\r\n\t\t\t\t\t\tthat.$emit('crop-upload-fail', sts, field, ki);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\t// 绑定按键esc隐藏此插件事件\r\n\t\tdocument.addEventListener('keyup', (e)=>{\r\n\t\t\tif(this.value && (e.key == 'Escape' || e.keyCode == 27)){\r\n\t\t\t\tthis.off();\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\n</script>\r\n\r\n<!--\r\n<style lang='sass' src=\"./scss/upload.scss\">\r\n</style> -->\r\n\r\n<style>\r\n@charset \"UTF-8\";\r\n@-webkit-keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n@keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n\r\n@-webkit-keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n\r\n@keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n\r\n.vue-image-crop-upload {\r\n  position: fixed;\r\n  display: block;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  z-index: 10000;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.65);\r\n  -webkit-tap-highlight-color: transparent;\r\n  -moz-tap-highlight-color: transparent; }\r\n  .vue-image-crop-upload .vicp-wrap {\r\n    -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n    position: fixed;\r\n    display: block;\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    z-index: 10000;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: 600px;\r\n    height: 330px;\r\n    padding: 25px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    -webkit-animation: vicp 0.12s ease-in;\r\n            animation: vicp 0.12s ease-in; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-close {\r\n      position: absolute;\r\n      right: -30px;\r\n      top: -30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4 {\r\n        position: relative;\r\n        display: block;\r\n        width: 30px;\r\n        height: 30px;\r\n        cursor: pointer;\r\n        -webkit-transition: -webkit-transform 0.18s;\r\n        transition: -webkit-transform 0.18s;\r\n        transition: transform 0.18s;\r\n        transition: transform 0.18s, -webkit-transform 0.18s;\r\n        -webkit-transform: rotate(0);\r\n            -ms-transform: rotate(0);\r\n                transform: rotate(0); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after, .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::before {\r\n          -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n          content: '';\r\n          position: absolute;\r\n          top: 12px;\r\n          left: 4px;\r\n          width: 20px;\r\n          height: 3px;\r\n          -webkit-transform: rotate(45deg);\r\n              -ms-transform: rotate(45deg);\r\n                  transform: rotate(45deg);\r\n          background-color: #fff; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after {\r\n          -webkit-transform: rotate(-45deg);\r\n              -ms-transform: rotate(-45deg);\r\n                  transform: rotate(-45deg); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4:hover {\r\n          -webkit-transform: rotate(90deg);\r\n              -ms-transform: rotate(90deg);\r\n                  transform: rotate(90deg); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed rgba(0, 0, 0, 0.08);\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 {\r\n        display: block;\r\n        margin: 0 auto 6px;\r\n        width: 42px;\r\n        height: 42px;\r\n        overflow: hidden; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-arrow {\r\n          display: block;\r\n          margin: 0 auto;\r\n          width: 0;\r\n          height: 0;\r\n          border-bottom: 14.7px solid rgba(0, 0, 0, 0.3);\r\n          border-left: 14.7px solid transparent;\r\n          border-right: 14.7px solid transparent; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-body {\r\n          display: block;\r\n          width: 12.6px;\r\n          height: 14.7px;\r\n          margin: 0 auto;\r\n          background-color: rgba(0, 0, 0, 0.3); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-bottom {\r\n          -webkit-box-sizing: border-box;\r\n                  box-sizing: border-box;\r\n          display: block;\r\n          height: 12.6px;\r\n          border: 6px solid rgba(0, 0, 0, 0.3);\r\n          border-top: none; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-hint {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 14px;\r\n        color: #666;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-no-supported-hint {\r\n        display: block;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        padding: 30px;\r\n        width: 100%;\r\n        height: 60px;\r\n        line-height: 30px;\r\n        background-color: #eee;\r\n        text-align: center;\r\n        color: #666;\r\n        font-size: 14px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area:hover {\r\n        cursor: pointer;\r\n        border-color: rgba(0, 0, 0, 0.1);\r\n        background-color: rgba(0, 0, 0, 0.05); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop {\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left {\r\n        float: left; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container {\r\n          position: relative;\r\n          display: block;\r\n          width: 240px;\r\n          height: 180px;\r\n          background-color: #e5e5e0;\r\n          overflow: hidden; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img {\r\n            position: absolute;\r\n            display: block;\r\n            cursor: move;\r\n            -webkit-user-select: none;\r\n               -moz-user-select: none;\r\n                -ms-user-select: none;\r\n                    user-select: none; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade {\r\n            -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n            position: absolute;\r\n            background-color: rgba(241, 242, 243, 0.8); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-1 {\r\n              top: 0;\r\n              left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-2 {\r\n              bottom: 0;\r\n              right: 0; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate {\r\n          position: relative;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i {\r\n            display: block;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            line-height: 18px;\r\n            text-align: center;\r\n            font-size: 12px;\r\n            font-weight: bold;\r\n            background-color: rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            overflow: hidden; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:first-child {\r\n              float: left; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:last-child {\r\n              float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range {\r\n          position: relative;\r\n          margin: 30px 0 10px 0;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5,\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            position: absolute;\r\n            top: 0;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            background-color: rgba(0, 0, 0, 0.08); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5:hover,\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5 {\r\n            left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            right: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::after {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              top: 3px;\r\n              left: 8px;\r\n              width: 2px;\r\n              height: 12px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range] {\r\n            display: block;\r\n            padding-top: 5px;\r\n            margin: 0 auto;\r\n            width: 180px;\r\n            height: 8px;\r\n            vertical-align: top;\r\n            background: transparent;\r\n            -webkit-appearance: none;\r\n               -moz-appearance: none;\r\n                    appearance: none;\r\n            cursor: pointer;\r\n            /* 滑块\r\n\t\t\t\t\t\t\t ---------------------------------------------------------------*/\r\n            /* 轨道\r\n\t\t\t\t\t\t\t ---------------------------------------------------------------*/ }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus {\r\n              outline: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                      box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -webkit-appearance: none;\r\n                      appearance: none;\r\n              margin-top: -3px;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -moz-appearance: none;\r\n                   appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border: none;\r\n              border-radius: 100%;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-moz-range-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-ms-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              margin-top: -4px;\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-runnable-track {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              cursor: pointer;\r\n              background: transparent;\r\n              border-color: transparent;\r\n              color: transparent;\r\n              height: 6px;\r\n              border-radius: 2px;\r\n              border: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.15); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-webkit-slider-runnable-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-moz-range-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.45); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.25); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right {\r\n        float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview {\r\n          height: 150px;\r\n          overflow: hidden; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\r\n            position: relative;\r\n            padding: 5px;\r\n            width: 100px;\r\n            height: 100px;\r\n            float: left;\r\n            margin-right: 16px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item span {\r\n              position: absolute;\r\n              bottom: -30px;\r\n              width: 100%;\r\n              font-size: 14px;\r\n              color: #bbb;\r\n              display: block;\r\n              text-align: center; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item img {\r\n              position: absolute;\r\n              display: block;\r\n              top: 0;\r\n              bottom: 0;\r\n              left: 0;\r\n              right: 0;\r\n              margin: auto;\r\n              padding: 3px;\r\n              background-color: #fff;\r\n              border: 1px solid rgba(0, 0, 0, 0.15);\r\n              overflow: hidden;\r\n              -webkit-user-select: none;\r\n                 -moz-user-select: none;\r\n                  -ms-user-select: none;\r\n                      user-select: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle {\r\n              margin-right: 0; }\r\n              .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle img {\r\n                border-radius: 100%; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed #ddd; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-loading {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 16px;\r\n        color: #999;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap {\r\n        margin-top: 12px;\r\n        background-color: rgba(0, 0, 0, 0.08);\r\n        border-radius: 3px; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress {\r\n          position: relative;\r\n          display: block;\r\n          height: 5px;\r\n          border-radius: 3px;\r\n          background-color: #4a7;\r\n          -webkit-box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n                  box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n          -webkit-transition: width 0.15s linear;\r\n          transition: width 0.15s linear;\r\n          background-image: -webkit-linear-gradient(135deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-size: 40px 40px;\r\n          -webkit-animation: vicp_progress 0.5s linear infinite;\r\n                  animation: vicp_progress 0.5s linear infinite; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress::after {\r\n            content: '';\r\n            position: absolute;\r\n            display: block;\r\n            top: -3px;\r\n            right: -3px;\r\n            width: 9px;\r\n            height: 9px;\r\n            border: 1px solid rgba(245, 246, 247, 0.7);\r\n            -webkit-box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n                    box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n            border-radius: 100%;\r\n            background-color: #4a7; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-error,\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-success {\r\n        height: 100px;\r\n        line-height: 100px; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-operate {\r\n      position: absolute;\r\n      right: 20px;\r\n      bottom: 20px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-operate a {\r\n        position: relative;\r\n        float: left;\r\n        display: block;\r\n        margin-left: 10px;\r\n        width: 100px;\r\n        height: 36px;\r\n        line-height: 36px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        font-size: 14px;\r\n        color: #4a7;\r\n        border-radius: 2px;\r\n        overflow: hidden;\r\n        -webkit-user-select: none;\r\n           -moz-user-select: none;\r\n            -ms-user-select: none;\r\n                user-select: none; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-operate a:hover {\r\n          background-color: rgba(0, 0, 0, 0.03); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-error,\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      display: block;\r\n      font-size: 14px;\r\n      line-height: 24px;\r\n      height: 24px;\r\n      color: #d10;\r\n      text-align: center;\r\n      vertical-align: top; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      color: #4a7; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon3 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon3::after {\r\n        position: absolute;\r\n        top: 3px;\r\n        left: 6px;\r\n        width: 6px;\r\n        height: 10px;\r\n        border-width: 0 2px 2px 0;\r\n        border-color: #4a7;\r\n        border-style: solid;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg);\r\n        content: ''; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon2 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after, .vue-image-crop-upload .vicp-wrap .vicp-icon2::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 9px;\r\n        left: 4px;\r\n        width: 13px;\r\n        height: 2px;\r\n        background-color: #d10;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after {\r\n        -webkit-transform: rotate(-45deg);\r\n            -ms-transform: rotate(-45deg);\r\n                transform: rotate(-45deg); }\r\n\r\n.e-ripple {\r\n  position: absolute;\r\n  border-radius: 100%;\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  background-clip: padding-box;\r\n  pointer-events: none;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\r\n  -webkit-transform: scale(0);\r\n      -ms-transform: scale(0);\r\n          transform: scale(0);\r\n  opacity: 1; }\r\n  .e-ripple.z-active {\r\n    opacity: 0;\r\n    -webkit-transform: scale(2);\r\n        -ms-transform: scale(2);\r\n            transform: scale(2);\r\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out; }\r\n\r\n</style>\r\n","import mod from \"-!../cache-loader/dist/cjs.js??ref--12-0!../thread-loader/dist/cjs.js!../babel-loader/lib/index.js!../vue-loader/lib/index.js??vue-loader-options!./upload-2.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../cache-loader/dist/cjs.js??ref--12-0!../thread-loader/dist/cjs.js!../babel-loader/lib/index.js!../vue-loader/lib/index.js??vue-loader-options!./upload-2.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./upload-2.vue?vue&type=template&id=fd0c26be\"\nimport script from \"./upload-2.vue?vue&type=script&lang=js\"\nexport * from \"./upload-2.vue?vue&type=script&lang=js\"\nimport style0 from \"./upload-2.vue?vue&type=style&index=0&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <!-- 图片裁剪 -->\r\n  <avatar-crop v-model=\"show\" field=\"image\"\r\n               :url=\"$api.uploadURL\"\r\n               @crop-success=\"cropSuccess\"\r\n               @crop-upload-success=\"cropUploadSuccess\"\r\n               @crop-upload-fail=\"cropUploadFail\"\r\n               :width=\"200\"\r\n               :height=\"200\"\r\n               :params=\"params\"\r\n               :headers=\"headers\"\r\n               img-format=\"png\"></avatar-crop>\r\n</template>\r\n<script>\r\nimport AvatarCrop from 'vue-image-crop-upload'\r\nexport default {\r\n  components: {\r\n    AvatarCrop\r\n  },\r\n  data() {\r\n    return {\r\n      params: {\r\n        timestamp: Date.now(),\r\n        sign: ''\r\n      },\r\n      headers: {\r\n        smail: '*_~'\r\n      },\r\n    }\r\n  },\r\n  model: {\r\n    prop: 'visible',\r\n    event: 'crop:visible'\r\n  },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n  },\r\n  computed: {\r\n    show: {\r\n      get() {\r\n        return this.visible\r\n      },\r\n      set(newValue) {\r\n        this.$emit('crop:visible', newValue)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * crop success\r\n     *\r\n     * [param] imgDataUrl\r\n     * [param] field\r\n     */\r\n    cropSuccess(imgDataUrl, field){\r\n    },\r\n    /**\r\n     * upload success\r\n     *\r\n     * [param] jsonData   服务器返回数据，已进行json转码\r\n     * [param] field\r\n     */\r\n    cropUploadSuccess({ data }, field){\r\n      this.$emit('crop:success', data.url)\r\n    },\r\n    /**\r\n     * upload fail\r\n     *\r\n     * [param] status    server api return error status, like 500\r\n     * [param] field\r\n     */\r\n    cropUploadFail(status, field){\r\n      this.$emit('crop:upload:fail', status)\r\n      this.$message.error('头像上传失败')\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./avatar-crop.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./avatar-crop.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./avatar-crop.vue?vue&type=template&id=576287ab\"\nimport script from \"./avatar-crop.vue?vue&type=script&lang=js\"\nexport * from \"./avatar-crop.vue?vue&type=script&lang=js\"\nimport style0 from \"./avatar-crop.vue?vue&type=style&index=0&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-container class=\"l-h100\">\r\n    <el-main>\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item to=\"/\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>个人中心</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n\r\n      <div class=\"l-bg-white l-margin-t\">\r\n        <div class=\"l-tab\">\r\n          <i v-show=\"loading\" class=\"el-icon-loading l-fs-x2 l-fr l-padding\"></i>\r\n          <ul class=\"l-tab-tit\">\r\n            <li class=\"_active0\">账号基本信息</li>\r\n          </ul>\r\n        </div>\r\n        <div v-if=\"userInfo\" class=\"l-padding-xl\">\r\n          <table class=\"l-table-02\" style=\"width: 800px;\">\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">账号头像</td>\r\n              <td class=\"_noright\"><img class=\"l-avatar\" :src=\"userInfo.portrait || $config.avatar\" alt=\"\"></td>\r\n              <td width=\"30\" @click=\"avatar.visible = true\"><i class=\"el-icon-edit-outline\"></i></td>\r\n            </tr>\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">账号ID</td>\r\n              <td class=\"_noright\">{{userInfo.userId}}</td>\r\n              <td width=\"30\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">用户名称</td>\r\n              <td class=\"_noright\">{{userInfo.userName}}</td>\r\n              <td width=\"30\" @click=\"showDialog(1)\"><i class=\"el-icon-edit-outline\"></i></td>\r\n            </tr>\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">手机号码</td>\r\n              <td class=\"_noright\">{{userInfo.phone}}</td>\r\n              <td width=\"30\"><!-- <i class=\"el-icon-edit-outline\"></i> --></td>\r\n            </tr>\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">电子邮箱</td>\r\n              <td class=\"_noright\">{{userInfo.email}}</td>\r\n              <td width=\"30\" @click=\"showDialog(2)\"><!-- <i v-if=\"!userInfo.email\" class=\"el-icon-edit-outline\"></i> --></td>\r\n            </tr>\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">部门岗位</td>\r\n              <td class=\"_noright\">{{userInfo.department}}-{{userInfo.position}}</td>\r\n              <td width=\"30\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">账号角色</td>\r\n              <td class=\"_noright\">{{userInfo.role}}</td>\r\n              <td width=\"30\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td width=\"100\" class=\"_tit\">登录密码</td>\r\n              <td class=\"_noright\">**********</td>\r\n              <td width=\"30\" @click=\"showDialog(3)\"><i class=\"el-icon-edit-outline\"></i></td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <el-dialog :before-close=\"closeDialog\" :title=\"dialog.title\" :visible.sync=\"dialog.visible\" width=\"450px\">\r\n        <el-form class=\"l-dialog-form l-margin-r\" ref=\"infoForm\" label-width=\"90px\" @submit.native.prevent @keyup.enter.native=\"submitDialog\">\r\n          <div v-if=\"dialog.type === 1\">\r\n            <el-form-item label=\"用户名称\" prop=\"userName\">\r\n              <el-input v-model=\"dialog.data.userName\" :maxlength=\"50\" ></el-input>\r\n            </el-form-item>\r\n          </div>\r\n          <div v-else-if=\"dialog.type === 2\">\r\n            <el-form-item label=\"电子邮箱\" prop=\"email\">\r\n              <div class=\"l-flex-hc\">\r\n                <el-input type=\"text\" v-model.trim=\"dialog.data.email\" placeholder=\"请输入常用电子邮箱\"  :maxlength=\"100\"/>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"邮箱验证码\" prop=\"newCode\">\r\n              <div class=\"l-flex-hc\">\r\n                <el-input type=\"text\" v-model=\"dialog.data.newCode\" placeholder=\"请输入邮箱验证码\" :maxlength=\"6\" ></el-input>\r\n                <el-button class=\"l-margin-l\" style=\"width: 120px;\" ref=\"sendCode\" type=\"primary\" plain @click.prevent=\"sendCode()\">获取验证码</el-button>\r\n              </div>\r\n            </el-form-item>\r\n          </div>\r\n          <div v-else-if=\"dialog.type === 3\">\r\n            <el-form-item label=\"原密码\" prop=\"oldpassword\">\r\n              <el-input type=\"password\" v-model=\"dialog.data.oldpassword\" :maxlength=\"50\" >\r\n                <template slot=\"append\">\r\n                  <router-link class=\"l-fs-xs l-txt-link\" :to=\"'/forgot?phone=' + userInfo.phone\">忘记密码？</router-link>\r\n                </template>\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"新密码\" prop=\"password\">\r\n              <el-input type=\"password\" v-model=\"dialog.data.password\" :maxlength=\"50\" ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"确认新密码\" prop=\"repassword\">\r\n              <el-input type=\"password\" v-model=\"dialog.data.repassword\" :maxlength=\"50\" ></el-input>\r\n            </el-form-item>\r\n          </div>\r\n        </el-form>\r\n        <span slot=\"footer\" class=\"l-margin-r-m\">\r\n          <el-button white @click=\"closeDialog()\">取消</el-button>\r\n          <el-button type=\"primary\" :loading=\"dialog.loading\" @click=\"submitDialog\">{{ dialog.loading ? '提交中...' : '确定提交'}}</el-button>\r\n        </span>\r\n      </el-dialog>\r\n\r\n      <!-- 头像裁剪 -->\r\n      <avatar-crop v-model=\"avatar.visible\" @crop:success=\"cropSuccess\"></avatar-crop>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport AvatarCrop from '@/components/avatar-crop'\r\nexport default {\r\n  name: 'shop-me',\r\n  components: {\r\n    AvatarCrop\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      avatar: {\r\n        visible: false,\r\n      },\r\n      dialog: {\r\n        type: 1, // 1.修改用户名称, 2.设置邮箱 3.修改密码\r\n        title: '',\r\n        visible: false,\r\n        loading: false,\r\n        data: {\r\n          portrait: '',\r\n          userName: '',\r\n\r\n          email: '',\r\n          newCode: '',\r\n          \r\n          oldpassword: '',\r\n          password: '',\r\n          repassword: '',\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'userInfo',\r\n    ]),\r\n  },\r\n  methods: {\r\n    cropSuccess(imgURL){\r\n      this.loading = true\r\n      this.$api.auth.setInfo({ portrait: imgURL, userName: this.userInfo.userName})\r\n      .then(() => {\r\n        this.$message.success('头像修改成功')\r\n        this.userInfo.portrait = imgURL\r\n      }).finally(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    sendCode() {\r\n      if(!this.dialog.data.email) {\r\n        return this.$message.error('请输入电子邮箱') \r\n      }\r\n      this.$api.sendMobiCode(this.dialog.data.email, this.$refs.sendCode.$el).then(() => {\r\n        this.$message.success('验证码已发送到您的邮箱，请注意查收')\r\n      })\r\n    },\r\n    getInfo() {\r\n      this.loading = true\r\n      this.$store.dispatch('getUserInfo').finally(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    showDialog(type = 1) {\r\n      this.dialog.type = type\r\n      this.$utils.copyObj(this.dialog.data, '')\r\n      switch(type) {\r\n        case 1:\r\n          this.dialog.title = '修改用户名称'\r\n          this.dialog.data.portrait = this.userInfo.portrait\r\n          this.dialog.data.userName = this.userInfo.userName\r\n          break\r\n        case 2:\r\n          this.dialog.title = '绑定邮箱'\r\n          break\r\n        case 3:\r\n          this.dialog.title = '修改登录密码'\r\n          break\r\n      }\r\n      this.dialog.visible = true\r\n    },\r\n    closeDialog(done) {\r\n      if(done) {\r\n\t\t\t\tdone()\r\n\t\t\t}else{\r\n\t\t\t\tthis.dialog.visible = false\t\r\n      }\r\n    },\r\n    submitDialog() {\r\n      switch(this.dialog.type) {\r\n        case 1:\r\n          if(!this.dialog.data.userName) {\r\n            return this.$message.error('请输入用户名称')\r\n          }\r\n          this.dialog.loading = true\r\n          this.$api.auth.setInfo(this.$utils.copyObj({ portrait: '', userName: ''} , this.dialog.data))\r\n          .then(() => {\r\n            this.$message.success('修改用户名称成功')\r\n            this.closeDialog()\r\n            this.getInfo()\r\n          }).finally(() => {\r\n            this.dialog.loading = false\r\n          })\r\n          break\r\n        case 2:\r\n          if(!this.dialog.data.email) {\r\n            return this.$message.error('请输入电子邮箱')\r\n          }\r\n          if(!this.dialog.data.newCode) {\r\n            return this.$message.error('请输入邮箱验证码')\r\n          }\r\n          this.dialog.loading = true\r\n          this.$api.auth.setEmail(this.$utils.copyObj({ email: '', newCode: ''} , this.dialog.data))\r\n          .then(() => {\r\n            this.$message.success('绑定邮箱成功')\r\n            this.closeDialog()\r\n            this.getInfo()\r\n          }).finally(() => {\r\n            this.dialog.loading = false\r\n          })\r\n          break\r\n        case 3:\r\n          if(!this.dialog.data.oldpassword) {\r\n            return this.$message.error('请输入原密码')\r\n          }\r\n          if(!this.dialog.data.password) {\r\n            return this.$message.error('请输入新密码')\r\n          }\r\n          if(this.dialog.data.repassword !== this.dialog.data.password) {\r\n            return this.$message.error('两次密码不一致')\r\n          }\r\n          this.dialog.loading = true\r\n          this.$api.auth.changePwd(this.$utils.copyObj({ \r\n            oldpassword: '', password: '', repassword: ''\r\n          } , this.dialog.data)).then(() => {\r\n            this.$message.success('修改登录密码成功')\r\n            this.closeDialog()\r\n          }).finally(() => {\r\n            this.dialog.loading = false\r\n          })\r\n          break\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getInfo()\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./me.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./me.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./me.vue?vue&type=template&id=ea3ce3c4&scoped=true\"\nimport script from \"./me.vue?vue&type=script&lang=js\"\nexport * from \"./me.vue?vue&type=script&lang=js\"\nimport style0 from \"./me.vue?vue&type=style&index=0&id=ea3ce3c4&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea3ce3c4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./me.vue?vue&type=style&index=0&id=ea3ce3c4&scoped=true&lang=less\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./me.vue?vue&type=style&index=0&id=ea3ce3c4&scoped=true&lang=less\""],"sourceRoot":""}