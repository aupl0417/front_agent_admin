{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/views/menu-list.vue?699e","webpack:///./src/views/menu-list.vue?2e78","webpack:///src/views/menu-list.vue","webpack:///./src/views/menu-list.vue?6dd9","webpack:///./src/views/menu-list.vue"],"names":["$export","__webpack_require__","$find","KEY","forced","Array","P","F","findIndex","callbackfn","this","arguments","length","undefined","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_menu_list_vue_vue_type_style_index_0_id_7ef24984_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","height","_v","on","click","$event","$router","replace","placeholder","model","value","callback","$$v","filterText","expression","directives","name","rawName","disabled","loading","type","showDialogInfo","ref","highlight-current","node-key","default-expanded-keys","data","menuList","props","menuProps","render-content","renderContent","filter-node-method","filterNode","_e","close-on-click-modal","close-on-press-escape","before-close","closeDialogInfo","title","dialogInfo","visible","width","update:visible","$set","staticStyle","label-width","rules","nativeOn","keyup","_k","keyCode","key","submitDialogInfo","label","prop","maxlength","slot","staticRenderFns","preventClick","e","stopPropagation","menu_listvue_type_script_lang_js","children","required","message","trigger","parentId","id","src","code","remark","watch","val","$refs","menuTree","filter","methods","indexOf","getList","_this","$api","menu","then","_ref","finally","currentNodeData","$utils","copyObj","resetDialogInfo","done","infoForm","resetFields","_this2","validate","valid","promise","edit","add","_ref2","setCurrentKey","newChild","Object","assign","unshift","$message","success","deleteInfo","node","_this3","$confirm","del","parent","index","splice","h","_ref3","_this4","store","style","class","mounted","views_menu_listvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/9.d27de781.js","sourcesContent":["'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-list.vue?vue&type=style&index=0&id=7ef24984&scoped=true&lang=less\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-list.vue?vue&type=style&index=0&id=7ef24984&scoped=true&lang=less\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"l-h100\"},[_c('el-header',{staticClass:\"l-padding-0 l-bg-white\",attrs:{\"height\":\"auto\"}},[_c('div',{staticClass:\"l-filter-top\"},[_c('ul',{staticClass:\"l-tab-tit\"},[_c('li',{staticClass:\"_active2\"},[_vm._v(\"菜单列表\")]),_c('li',{on:{\"click\":function($event){_vm.$router.replace('/role/list')}}},[_vm._v(\"角色列表\")])])])]),_c('el-main',[_c('div',{staticClass:\"l-menu-box l-bg-white\"},[_c('div',{staticClass:\"l-flex-hc _tit\"},[_c('b',[_vm._v(\"菜单名称\")]),_c('div',{staticClass:\"l-margin-l\"},[_c('el-input',{attrs:{\"placeholder\":\"输入关键字进行过滤\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1),_c('div',{staticClass:\"l-rest l-txt-center\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"l-txt-warn\"},[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" 加载中...\")])]),_c('el-button',{attrs:{\"disabled\":_vm.loading,\"type\":\"text\"},on:{\"click\":function($event){_vm.showDialogInfo('new')}}},[_vm._v(\"添加一级菜单\")])],1),(_vm.menuList)?_c('el-tree',{ref:\"menuTree\",staticClass:\"l-menu-list\",attrs:{\"highlight-current\":\"\",\"node-key\":\"id\",\"default-expanded-keys\":[1],\"data\":_vm.menuList,\"props\":_vm.menuProps,\"render-content\":_vm.renderContent,\"filter-node-method\":_vm.filterNode}}):_vm._e(),_c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"before-close\":_vm.closeDialogInfo,\"title\":_vm.dialogInfo.title,\"visible\":_vm.dialogInfo.visible,\"width\":\"480px\"},on:{\"update:visible\":function($event){_vm.$set(_vm.dialogInfo, \"visible\", $event)}}},[_c('el-form',{ref:\"infoForm\",staticStyle:{\"width\":\"432px\"},attrs:{\"label-width\":\"90px\",\"model\":_vm.dialogInfo.data,\"rules\":_vm.dialogInfo.rules},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitDialogInfo($event)}}},[_c('el-form-item',{attrs:{\"label\":\"菜单名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"maxlength\":50},model:{value:(_vm.dialogInfo.data.name),callback:function ($$v) {_vm.$set(_vm.dialogInfo.data, \"name\", $$v)},expression:\"dialogInfo.data.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"菜单URL\",\"prop\":\"src\"}},[_c('el-input',{attrs:{\"maxlength\":50},model:{value:(_vm.dialogInfo.data.src),callback:function ($$v) {_vm.$set(_vm.dialogInfo.data, \"src\", $$v)},expression:\"dialogInfo.data.src\"}})],1),_c('el-form-item',{attrs:{\"label\":\"菜单Code\",\"prop\":\"code\"}},[_c('el-input',{attrs:{\"maxlength\":50},model:{value:(_vm.dialogInfo.data.code),callback:function ($$v) {_vm.$set(_vm.dialogInfo.data, \"code\", $$v)},expression:\"dialogInfo.data.code\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"maxlength\":50},model:{value:(_vm.dialogInfo.data.remark),callback:function ($$v) {_vm.$set(_vm.dialogInfo.data, \"remark\", $$v)},expression:\"dialogInfo.data.remark\"}})],1)],1),_c('span',{staticClass:\"l-margin-r-m\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.closeDialogInfo()}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.dialogInfo.loading},on:{\"click\":_vm.submitDialogInfo}},[_vm._v(\"确定提交\")])],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-container class=\"l-h100\">\r\n    <el-header class=\"l-padding-0 l-bg-white\" height=\"auto\">\r\n      <div class=\"l-filter-top\">\r\n        <ul class=\"l-tab-tit\">\r\n          <li class=\"_active2\">菜单列表</li>\r\n          <li @click=\"$router.replace('/role/list')\">角色列表</li>\r\n        </ul>\r\n      </div>\r\n    </el-header>\r\n    <el-main>\r\n      <div class=\"l-menu-box l-bg-white\">\r\n        <div class=\"l-flex-hc _tit\">\r\n          <b>菜单名称</b>\r\n          <div class=\"l-margin-l\">\r\n            <el-input placeholder=\"输入关键字进行过滤\" v-model=\"filterText\"> </el-input>\r\n          </div>\r\n          <div class=\"l-rest l-txt-center\">\r\n            <span v-show=\"loading\" class=\"l-txt-warn\"><i class=\"el-icon-loading\"></i>&nbsp;加载中...</span>\r\n          </div>\r\n          <el-button :disabled=\"loading\" type=\"text\" @click=\"showDialogInfo('new')\">添加一级菜单</el-button>\r\n        </div>\r\n        <el-tree v-if=\"menuList\" ref=\"menuTree\" class=\"l-menu-list\" highlight-current node-key=\"id\" :default-expanded-keys=\"[1]\" :data=\"menuList\" :props=\"menuProps\" :render-content=\"renderContent\" :filter-node-method=\"filterNode\">\r\n        </el-tree>\r\n\r\n        <!-- 新增/编辑菜单 -->\r\n        <el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :before-close=\"closeDialogInfo\" :title=\"dialogInfo.title\" :visible.sync=\"dialogInfo.visible\" width=\"480px\">\r\n          <el-form ref=\"infoForm\" label-width=\"90px\" style=\"width: 432px;\" :model=\"dialogInfo.data\" :rules=\"dialogInfo.rules\" @keyup.enter.native=\"submitDialogInfo\">\r\n            <el-form-item label=\"菜单名称\" prop=\"name\">\r\n              <el-input v-model=\"dialogInfo.data.name\" :maxlength=\"50\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"菜单URL\" prop=\"src\">\r\n              <el-input v-model=\"dialogInfo.data.src\" :maxlength=\"50\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"菜单Code\" prop=\"code\">\r\n              <el-input v-model=\"dialogInfo.data.code\" :maxlength=\"50\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"备注\" prop=\"remark\">\r\n              <el-input v-model=\"dialogInfo.data.remark\" :maxlength=\"50\"></el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n          <span slot=\"footer\" class=\"l-margin-r-m\">\r\n            <el-button @click=\"closeDialogInfo()\">取消</el-button>\r\n            <el-button type=\"primary\" :loading=\"dialogInfo.loading\" @click=\"submitDialogInfo\">确定提交</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </div>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n<script>\r\nfunction preventClick(e) {\r\n\te.stopPropagation()\r\n\treturn false\r\n}\r\nexport default {\r\n  name: 'menu-list',\r\n  data() {\r\n    return {\r\n      filterText: '',\r\n      loading: false,\r\n      menuList: [],\r\n      menuProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n\t\t\tdialogInfo: {\r\n\t\t\t\ttype: 'new',\r\n\t\t\t\ttitle: '新增菜单',\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\trules: {\r\n\t\t\t\t\tname: [\r\n\t\t\t\t\t\t{ required: true, message: '必填项', trigger: 'blur' }\r\n          ]\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tparentId: 0,\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tname: '',\r\n          src: '',\r\n          code: '',\r\n\t\t\t\t\tremark: ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n    }\r\n  },\r\n  watch: {\r\n    filterText(val) {\r\n      this.$refs.menuTree.filter(val)\r\n    }\r\n  },\r\n  methods: {\r\n    filterNode(value, data) {\r\n      if (!value) return true\r\n      return data.name.indexOf(value) !== -1\r\n    },\r\n    getList() {\r\n      this.loading = true\r\n      this.$api.menu.getList().then(({data}) => {\r\n        this.menuList = data || []\r\n      }).finally(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n\t\tshowDialogInfo(type = 'new', data) { // 新增/修改菜单\r\n\t\t\tthis.dialogInfo.type = type\r\n\t\t\tif(type === 'edit') {\r\n        this.dialogInfo.title = '修改菜单'\r\n        this.dialogInfo.currentNodeData = data\r\n\t\t\t\tthis.$utils.copyObj(this.dialogInfo.data, data)\r\n\t\t\t} else {\r\n\t\t\t\tthis.dialogInfo.title = '新增菜单'\r\n\t\t\t\tthis.resetDialogInfo()\r\n\t\t\t\tthis.dialogInfo.data.parentId = data ? data.id : 0\r\n\t\t\t}\r\n\t\t\tthis.dialogInfo.visible = true\r\n\t\t},\r\n\t\tcloseDialogInfo(done) {\r\n\t\t\tif(done) {\r\n\t\t\t\tdone()\r\n\t\t\t}else{\r\n\t\t\t\tthis.dialogInfo.visible = false\t\r\n\t\t\t}\r\n\t\t\tthis.resetDialogInfo()\r\n\t\t},\r\n\t\tresetDialogInfo() {\r\n\t\t\tthis.$refs.infoForm && this.$refs.infoForm.resetFields()\r\n\t\t\tthis.$utils.copyObj(this.dialogInfo.data, '')\r\n\t\t},\r\n\t\tsubmitDialogInfo() { // 提交菜单信息\r\n\t\t\tthis.$refs.infoForm.validate(valid => {\r\n        if (valid) {\r\n\t\t\t\t\tthis.dialogInfo.loading = true\r\n\t\t\t\t\tlet promise = this.dialogInfo.type == 'edit' ? this.$api.menu.edit(this.dialogInfo.data) : this.$api.menu.add(this.dialogInfo.data)\r\n          promise.then(({data}, message) => {\r\n\t\t\t\t\t\tif(this.dialogInfo.type == 'edit') {\r\n              message = '修改菜单成功'\r\n              this.$utils.copyObj(this.dialogInfo.currentNodeData, this.dialogInfo.data)\r\n\t\t\t\t\t\t\tthis.$refs.menuTree.setCurrentKey(this.dialogInfo.data.id)\r\n\t\t\t\t\t\t}else {\r\n              message = '新增菜单成功'\r\n\t\t\t\t\t\t\tlet newChild = Object.assign({}, this.dialogInfo.data, { id: data.id, children: [] })\r\n              this.menuList.unshift(newChild)\r\n\t\t\t\t\t\t\tthis.$refs.menuTree.setCurrentKey(newChild.id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$message.success(message)\r\n\t\t\t\t\t\tthis.closeDialogInfo()\r\n\t\t\t\t\t\t\r\n          }).finally(()=>{\r\n            this.dialogInfo.loading = false\r\n          })  \r\n        }\r\n      })\r\n\t\t},\r\n\t\tdeleteInfo(node, data) { // 删除菜单\r\n\t\t\tthis.$confirm('是否确定删除该菜单？').then(() => {\r\n\t\t\t\tthis.$api.menu.del(data.id).then(() => {\r\n          this.$message.success('删除菜单成功')\r\n          \r\n\t\t\t\t\tconst parent = node.parent\r\n          const children = parent.data.children || parent.data\r\n          const index = children.findIndex(menu => menu.id === data.id)\r\n          children.splice(index, 1)\r\n\t\t\t\t})\r\n      })\r\n\t\t},\r\n    renderContent(h, { node, data, store }) {\r\n      return (\r\n        <div style=\"flex:1;\" class=\"l-flex-hc\">\r\n          <span class=\"l-rest\">\r\n            <span id={data.id}>{data.name}</span>\r\n          </span>\r\n          <span class=\"l-padding-r\" onClick={ preventClick }>\r\n            <el-button class=\"l-txt-error\" type=\"text\" onClick={ () => this.deleteInfo(node, data) }>删除</el-button>\r\n            <el-button class=\"l-txt-link\" type=\"text\" onClick={ () => this.showDialogInfo('edit', data) }>编辑</el-button>\r\n            <el-button class=\"l-txt-link\" type=\"text\" onClick={ () => this.showDialogInfo('new', data) }>添加子菜单</el-button>\r\n          </span>\r\n        </div>\r\n      )\r\n    }\r\n  },\r\n  mounted() {\r\n\t\tthis.getList()\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.l-menu-box{\r\n\twidth: 800px;\r\n\t._tit{ padding: 0.75rem; }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-list.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menu-list.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./menu-list.vue?vue&type=template&id=7ef24984&scoped=true\"\nimport script from \"./menu-list.vue?vue&type=script&lang=js\"\nexport * from \"./menu-list.vue?vue&type=script&lang=js\"\nimport style0 from \"./menu-list.vue?vue&type=style&index=0&id=7ef24984&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ef24984\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}